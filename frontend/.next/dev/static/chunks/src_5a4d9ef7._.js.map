{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["E:/Attack Capital/SignalHub/frontend/src/components/ui/ImageCropper.tsx"],"sourcesContent":["\"use client\";\r\n\r\n\r\nimport React, { useCallback, useEffect, useRef, useState } from \"react\";\r\n// Note: This component uses `react-easy-crop` and a tiny helper to convert crops to blobs.\r\n// Install: npm i react-easy-crop\r\n\r\n\r\nimport Cropper from \"react-easy-crop\";\r\n\r\n\r\nfunction getCroppedImg(imageSrc: string, pixelCrop: any) {\r\nconst canvas = document.createElement(\"canvas\");\r\ncanvas.width = pixelCrop.width;\r\ncanvas.height = pixelCrop.height;\r\nconst ctx = canvas.getContext(\"2d\");\r\nreturn new Promise<Blob | null>((resolve) => {\r\nconst image = new Image();\r\nimage.crossOrigin = \"anonymous\";\r\nimage.onload = () => {\r\nctx!.drawImage(\r\nimage,\r\npixelCrop.x,\r\npixelCrop.y,\r\npixelCrop.width,\r\npixelCrop.height,\r\n0,\r\n0,\r\npixelCrop.width,\r\npixelCrop.height\r\n);\r\ncanvas.toBlob((blob) => resolve(blob), \"image/png\");\r\n};\r\nimage.src = imageSrc;\r\n});\r\n}\r\n\r\n\r\nexport default function ImageCropper({ file, onCancel, onCropped }: { file: File; onCancel: () => void; onCropped: (blobUrl: string) => void }) {\r\nconst [imageSrc, setImageSrc] = useState<string | null>(null);\r\nconst [crop, setCrop] = useState({ x: 0, y: 0 });\r\nconst [zoom, setZoom] = useState(1);\r\nconst [croppedAreaPixels, setCroppedAreaPixels] = useState<any>(null);\r\n\r\n\r\nuseEffect(() => {\r\nconst reader = new FileReader();\r\nreader.onload = () => setImageSrc(reader.result as string);\r\nreader.readAsDataURL(file);\r\n}, [file]);\r\n\r\n\r\nconst onCropComplete = useCallback((_: any, croppedAreaPixelsLocal: any) => {\r\nsetCroppedAreaPixels(croppedAreaPixelsLocal);\r\n}, []);\r\n\r\n\r\nasync function handleDone() {\r\nif (!imageSrc || !croppedAreaPixels) return;\r\nconst blob = await getCroppedImg(imageSrc, croppedAreaPixels);\r\nif (!blob) return alert(\"Failed to crop image\");\r\nconst url = URL.createObjectURL(blob);\r\nonCropped(url);\r\n}\r\n\r\n\r\nreturn (\r\n<div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50\">\r\n<div className=\"bg-white rounded-2xl w-[92%] max-w-3xl p-4\">\r\n<div className=\"flex items-center justify-between mb-2\">\r\n<h3 className=\"text-lg font-semibold\">Adjust your photo</h3>\r\n<div className=\"flex gap-2\">\r\n<button onClick={onCancel} className=\"px-3 py-1 border rounded\">Cancel</button>\r\n<button onClick={handleDone} className=\"px-3 py-1 bg-indigo-600 text-white rounded\">Done</button>\r\n</div>\r\n</div>\r\n\r\n\r\n<div className=\"relative h-80 bg-gray-100 rounded overflow-hidden\">\r\n{imageSrc && (\r\n<Cropper image={imageSrc} crop={crop} zoom={zoom} aspect={1} onCropChange={setCrop} onZoomChange={setZoom} onCropComplete={onCropComplete} />\r\n)}\r\n</div>\r\n\r\n\r\n<div className=\"mt-3 flex items-center gap-4\">\r\n<label className=\"text-xs\">Zoom</label>\r\n<input type=\"range\" min={1} max={3} step={0.01} value={zoom} onChange={(e)=>setZoom(Number(e.target.value))} className=\"w-full\" />\r\n</div>\r\n</div>\r\n</div>\r\n);\r\n}"],"names":["c","_c","React","useCallback","useEffect","useRef","useState","Cropper","getCroppedImg","imageSrc","pixelCrop","canvas","document","createElement","width","height","ctx","getContext","Promise","Blob","resolve","image","Image","crossOrigin","onload","drawImage","x","y","toBlob","blob","src","ImageCropper","t0","$","$i","Symbol","for","file","onCancel","onCropped","setImageSrc","t1","crop","setCrop","zoom","setZoom","croppedAreaPixels","setCroppedAreaPixels","t2","t3","ImageCropper[useEffect()]","reader","FileReader","result","readAsDataURL","t4","ImageCropper[onCropComplete]","_","croppedAreaPixelsLocal","onCropComplete","t5","handleDone","alert","url","URL","createObjectURL","t6","t7","t8","t9","t10","t11","t12","t13","e","Number","target","value","t14","t15"],"mappings":"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","ignoreList":[],"debugId":null}},
    {"offset": {"line": 319, "column": 0}, "map": {"version":3,"sources":["E:/Attack Capital/SignalHub/frontend/src/components/forms/ProfileForm.tsx"],"sourcesContent":["// File: app/account/components/ProfileForm.tsx\r\n\"use client\";\r\n\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport ImageCropper from \"../ui/ImageCropper\";\r\n\r\ntype CountryItem = {\r\n  name: string;\r\n  code: string;\r\n  region?: string;\r\n  languages?: Record<string, string> | string[] | string;\r\n};\r\n\r\ntype Props = { onChangePassword?: () => void };\r\n\r\n/**\r\n * ProfileForm\r\n *\r\n * - Reads country/region/district/language from Profile.metadata (DB)\r\n * - Writes profile fields to server; server persists extras in metadata\r\n * - Preloads states/districts and preselects them when user has values saved\r\n */\r\nexport default function ProfileForm({ onChangePassword }: Props) {\r\n  const [user, setUser] = useState<any | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [editing, setEditing] = useState(false);\r\n  const [saving, setSaving] = useState(false);\r\n\r\n  const [form, setForm] = useState<any>({\r\n    name: \"\",\r\n    displayName: \"\",\r\n    email: \"\",\r\n    phone: \"\",\r\n    avatarUrl: \"\",\r\n    bio: \"\",\r\n    country: \"\",\r\n    region: \"\",\r\n    postalCode: \"\",\r\n    language: \"\",\r\n    district: \"\",\r\n  });\r\n\r\n  // meta lists\r\n  const [countries, setCountries] = useState<CountryItem[]>([]);\r\n  const [languages, setLanguages] = useState<string[]>([]);\r\n\r\n  const [states, setStates] = useState<string[]>([]);\r\n  const [statesLoading, setStatesLoading] = useState(false);\r\n  const [statesError, setStatesError] = useState<string | null>(null);\r\n\r\n  const [districts, setDistricts] = useState<string[]>([]);\r\n  const [districtsLoading, setDistrictsLoading] = useState(false);\r\n  const [districtsError, setDistrictsError] = useState<string | null>(null);\r\n\r\n  // photo cropping\r\n  const [rawFile, setRawFile] = useState<File | null>(null);\r\n  const [cropOpen, setCropOpen] = useState(false);\r\n  const [croppedBlobUrl, setCroppedBlobUrl] = useState<string | null>(null);\r\n\r\n  const fileInputRef = useRef<HTMLInputElement | null>(null);\r\n\r\n  // -------------------------\r\n  // Load meta data (countries + languages)\r\n  // -------------------------\r\n  useEffect(() => {\r\n    let mounted = true;\r\n\r\n    async function loadMeta() {\r\n      try {\r\n        const r = await fetch(\"/api/meta/countries\");\r\n        if (!r.ok) throw new Error(\"meta endpoint failed\");\r\n        const j = await r.json().catch(() => ({ ok: false }));\r\n\r\n        const rawCountries = Array.isArray(j.countries) ? j.countries : (Array.isArray(j) ? j : j?.countries ?? null);\r\n        if (!rawCountries || !Array.isArray(rawCountries) || rawCountries.length === 0) throw new Error(\"no-countries\");\r\n\r\n        const normalized = rawCountries\r\n          .map((c: any) => {\r\n            const name = c?.name?.common ?? c?.name ?? c?.countryName ?? \"\";\r\n            const code = c?.code ?? c?.cca2 ?? \"\";\r\n            const region = c?.region ?? \"\";\r\n            const languages = c?.languages ?? c?.language ?? c?.langs ?? {};\r\n            return { name, code, region, languages };\r\n          })\r\n          .filter((c: any) => c.name);\r\n\r\n        const langSet = new Set<string>();\r\n        for (const c of normalized) {\r\n          if (!c.languages) continue;\r\n          if (typeof c.languages === \"object\" && !Array.isArray(c.languages)) {\r\n            Object.values(c.languages).forEach((ln: any) => typeof ln === \"string\" && ln.trim() && langSet.add(ln));\r\n          } else if (Array.isArray(c.languages)) {\r\n            c.languages.forEach((ln: any) => typeof ln === \"string\" && ln.trim() && langSet.add(ln));\r\n          } else if (typeof c.languages === \"string\") {\r\n            langSet.add(c.languages);\r\n          }\r\n        }\r\n\r\n        if (!mounted) return;\r\n        setCountries(normalized.sort((a, b) => a.name.localeCompare(b.name)));\r\n        setLanguages(Array.from(langSet).sort((a, b) => a.localeCompare(b)));\r\n        return;\r\n      } catch (err) {\r\n        // fallback to restcountries\r\n      }\r\n\r\n      try {\r\n        const fields = \"name,cca2,region,languages\";\r\n        const res2 = await fetch(`https://restcountries.com/v3.1/all?fields=${fields}`);\r\n        if (!res2.ok) throw new Error(\"restcountries failed\");\r\n        const data = await res2.json();\r\n        const countryList: any[] = [];\r\n        const langSet2 = new Set<string>();\r\n        for (const c of data) {\r\n          const name = c?.name?.common ?? c?.name ?? \"\";\r\n          const code = c?.cca2 ?? \"\";\r\n          const region = c?.region ?? \"\";\r\n          countryList.push({ name, code, region, languages: c?.languages ?? {} });\r\n          if (c?.languages) Object.values(c.languages).forEach((l: any) => typeof l === \"string\" && l.trim() && langSet2.add(l));\r\n        }\r\n        if (!mounted) return;\r\n        setCountries(countryList.sort((a, b) => a.name.localeCompare(b.name)));\r\n        setLanguages(Array.from(langSet2).sort((a, b) => a.localeCompare(b)));\r\n      } catch (err) {\r\n        console.error(\"Failed to load countries meta\", err);\r\n        if (!mounted) return;\r\n        setCountries([]);\r\n        setLanguages([]);\r\n      }\r\n    }\r\n\r\n    loadMeta();\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, []);\r\n\r\n  // -------------------------\r\n  // Load user on mount (preselect country/state/district)\r\n  // -------------------------\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    async function load() {\r\n      setLoading(true);\r\n      try {\r\n        const res = await fetch(\"/api/me\", { credentials: \"include\" });\r\n        const json = await res.json().catch(() => ({ ok: false }));\r\n\r\n        if (json?.ok && json.user) {\r\n          const u = json.user;\r\n          const profile = u.profile ?? {};\r\n          const meta = (profile.metadata as any) ?? {};\r\n\r\n          const mapped = {\r\n            name: u.name ?? \"\",\r\n            displayName: profile.displayName ?? meta.displayName ?? \"\",\r\n            avatarUrl: profile.avatarUrl ?? meta.avatarUrl ?? \"\",\r\n            bio: profile.bio ?? meta.bio ?? \"\",\r\n            country: profile.country ?? meta.country ?? meta.countryCode ?? \"\",\r\n            region: profile.region ?? meta.region ?? \"\",\r\n            postalCode:\r\n              profile.postalCode ??\r\n              meta.postalCode ??\r\n              meta.postal_code ??\r\n              \"\",\r\n            language: profile.language ?? meta.language ?? \"\",\r\n            district: profile.district ?? meta.district ?? \"\",\r\n            email: u.email ?? \"\",\r\n            phone: profile.phoneNumber ?? u.phone ?? \"\",\r\n          };\r\n\r\n          if (!mounted) return;\r\n          setUser(u);\r\n          setForm(mapped);\r\n          setCroppedBlobUrl(null);\r\n          // Preload states & districts when appropriate\r\n          if (mapped.country) {\r\n            await fetchStates(mapped.country, mapped.region);\r\n            if (mapped.region) {\r\n              await fetchDistricts(mapped.country, mapped.region, mapped.district);\r\n            }\r\n          }\r\n        } else {\r\n          (window as any).location = \"/login\";\r\n        }\r\n      } catch (err) {\r\n        console.error(\"Failed to load /api/me\", err);\r\n        (window as any).location = \"/login\";\r\n      } finally {\r\n        if (mounted) setLoading(false);\r\n      }\r\n    }\r\n    load();\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  // -------------------------\r\n  // Cascading fetchers\r\n  // -------------------------\r\n  async function fetchStates(countryName: string, preselectState: string = \"\") {\r\n    setStates([]);\r\n    setStatesError(null);\r\n    setStatesLoading(true);\r\n    setForm((p: any) => ({ ...p, region: \"\" }));\r\n    setDistricts([]);\r\n    setForm((p: any) => ({ ...p, district: \"\" }));\r\n\r\n    try {\r\n      const res = await fetch(\"https://countriesnow.space/api/v0.1/countries/states\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ country: countryName }),\r\n      });\r\n      if (!res.ok) throw new Error(`States fetch failed (${res.status})`);\r\n      const json = await res.json();\r\n\r\n      let stateNames: string[] = [];\r\n      if (json?.data) {\r\n        const d = json.data;\r\n        if (Array.isArray(d)) {\r\n          const found = d.find((x: any) => {\r\n            const n = (x?.name ?? \"\").toLowerCase();\r\n            return n === countryName.toLowerCase() || n.includes(countryName.toLowerCase());\r\n          });\r\n          if (found) {\r\n            if (Array.isArray(found.states)) {\r\n              stateNames = (found.states[0] && typeof found.states[0] === \"object\")\r\n                ? found.states.map((s: any) => s.name).filter(Boolean)\r\n                : found.states.slice();\r\n            }\r\n          } else {\r\n            const first = d[0];\r\n            if (first?.states) {\r\n              if (Array.isArray(first.states)) {\r\n                stateNames = (typeof first.states[0] === \"object\")\r\n                  ? first.states.map((s: any) => s.name).filter(Boolean)\r\n                  : first.states.slice();\r\n              }\r\n            }\r\n          }\r\n        } else if (typeof d === \"object\" && Array.isArray(d.states)) {\r\n          stateNames = typeof d.states[0] === \"object\" ? d.states.map((s: any) => s.name).filter(Boolean) : d.states.slice();\r\n        }\r\n      } else if (Array.isArray(json?.states)) {\r\n        stateNames = typeof json.states[0] === \"object\" ? json.states.map((s: any) => s.name).filter(Boolean) : json.states.slice();\r\n      }\r\n\r\n      stateNames = Array.from(new Set(stateNames)).sort((a, b) => a.localeCompare(b));\r\n      setStates(stateNames);\r\n      if (preselectState && stateNames.includes(preselectState)) {\r\n        setForm((p: any) => ({ ...p, region: preselectState }));\r\n      }\r\n    } catch (err: any) {\r\n      console.warn(\"fetchStates error\", err);\r\n      setStatesError(\"Could not load states for this country.\");\r\n    } finally {\r\n      setStatesLoading(false);\r\n    }\r\n  }\r\n\r\n  async function fetchDistricts(countryName: string, stateName: string, preselectDistrict: string = \"\") {\r\n    setDistricts([]);\r\n    setDistrictsError(null);\r\n    setDistrictsLoading(true);\r\n    setForm((p: any) => ({ ...p, district: \"\" }));\r\n\r\n    try {\r\n      const res = await fetch(\"https://countriesnow.space/api/v0.1/countries/state/cities\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ country: countryName, state: stateName }),\r\n      });\r\n      if (!res.ok) throw new Error(`Districts fetch failed (${res.status})`);\r\n      const json = await res.json();\r\n\r\n      let items: string[] = [];\r\n      if (Array.isArray(json?.data)) {\r\n        items = json.data.slice();\r\n      } else if (Array.isArray(json?.cities)) {\r\n        items = json.cities.slice();\r\n      } else if (json?.data?.cities && Array.isArray(json.data.cities)) {\r\n        items = json.data.cities.slice();\r\n      }\r\n\r\n      items = Array.from(new Set(items)).sort((a, b) => a.localeCompare(b));\r\n      setDistricts(items);\r\n      if (preselectDistrict && items.includes(preselectDistrict)) {\r\n        setForm((p: any) => ({ ...p, district: preselectDistrict }));\r\n      }\r\n    } catch (err: any) {\r\n      console.warn(\"fetchDistricts error\", err);\r\n      setDistrictsError(\"Could not load districts for this state.\");\r\n    } finally {\r\n      setDistrictsLoading(false);\r\n    }\r\n  }\r\n\r\n  // on change handlers\r\n  async function onCountryChange(newCountry: string) {\r\n    setForm((p: any) => ({ ...p, country: newCountry, region: \"\", district: \"\" }));\r\n    if (newCountry) {\r\n      await fetchStates(newCountry);\r\n      const found = countries.find((c) => c.name === newCountry || c.code === newCountry);\r\n      if (found?.languages) {\r\n        const vals = Array.isArray(found.languages) ? found.languages : Object.values(found.languages ?? {});\r\n        if (vals.length && !form.language) setForm((p: any) => ({ ...p, language: vals[0] as string }));\r\n      }\r\n    } else {\r\n      setStates([]);\r\n      setDistricts([]);\r\n    }\r\n  }\r\n\r\n  async function onStateChange(newState: string) {\r\n    setForm((p: any) => ({ ...p, region: newState, district: \"\" }));\r\n    if (newState && form.country) {\r\n      await fetchDistricts(form.country, newState);\r\n    } else {\r\n      setDistricts([]);\r\n    }\r\n  }\r\n\r\n  // -------------------------\r\n  // Photo helpers\r\n  // -------------------------\r\n  function handleFileSelect(file?: File | null) {\r\n    if (!file) {\r\n      setRawFile(null);\r\n      return;\r\n    }\r\n    if (!file.type.startsWith(\"image/\")) {\r\n      alert(\"Please select an image file.\");\r\n      return;\r\n    }\r\n    if (file.size > 5 * 1024 * 1024) {\r\n      alert(\"Max 5MB\");\r\n      return;\r\n    }\r\n    setRawFile(file);\r\n    setCropOpen(true);\r\n  }\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      if (croppedBlobUrl) {\r\n        try {\r\n          URL.revokeObjectURL(croppedBlobUrl);\r\n        } catch {}\r\n      }\r\n    };\r\n  }, [croppedBlobUrl]);\r\n\r\n  async function uploadPhoto(file: File | null) {\r\n    if (!file) return form.avatarUrl || null;\r\n    try {\r\n      const fd = new FormData();\r\n      fd.append(\"file\", file);\r\n      const res = await fetch(\"/api/upload\", { method: \"POST\", body: fd });\r\n      const json = await res.json();\r\n      if (json?.ok && json.url) return json.url;\r\n      throw new Error(json?.error || \"Upload failed\");\r\n    } catch (err) {\r\n      console.warn(\"uploadPhoto failed\", err);\r\n      throw err;\r\n    }\r\n  }\r\n\r\n  // -------------------------\r\n  // Save handler\r\n  // -------------------------\r\n  async function handleSave(e?: React.FormEvent) {\r\n    if (e) e.preventDefault();\r\n    setSaving(true);\r\n    try {\r\n      if (!form.name?.trim()) {\r\n        alert(\"Please provide your full name.\");\r\n        setSaving(false);\r\n        return;\r\n      }\r\n\r\n      let avatarUrl = form.avatarUrl ?? null;\r\n      if (croppedBlobUrl) {\r\n        const blob = await (await fetch(croppedBlobUrl)).blob();\r\n        const file = new File([blob], \"avatar.png\", { type: blob.type || \"image/png\" });\r\n        try {\r\n          const uploaded = await uploadPhoto(file);\r\n          if (uploaded) avatarUrl = uploaded;\r\n        } catch (err) {\r\n          alert(\"Failed to upload photo. Please try again.\");\r\n          setSaving(false);\r\n          return;\r\n        }\r\n      }\r\n\r\n      const body = {\r\n        name: form.name,\r\n        phone: form.phone,\r\n        profile: {\r\n          displayName: form.displayName,\r\n          avatarUrl,\r\n          bio: form.bio,\r\n          country: form.country,\r\n          region: form.region,\r\n          district: form.district,\r\n          postalCode: form.postalCode,\r\n          language: form.language,\r\n        },\r\n      };\r\n\r\n      const res = await fetch(\"/api/me\", {\r\n        method: \"PATCH\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        credentials: \"include\",\r\n        body: JSON.stringify(body),\r\n      });\r\n\r\n      if (res.status === 401) {\r\n        alert(\"Session expired — please log in again.\");\r\n        window.location.href = \"/login\";\r\n        return;\r\n      }\r\n\r\n      const json = await res.json().catch(() => ({ ok: false }));\r\n      if (json.ok && json.user) {\r\n        // server returns canonical user with profile relation and metadata\r\n        const u = json.user;\r\n        const profile = u.profile ?? {};\r\n        const meta = (profile.metadata as any) ?? {};\r\n\r\n        const mapped = {\r\n          name: u.name ?? \"\",\r\n          displayName: profile.displayName ?? meta.displayName ?? \"\",\r\n          email: u.email ?? \"\",\r\n          phone: profile.phoneNumber ?? u.phone ?? \"\",\r\n          avatarUrl: profile.avatarUrl ?? meta.avatarUrl ?? avatarUrl ?? \"\",\r\n          bio: profile.bio ?? meta.bio ?? \"\",\r\n          country: profile.country ?? meta.country ?? \"\",\r\n          region: profile.region ?? meta.region ?? \"\",\r\n          district: profile.district ?? meta.district ?? \"\",\r\n          postalCode: profile.postalCode ?? meta.postalCode ?? meta.postal_code ?? \"\",\r\n          language: profile.language ?? meta.language ?? \"\",\r\n        };\r\n\r\n        setUser(u);\r\n        setForm(mapped);\r\n        setEditing(false);\r\n        setCroppedBlobUrl(null);\r\n        setRawFile(null);\r\n\r\n        // preload states/districts for selected country/region\r\n        if (mapped.country) {\r\n          await fetchStates(mapped.country, mapped.region);\r\n          if (mapped.region) await fetchDistricts(mapped.country, mapped.region, mapped.district);\r\n        }\r\n\r\n      \r\n      } else if (json.ok) {\r\n        setUser((u: any) => ({ ...(u ?? {}), name: form.name, phone: form.phone, profile: { ...(u?.profile ?? {}), ...(body.profile ?? {}) } }));\r\n        setEditing(false);\r\n        alert(\"Profile saved (optimistic).\");\r\n      } else {\r\n        alert(json.error || \"Save failed\");\r\n      }\r\n    } catch (err) {\r\n      console.error(\"save error\", err);\r\n      alert(\"Unexpected error while saving.\");\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  }\r\n\r\n  // -------------------------\r\n  // Render\r\n  // -------------------------\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-[50vh] flex items-center justify-center p-6\">\r\n        <div className=\"text-slate-500 animate-pulse\">Loading profile…</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!user) {\r\n    return (\r\n      <div className=\"p-6\">\r\n        <div className=\"rounded bg-white p-6 shadow text-center\">\r\n          No user data — please{\" \"}\r\n          <button className=\"text-indigo-600\" onClick={() => (window.location.href = \"/login\")}>\r\n            sign in\r\n          </button>\r\n          .\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // helpers to read metadata-aware values for display (prefer explicit columns, then metadata)\r\n  const profile = user.profile ?? {};\r\n  const meta = (profile.metadata as any) ?? {};\r\n\r\n  const displayCountry = profile.country ?? meta.country ?? \"—\";\r\n  const displayRegion = profile.region ?? meta.region ?? \"—\";\r\n  const displayDistrict = profile.district ?? meta.district ?? \"—\";\r\n  const displayPostal = profile.postalCode ?? meta.postalCode ?? meta.postal_code ?? \"—\";\r\n  const displayLanguage = profile.language ?? meta.language ?? \"—\";\r\n\r\n  return (\r\n    <div className=\"bg-gradient-to-tr from-white via-slate-50 to-white rounded-2xl p-6 shadow-md border-none\">\r\n      <div className=\"flex gap-6\">\r\n        {/* Avatar */}\r\n        <div className=\"relative flex-shrink-0\">\r\n          <div className=\"w-32 h-32 rounded-2xl bg-gradient-to-br from-indigo-50 to-emerald-50 overflow-hidden flex items-center justify-center border-2 border-white shadow-lg\">\r\n            {croppedBlobUrl || form.avatarUrl ? (\r\n              // eslint-disable-next-line @next/next/no-img-element\r\n              <img src={croppedBlobUrl ?? form.avatarUrl!} alt=\"avatar\" className=\"w-full h-full object-cover\" />\r\n            ) : (\r\n              <div className=\"text-4xl font-semibold text-slate-700\">{(form.name || form.email || \"U\").charAt(0)}</div>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"absolute -right-3 -bottom-3 flex gap-2\">\r\n            <button\r\n              onClick={() => {\r\n                setEditing(true);\r\n                fileInputRef.current?.click();\r\n              }}\r\n              className=\"inline-flex items-center gap-2 px-3 py-1 rounded-md bg-white border shadow-sm text-xs\"\r\n            >\r\n              Upload\r\n            </button>\r\n\r\n            <button\r\n              onClick={() => {\r\n                setRawFile(null);\r\n                setCroppedBlobUrl(null);\r\n                setForm((p: any) => ({ ...p, avatarUrl: profile.avatarUrl ?? meta.avatarUrl ?? \"\" }));\r\n              }}\r\n              className=\"inline-flex items-center gap-2 px-3 py-1 rounded-md bg-white border shadow-sm text-xs\"\r\n            >\r\n              Revert\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Heading & actions */}\r\n        <div className=\"flex-1\">\r\n          <div className=\"flex items-center justify-between gap-4\">\r\n            <div>\r\n              <h1 className=\"text-2xl font-extrabold text-slate-900\">{user.name || user.email}</h1>\r\n              <div className=\"text-sm text-slate-500\">{user.email}</div>\r\n              <div className=\"mt-3 inline-flex items-center gap-2\">\r\n                <div className=\"text-xs px-2 py-1 rounded bg-emerald-50 text-emerald-700 border border-emerald-100\">{user.role ?? \"Member\"}</div>\r\n                <div className=\"text-xs px-2 py-1 rounded bg-slate-50 text-slate-600\">Joined {new Date(user.createdAt).toLocaleDateString()}</div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex gap-2\">\r\n              <button\r\n                onClick={() => (editing ? handleSave() : setEditing(true))}\r\n                className={`inline-flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium shadow-sm ${editing ? \"bg-indigo-600 text-white\" : \"bg-white border\"}`}\r\n                disabled={saving}\r\n              >\r\n                {editing ? (saving ? \"Saving…\" : \"Save\") : \"Edit\"}\r\n              </button>\r\n\r\n              <button onClick={() => (window.location.href = \"/\")} className=\"inline-flex items-center gap-2 px-3 py-2 rounded-lg text-sm border bg-white\">\r\n                Back\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <p className=\"mt-4 text-sm text-slate-600\">A modern profile editor with smart cascading selects and image cropper. All changes are saved to your account.</p>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"mt-6\">\r\n        {!editing ? (\r\n          // display mode\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n            <div className=\"space-y-3\">\r\n              <h2 className=\"text-sm font-semibold text-slate-600\">Profile</h2>\r\n              <div className=\"mt-3 space-y-3\">\r\n                <div>\r\n                  <div className=\"text-xs text-slate-500\">Full name</div>\r\n                  <div className=\"font-medium text-slate-800 \">{user.name ?? \"—\"}</div>\r\n                </div>\r\n                <div>\r\n                  <div className=\"text-xs text-slate-500\">Display name</div>\r\n                  <div className=\"font-medium text-slate-800\">{profile.displayName ?? meta.displayName ?? \"—\"}</div>\r\n                </div>\r\n                <div>\r\n                  <div className=\"text-xs text-slate-500\">Phone</div>\r\n                  <div className=\"font-medium text-slate-800\">{user.phone ?? profile.phoneNumber ?? \"—\"}</div>\r\n                </div>\r\n                <div>\r\n                  <div className=\"text-xs text-slate-500\">Bio</div>\r\n                  <div className=\"font-medium whitespace-pre-wrap text-slate-800\">{profile.bio ?? meta.bio ?? \"—\"}</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"space-y-3\">\r\n              <h2 className=\"text-sm font-semibold text-slate-600\">Location & language</h2>\r\n              <div className=\"mt-3 space-y-3\">\r\n                <div>\r\n                  <div className=\"text-xs text-slate-500\">Country</div>\r\n                  <div className=\"font-medium text-slate-800\">{displayCountry}</div>\r\n                </div>\r\n                <div>\r\n                  <div className=\"text-xs text-slate-500\">Region / State</div>\r\n                  <div className=\"font-medium text-slate-800\">{displayRegion}</div>\r\n                </div>\r\n                <div>\r\n                  <div className=\"text-xs text-slate-500\">District</div>\r\n                  <div className=\"font-medium text-slate-800\">{displayDistrict}</div>\r\n                </div>\r\n                <div>\r\n                  <div className=\"text-xs text-slate-500\">Postal code</div>\r\n                  <div className=\"font-medium text-slate-800\">{displayPostal}</div>\r\n                </div>\r\n                <div>\r\n                  <div className=\"text-xs text-slate-500\">Language</div>\r\n                  <div className=\"font-medium text-slate-800\">{displayLanguage}</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          // edit form\r\n          <form onSubmit={handleSave} className=\"space-y-6 mt-4\">\r\n            <input ref={fileInputRef} type=\"file\" accept=\"image/*\" onChange={(e) => handleFileSelect(e.target.files?.[0] ?? null)} className=\"hidden\" />\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 \">\r\n              <FloatingInput label=\"Full name\" value={form.name} onChange={(v) => setForm({ ...form, name: v })} required />\r\n              <FloatingInput label=\"Display name\" value={form.displayName} onChange={(v) => setForm({ ...form, displayName: v })} />\r\n              <FloatingInput label=\"Phone\" value={form.phone} onChange={(v) => setForm({ ...form, phone: v })} />\r\n              <FloatingInput label=\"Postal code\" value={form.postalCode} onChange={(v) => setForm({ ...form, postalCode: v })} />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"text-xs text-slate-500\">Bio</label>\r\n              <textarea value={form.bio} onChange={(e) => setForm({ ...form, bio: e.target.value })} rows={4} className=\"w-full mt-1 p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-200 border-none bg-indigo-50\" placeholder=\"Tell people about yourself — what you do and what you care about.\" />\r\n            </div>\r\n\r\n            {/* Cascading selects */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n              <div className=\"border-none\">\r\n                <label className=\"text-xs text-slate-500\">Country</label>\r\n                <div className=\"mt-1\">\r\n                  <select value={form.country} onChange={(e) => onCountryChange(e.target.value)} className=\"w-full p-3 border rounded-lg bg-indigo-50 border-none\">\r\n                    <option value=\"\">— Select country —</option>\r\n                    {countries.map((c) => (\r\n                      <option key={c.name + c.code} value={c.name}>\r\n                        {c.name} {c.region ? `(${c.region})` : \"\"}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"text-xs text-slate-500\">Region / State</label>\r\n                <div className=\"mt-1\">\r\n                  {statesLoading ? (\r\n                    <div className=\"p-3 text-sm text-slate-400\">Loading states…</div>\r\n                  ) : statesError ? (\r\n                    <div className=\"p-3 text-sm text-rose-500\">{statesError}</div>\r\n                  ) : (\r\n                    <select value={form.region} onChange={(e) => onStateChange(e.target.value)} className=\"w-full p-3 border rounded-lg bg-indigo-50 border-none\" disabled={!form.country || states.length === 0}>\r\n                      <option value=\"\">— Select region / state —</option>\r\n                      {states.map((s) => (\r\n                        <option key={s} value={s}>\r\n                          {s}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  )}\r\n                </div>\r\n                <div className=\"text-xs text-slate-400 mt-1\">{form.country ? \"Select a state — loaded from public geo API.\" : \"Select a country first.\"}</div>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"text-xs text-slate-500\">District / City</label>\r\n                <div className=\"mt-1\">\r\n                  {districtsLoading ? (\r\n                    <div className=\"p-3 text-sm text-slate-400\">Loading districts…</div>\r\n                  ) : districtsError ? (\r\n                    <div className=\"p-3 text-sm text-rose-500\">{districtsError}</div>\r\n                  ) : (\r\n                    <select value={form.district} onChange={(e) => setForm({ ...form, district: e.target.value })} className=\"w-full p-3 border rounded-lg bg-indigo-50 border-none\" disabled={!form.region || districts.length === 0}>\r\n                      <option value=\"\">— Select district / city —</option>\r\n                      {districts.map((d) => (\r\n                        <option key={d} value={d}>\r\n                          {d}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  )}\r\n                </div>\r\n                <div className=\"text-xs text-slate-400 mt-1\">{form.region ? \"Choose district / city (if available)\" : \"Select a state to load districts.\"}</div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Language */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n              <div>\r\n                <label className=\"text-xs text-slate-500\">Language</label>\r\n                <div className=\"mt-1\">\r\n                  <select value={form.language} onChange={(e) => setForm({ ...form, language: e.target.value })} className=\"w-full p-3 border rounded-lg bg-indigo-50 border-none\">\r\n                    <option value=\"\">— Preferred language —</option>\r\n                    {languages.map((l) => (\r\n                      <option key={l} value={l}>\r\n                        {l}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n              </div>\r\n              <div />\r\n              <div />\r\n            </div>\r\n\r\n            {/* Photo UI */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 items-center\">\r\n              <div>\r\n                <label className=\"text-xs text-slate-500\">Profile photo</label>\r\n                <div className=\"mt-2 flex items-center gap-4\">\r\n                  <div className=\"w-24 h-24 rounded-xl bg-slate-100 overflow-hidden flex items-center justify-center border\">\r\n                    {croppedBlobUrl || form.avatarUrl ? (\r\n                      // eslint-disable-next-line @next/next/no-img-element\r\n                      <img src={croppedBlobUrl ?? form.avatarUrl!} alt=\"preview\" className=\"w-full h-full object-cover\" />\r\n                    ) : (\r\n                      <div className=\"text-2xl text-slate-500\">{(form.name || \"U\").charAt(0)}</div>\r\n                    )}\r\n                  </div>\r\n\r\n                  <div className=\"flex flex-col gap-2\">\r\n                    <button type=\"button\" onClick={() => fileInputRef.current?.click()} className=\"px-3 py-2 rounded-md border text-sm inline-flex items-center gap-2\">\r\n                      Upload\r\n                    </button>\r\n                    <button type=\"button\" onClick={() => { setRawFile(null); setCroppedBlobUrl(null); setForm((p: any) => ({ ...p, avatarUrl: \"\" })); }} className=\"px-3 py-2 rounded-md border text-sm inline-flex items-center gap-2\">\r\n                      Remove\r\n                    </button>\r\n\r\n                    <div className=\"text-xs text-slate-400\">Max 5 MB. JPG/PNG/GIF accepted.</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"md:col-span-2\">\r\n                <label className=\"text-xs text-slate-500\">Profile preview URL</label>\r\n                <input value={form.avatarUrl} onChange={(e) => setForm({ ...form, avatarUrl: e.target.value })} placeholder=\"Direct image URL (optional)\" className=\"w-full mt-1 p-3 border rounded-lg bg-indigo-50 border-none\" />\r\n                <div className=\"text-xs text-slate-400 mt-1\">If you paste an image URL it will be used unless you upload a new file.</div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex gap-3 justify-end\">\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => {\r\n                  setEditing(false);\r\n                  // revert from user + metadata\r\n                  const profile = user.profile ?? {};\r\n                  const meta = (profile.metadata as any) ?? {};\r\n                  setForm({\r\n                    name: user.name ?? \"\",\r\n                    displayName: profile.displayName ?? meta.displayName ?? \"\",\r\n                    email: user.email ?? \"\",\r\n                    phone: profile.phoneNumber ?? user.phone ?? \"\",\r\n                    avatarUrl: profile.avatarUrl ?? meta.avatarUrl ?? \"\",\r\n                    bio: profile.bio ?? meta.bio ?? \"\",\r\n                    country: profile.country ?? meta.country ?? \"\",\r\n                    region: profile.region ?? meta.region ?? \"\",\r\n                    postalCode: profile.postalCode ?? meta.postalCode ?? meta.postal_code ?? \"\",\r\n                    language: profile.language ?? meta.language ?? \"\",\r\n                    district: profile.district ?? meta.district ?? \"\",\r\n                  });\r\n                  setCroppedBlobUrl(null);\r\n                  setRawFile(null);\r\n                }}\r\n                className=\"px-4 py-2 border rounded-lg\"\r\n                disabled={saving}\r\n              >\r\n                Cancel\r\n              </button>\r\n\r\n              <button type=\"submit\" disabled={saving} className=\"px-4 py-2 bg-indigo-700 text-white rounded-lg\">\r\n                {saving ? \"Saving…\" : \"Save profile\"}\r\n              </button>\r\n            </div>\r\n          </form>\r\n        )}\r\n      </div>\r\n\r\n      {/* Image cropper modal */}\r\n      {cropOpen && rawFile && (\r\n        <ImageCropper\r\n          file={rawFile}\r\n          onCancel={() => {\r\n            setCropOpen(false);\r\n            setRawFile(null);\r\n          }}\r\n          onCropped={(url) => {\r\n            setCroppedBlobUrl(url);\r\n            setCropOpen(false);\r\n          }}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n/** FloatingInput – small presentational input with floating label */\r\nfunction FloatingInput({ label, value, onChange, required }: { label: string; value: string; onChange: (v: string) => void; required?: boolean }) {\r\n  return (\r\n    <label className=\"relative block\">\r\n      <span className={`pointer-events-none -translate-y-3 absolute left-3 top-2 text-xs transition-all ${value ? \"-translate-y-4 text-indigo-600\" : \"text-slate-500\"}`}>{label}{required ? \" *\" : \"\"}</span>\r\n      <input value={value} onChange={(e) => onChange(e.target.value)} className=\"w-full mt-4 p-3 pt-6 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-200 border-none bg-indigo-50\" />\r\n    </label>\r\n  );\r\n}\r\n"],"names":["c","_c","React","useEffect","useRef","useState","ImageCropper","CountryItem","name","code","region","languages","Record","Props","onChangePassword","ProfileForm","user","setUser","loading","setLoading","editing","setEditing","saving","setSaving","form","setForm","displayName","email","phone","avatarUrl","bio","country","postalCode","language","district","countries","setCountries","setLanguages","states","setStates","statesLoading","setStatesLoading","statesError","setStatesError","districts","setDistricts","districtsLoading","setDistrictsLoading","districtsError","setDistrictsError","rawFile","setRawFile","File","cropOpen","setCropOpen","croppedBlobUrl","setCroppedBlobUrl","fileInputRef","HTMLInputElement","mounted","loadMeta","r","fetch","ok","Error","j","json","catch","rawCountries","Array","isArray","length","normalized","map","common","countryName","cca2","langs","filter","langSet","Set","Object","values","forEach","ln","trim","add","sort","a","b","localeCompare","from","err","fields","res2","data","countryList","langSet2","push","l","console","error","load","res","credentials","u","profile","meta","metadata","mapped","countryCode","postal_code","phoneNumber","fetchStates","fetchDistricts","window","location","preselectState","p","method","headers","body","JSON","stringify","status","stateNames","d","found","find","x","n","toLowerCase","includes","s","Boolean","slice","first","warn","stateName","preselectDistrict","state","items","cities","onCountryChange","newCountry","vals","onStateChange","newState","handleFileSelect","file","type","startsWith","alert","size","URL","revokeObjectURL","uploadPhoto","fd","FormData","append","url","handleSave","e","FormEvent","preventDefault","blob","uploaded","href","displayCountry","displayRegion","displayDistrict","displayPostal","displayLanguage","charAt","current","click","role","Date","createdAt","toLocaleDateString","target","files","v","value","FloatingInput","t0","$","$i","Symbol","for","label","onChange","required","t1","t2","t3","t4","t5","t6"],"mappings":"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","ignoreList":[],"debugId":null}},
    {"offset": {"line": 2070, "column": 0}, "map": {"version":3,"sources":["E:/Attack Capital/SignalHub/frontend/src/components/modals/PasswordModal.tsx"],"sourcesContent":["\"use client\";\r\n\r\n\r\nimport React, { useEffect, useState } from \"react\";\r\n\r\n\r\nexport default function PasswordModal({ open, onClose }: { open: boolean; onClose: () => void }) {\r\nconst [step, setStep] = useState<\"verify\" | \"change\">(\"verify\");\r\nconst [verifying, setVerifying] = useState(false);\r\nconst [oldPassword, setOldPassword] = useState(\"\");\r\n\r\n\r\nconst [newPassword, setNewPassword] = useState(\"\");\r\nconst [rePassword, setRePassword] = useState(\"\");\r\nconst [showNew, setShowNew] = useState(false);\r\nconst [showRe, setShowRe] = useState(false);\r\nconst [saving, setSaving] = useState(false);\r\nconst [errors, setErrors] = useState<string[]>([]);\r\n\r\n\r\nuseEffect(()=>{ if(!open){ setTimeout(()=>{ setStep(\"verify\"); setOldPassword(\"\"); setNewPassword(\"\"); setRePassword(\"\"); setErrors([]); }, 200); } }, [open]);\r\n\r\n\r\nif (!open) return null;\r\n\r\n\r\nasync function handleVerify() {\r\nsetVerifying(true);\r\ntry {\r\nconst res = await fetch(\"/api/auth/verify-old-password\", { method: \"POST\", body: JSON.stringify({ password: oldPassword }), headers: { \"Content-Type\": \"application/json\" } });\r\nconst j = await res.json().catch(()=>({ ok: false }));\r\nif (j.ok) {\r\nsetStep(\"change\");\r\n} else {\r\nalert(j.error || \"Verification failed\");\r\n}\r\n} catch (err) {\r\nconsole.error(err);\r\nalert(\"Unexpected error verifying password\");\r\n} finally {\r\nsetVerifying(false);\r\n}\r\n}\r\n\r\n\r\nfunction validatePassword(pw: string) {\r\nconst errs: string[] = [];\r\nif (pw.length < 8) errs.push(\"At least 8 characters\");\r\nif (!/[A-Z]/.test(pw)) errs.push(\"One uppercase letter\");\r\nif (!/[a-z]/.test(pw)) errs.push(\"One lowercase letter\");\r\nif (!/[0-9]/.test(pw)) errs.push(\"One number\");\r\nif (!/[^A-Za-z0-9]/.test(pw)) errs.push(\"One special character\");\r\nreturn errs;\r\n}\r\n\r\n\r\nasync function handleChange() {\r\nsetErrors([]);\r\nconst errs = validatePassword(newPassword);\r\nif (errs.length) return setErrors(errs);\r\nif (newPassword !== rePassword) return setErrors([\"Passwords do not match\"]);\r\nsetSaving(true);\r\ntry {\r\nconst res = await fetch(\"/api/auth/change-password\", { method: \"POST\", body: JSON.stringify({ newPassword }), headers: { \"Content-Type\": \"application/json\" } });\r\nconst j = await res.json().catch(()=>({ ok: false }));\r\nif (j.ok) {\r\nalert(\"Password changed\");\r\nonClose();\r\n} else {\r\nalert(j.error || \"Failed to change password\");\r\n}\r\n} catch (err) {\r\nconsole.error(err);\r\nalert(\"Unexpected error\");\r\n} finally {\r\nsetSaving(false);\r\n}\r\n}\r\nreturn (\r\n<div className=\"fixed inset-0 z-60 flex items-center justify-center bg-black/40\">\r\n<div className=\"bg-white rounded-2xl w-[92%] max-w-xl p-6\">\r\n<div className=\"flex items-center justify-between mb-4\">\r\n<h3 className=\"text-lg font-semibold\">Change password</h3>\r\n<button onClick={onClose} className=\"text-slate-500\">Close</button>\r\n</div>\r\n\r\n\r\n{step === \"verify\" ? (\r\n<div>\r\n<p className=\"text-sm text-slate-600\">To change your password, verify your current password first.</p>\r\n<div className=\"mt-4\">\r\n<label className=\"text-xs text-slate-500\">Current password</label>\r\n<input type=\"password\" value={oldPassword} onChange={(e)=>setOldPassword(e.target.value)} className=\"w-full mt-1 p-3 border rounded-lg\" />\r\n</div>\r\n\r\n\r\n<div className=\"mt-4 flex justify-end gap-2\">\r\n<button onClick={onClose} className=\"px-3 py-2 border rounded\">Cancel</button>\r\n<button onClick={handleVerify} disabled={verifying} className=\"px-3 py-2 bg-indigo-600 text-white rounded\">{verifying ? \"Verifying…\" : \"Verify\"}</button>\r\n</div>\r\n</div>\r\n) : (\r\n<div>\r\n<p className=\"text-sm text-slate-600\">Enter a strong new password. It will be hidden after saving.</p>\r\n\r\n\r\n<div className=\"mt-4\">\r\n<label className=\"text-xs text-slate-500\">New password</label>\r\n<div className=\"relative\">\r\n<input type={showNew ? \"text\" : \"password\"} value={newPassword} onChange={(e)=>setNewPassword(e.target.value)} className=\"w-full mt-1 p-3 border rounded-lg pr-10\" />\r\n<button type=\"button\" onClick={()=>setShowNew(!showNew)} className=\"absolute right-2 top-3 text-sm\">{showNew ? 'Hide' : 'Show'}</button>\r\n</div>\r\n</div>\r\n\r\n\r\n<div className=\"mt-3\">\r\n<label className=\"text-xs text-slate-500\">Re-enter new password</label>\r\n<div className=\"relative\">\r\n<input type={showRe ? \"text\" : \"password\"} value={rePassword} onChange={(e)=>setRePassword(e.target.value)} className=\"w-full mt-1 p-3 border rounded-lg pr-10\" />\r\n<button type=\"button\" onClick={()=>setShowRe(!showRe)} className=\"absolute right-2 top-3 text-sm\">{showRe ? 'Hide' : 'Show'}</button>\r\n</div>\r\n</div>\r\n\r\n\r\n{errors.length > 0 && (\r\n<div className=\"mt-3 text-rose-500\">\r\n{errors.map((e,i)=>(<div key={i} className=\"text-sm\">• {e}</div>))}\r\n</div>\r\n)}\r\n\r\n\r\n<div className=\"mt-4 flex justify-end gap-2\">\r\n<button onClick={()=>setStep('verify')} className=\"px-3 py-2 border rounded\">Back</button>\r\n<button onClick={handleChange} disabled={saving} className=\"px-3 py-2 bg-emerald-600 text-white rounded\">{saving ? 'Saving…' : 'Save password'}</button>\r\n</div>\r\n</div>\r\n)}\r\n</div>\r\n</div>\r\n);\r\n}"],"names":["React","useEffect","useState","PasswordModal","open","onClose","step","setStep","verifying","setVerifying","oldPassword","setOldPassword","newPassword","setNewPassword","rePassword","setRePassword","showNew","setShowNew","showRe","setShowRe","saving","setSaving","errors","setErrors","setTimeout","handleVerify","res","fetch","method","body","JSON","stringify","password","headers","j","json","catch","ok","alert","error","err","console","validatePassword","pw","errs","length","push","test","handleChange","e","target","value","map","i"],"mappings":"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","ignoreList":[],"debugId":null}},
    {"offset": {"line": 2457, "column": 0}, "map": {"version":3,"sources":["E:/Attack Capital/SignalHub/frontend/src/components/forms/ProfileMenu.tsx"],"sourcesContent":["// src/components/ProfileMenu.tsx\r\n\"use client\";\r\n\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport {\r\n  User as UserIcon,\r\n  Settings,\r\n  LogOut,\r\n  HelpCircle,\r\n  Moon,\r\n  Sun,\r\n  ChevronDown,\r\n  Crown,\r\n  Bell,\r\n  Zap\r\n} from \"lucide-react\";\r\n\r\ntype Profile = {\r\n  avatarUrl?: string | null;\r\n  displayName?: string | null;\r\n};\r\n\r\ntype MeUser = {\r\n  id: string;\r\n  name?: string | null;\r\n  email?: string | null;\r\n  role?: string | null;\r\n  profile?: Profile | null;\r\n};\r\n\r\nexport default function ProfileMenu() {\r\n  const router = useRouter();\r\n  const ref = useRef<HTMLDivElement | null>(null);\r\n\r\n  const [user, setUser] = useState<MeUser | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [isDarkMode, setIsDarkMode] = useState(false);\r\n\r\n  // load current user on mount\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    async function load() {\r\n      try {\r\n        const res = await fetch(\"/api/me\");\r\n        if (!res.ok) {\r\n          if (mounted) setUser(null);\r\n          return;\r\n        }\r\n        const json = await res.json().catch(() => null);\r\n        if (mounted && json?.ok && json.user) setUser(json.user as MeUser);\r\n      } catch (err) {\r\n        // ignore errors\r\n      } finally {\r\n        if (mounted) setLoading(false);\r\n      }\r\n    }\r\n    load();\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, []);\r\n\r\n  // click outside to close menu\r\n  useEffect(() => {\r\n    function onDoc(e: MouseEvent) {\r\n      if (!ref.current) return;\r\n      if (!ref.current.contains(e.target as Node)) setIsOpen(false);\r\n    }\r\n    document.addEventListener(\"mousedown\", onDoc);\r\n    return () => document.removeEventListener(\"mousedown\", onDoc);\r\n  }, []);\r\n\r\n  function initials(name?: string | null, email?: string | null) {\r\n    const source = name || email || \"U\";\r\n    return (source.trim().charAt(0) || \"U\").toUpperCase();\r\n  }\r\n\r\n  async function handleLogout() {\r\n    try {\r\n      await fetch(\"/api/auth/logout\", { method: \"POST\" }).catch(() => {});\r\n    } finally {\r\n      setUser(null);\r\n      router.push(\"/login\");\r\n    }\r\n  }\r\n\r\n  const menuItems = [\r\n    {\r\n      icon: UserIcon,\r\n      label: \"Profile\",\r\n      action: () => router.push(\"/account\"),\r\n      gradient: \"from-blue-500 to-cyan-500\"\r\n    },\r\n    {\r\n      icon: Settings,\r\n      label: \"Settings\",\r\n      action: () => router.push(\"/dashboard\"),\r\n      gradient: \"from-slate-500 to-slate-700\"\r\n    },\r\n    {\r\n      icon: Bell,\r\n      label: \"Notifications\",\r\n      action: () => console.log(\"Notifications clicked\"),\r\n      gradient: \"from-violet-500 to-purple-500\",\r\n      badge: 3\r\n    },\r\n    {\r\n      icon: HelpCircle,\r\n      label: \"Help & Support\",\r\n      action: () => console.log(\"Help clicked\"),\r\n      gradient: \"from-emerald-500 to-teal-500\"\r\n    },\r\n    {\r\n      icon: LogOut,\r\n      label: \"Sign Out\",\r\n      action: handleLogout,\r\n      gradient: \"from-rose-500 to-pink-500\",\r\n      danger: true\r\n    }\r\n  ];\r\n\r\n  const displayName = user?.profile?.displayName || user?.name || user?.email || (loading ? \"Loading...\" : \"Account\");\r\n\r\n  return (\r\n    <div ref={ref} className=\"relative\">\r\n      {/* Profile trigger button */}\r\n      <motion.button\r\n        onClick={() => setIsOpen((v) => !v)}\r\n        className=\"w-full flex items-center gap-3 p-3 rounded-xl hover:bg-slate-100 transition-all duration-200 group\"\r\n        whileHover={{ scale: 1.02 }}\r\n        whileTap={{ scale: 0.98 }}\r\n        aria-haspopup=\"true\"\r\n        aria-expanded={isOpen}\r\n      >\r\n        {/* Avatar with status indicator */}\r\n        <div className=\"relative flex-shrink-0\">\r\n          <div className=\"w-10 h-10 rounded-xl bg-gradient-to-br from-blue-600 via-cyan-500 to-emerald-500 flex items-center justify-center shadow-lg shadow-blue-500/30 overflow-hidden\">\r\n            {user?.profile?.avatarUrl ? (\r\n              // eslint-disable-next-line @next/next/no-img-element\r\n              <img src={user.profile.avatarUrl} alt=\"avatar\" className=\"w-full h-full object-cover\" />\r\n            ) : (\r\n              <div className=\"text-white font-semibold\">{initials(user?.name, user?.email)}</div>\r\n            )}\r\n          </div>\r\n          <motion.div\r\n            className=\"absolute -bottom-0.5 -right-0.5 w-3.5 h-3.5 bg-emerald-400 rounded-full border-2 border-white\"\r\n            animate={{ scale: [1, 1.2, 1] }}\r\n            transition={{ duration: 2, repeat: Infinity }}\r\n          />\r\n        </div>\r\n\r\n        {/* User info */}\r\n        <div className=\"flex-1 text-left min-w-0\">\r\n          <div className=\"text-sm font-semibold text-slate-800 truncate flex items-center gap-1.5\">\r\n            {displayName}\r\n            <Crown className=\"w-3.5 h-3.5 text-amber-500\" />\r\n          </div>\r\n          <div className=\"text-xs text-slate-500 truncate\">{user?.email || \"\"}</div>\r\n        </div>\r\n\r\n        {/* Dropdown indicator */}\r\n        <motion.div animate={{ rotate: isOpen ? 180 : 0 }} transition={{ duration: 0.3 }}>\r\n          <ChevronDown className=\"w-4 h-4 text-slate-400 group-hover:text-slate-600 transition-colors\" />\r\n        </motion.div>\r\n      </motion.button>\r\n\r\n      {/* Dropdown menu */}\r\n      <AnimatePresence>\r\n        {isOpen && (\r\n          <>\r\n            {/* Backdrop for mobile */}\r\n            <motion.div\r\n              className=\"fixed inset-0 z-40 lg:hidden\"\r\n              initial={{ opacity: 0 }}\r\n              animate={{ opacity: 1 }}\r\n              exit={{ opacity: 0 }}\r\n              onClick={() => setIsOpen(false)}\r\n            />\r\n\r\n            {/* Menu */}\r\n            <motion.div\r\n              initial={{ opacity: 0, y: 10, scale: 0.95 }}\r\n              animate={{ opacity: 1, y: 0, scale: 1 }}\r\n              exit={{ opacity: 0, y: 10, scale: 0.95 }}\r\n              transition={{ duration: 0.2 }}\r\n              className=\"absolute bottom-full left-0 right-0 mb-2 z-50 bg-white rounded-xl shadow-2xl border border-slate-200 overflow-hidden\"\r\n            >\r\n              {/* Pro badge */}\r\n              <div className=\"p-3 bg-gradient-to-r from-amber-50 to-orange-50 border-b border-amber-100\">\r\n                <div className=\"flex items-center gap-2\">\r\n                  <div className=\"w-8 h-8 rounded-lg bg-gradient-to-br from-amber-400 to-orange-500 flex items-center justify-center shadow-lg\">\r\n                    <Crown className=\"w-4 h-4 text-white\" />\r\n                  </div>\r\n                  <div className=\"flex-1 min-w-0\">\r\n                    <div className=\"text-xs font-bold text-amber-900\">Pro Member</div>\r\n                    <div className=\"text-[10px] text-amber-700\">Premium features unlocked</div>\r\n                  </div>\r\n                  <Zap className=\"w-4 h-4 text-amber-500\" />\r\n                </div>\r\n              </div>\r\n\r\n              {/* Menu items */}\r\n              <div className=\"p-2\">\r\n                {menuItems.map((item, index) => {\r\n                  const Icon = item.icon as any;\r\n                  return (\r\n                    <motion.button\r\n                      key={item.label}\r\n                      initial={{ opacity: 0, x: -10 }}\r\n                      animate={{ opacity: 1, x: 0 }}\r\n                      transition={{ delay: index * 0.05 }}\r\n                      onClick={() => {\r\n                        item.action();\r\n                        setIsOpen(false);\r\n                      }}\r\n                      className={`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 group ${\r\n                        item.danger\r\n                          ? \"hover:bg-rose-50 text-rose-600\"\r\n                          : \"hover:bg-slate-50 text-slate-700\"\r\n                      }`}\r\n                      whileHover={{ x: 4 }}\r\n                    >\r\n                      <div className={`w-8 h-8 rounded-lg bg-gradient-to-br ${item.gradient} flex items-center justify-center shadow-sm`}>\r\n                        <Icon className=\"w-4 h-4 text-white\" />\r\n                      </div>\r\n                      <span className=\"flex-1 text-left\">{item.label}</span>\r\n                      {item.badge && (\r\n                        <span className=\"px-2 py-0.5 text-[10px] font-bold bg-rose-500 text-white rounded-full\">{item.badge}</span>\r\n                      )}\r\n                    </motion.button>\r\n                  );\r\n                })}\r\n              </div>\r\n\r\n              {/* Dark mode toggle */}\r\n              <div className=\"p-3 border-t border-slate-200 bg-slate-50\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <div className=\"w-8 h-8 rounded-lg bg-gradient-to-br from-slate-600 to-slate-800 flex items-center justify-center shadow-sm\">\r\n                      {isDarkMode ? <Moon className=\"w-4 h-4 text-white\" /> : <Sun className=\"w-4 h-4 text-white\" />}\r\n                    </div>\r\n                    <span className=\"text-sm font-medium text-slate-700\">Dark Mode</span>\r\n                  </div>\r\n                  <motion.button\r\n                    onClick={() => setIsDarkMode(!isDarkMode)}\r\n                    className={`relative w-11 h-6 rounded-full transition-colors duration-300 ${\r\n                      isDarkMode ? \"bg-gradient-to-r from-blue-500 to-cyan-500\" : \"bg-slate-300\"\r\n                    }`}\r\n                    whileTap={{ scale: 0.95 }}\r\n                  >\r\n                    <motion.div\r\n                      className=\"absolute top-0.5 left-0.5 w-5 h-5 bg-white rounded-full shadow-md\"\r\n                      animate={{ x: isDarkMode ? 20 : 0 }}\r\n                      transition={{ type: \"spring\", stiffness: 500, damping: 30 }}\r\n                    />\r\n                  </motion.button>\r\n                </div>\r\n              </div>\r\n            </motion.div>\r\n          </>\r\n        )}\r\n      </AnimatePresence>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["React","useEffect","useRef","useState","motion","AnimatePresence","useRouter","User","UserIcon","Settings","LogOut","HelpCircle","Moon","Sun","ChevronDown","Crown","Bell","Zap","Profile","avatarUrl","displayName","MeUser","id","name","email","role","profile","ProfileMenu","router","ref","HTMLDivElement","user","setUser","loading","setLoading","isOpen","setIsOpen","isDarkMode","setIsDarkMode","mounted","load","res","fetch","ok","json","catch","err","onDoc","e","MouseEvent","current","contains","target","Node","document","addEventListener","removeEventListener","initials","source","trim","charAt","toUpperCase","handleLogout","method","push","menuItems","icon","label","action","gradient","console","log","badge","danger","v","scale","duration","repeat","Infinity","rotate","opacity","y","map","item","index","Icon","x","delay","type","stiffness","damping"],"mappings":"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","ignoreList":[],"debugId":null}},
    {"offset": {"line": 2993, "column": 0}, "map": {"version":3,"sources":["E:/Attack Capital/SignalHub/frontend/src/app/account/Accountlayout.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { motion } from \"framer-motion\";\r\nimport { Sparkles, ArrowRight } from \"lucide-react\";\r\nimport ProfileForm from \"../../components/forms/ProfileForm\";\r\nimport PasswordModal from \"../../components/modals/PasswordModal\";\r\nimport ProfileMenu from \"../../components/forms/ProfileMenu\";\r\n\r\ntype MeResponse = {\r\n  ok: boolean;\r\n  user?: {\r\n    id: string;\r\n    name: string;\r\n    email?: string;\r\n    phone?: string;\r\n    role?: \"ADMIN\" | \"MANAGER\" | \"EMPLOYEE\" | string;\r\n    createdAt?: string;\r\n    profile?: any;\r\n    organization?: {\r\n      id: string;\r\n      name: string;\r\n    } | null;\r\n  } | null;\r\n  error?: string | null;\r\n};\r\n\r\nexport default function AccountLayout() {\r\n  const [showPasswordModal, setShowPasswordModal] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n  const [me, setMe] = useState<MeResponse[\"user\"] | null>(null);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    setLoading(true);\r\n    fetch(\"/api/me\", { cache: \"no-store\" })\r\n      .then((res) => res.json())\r\n      .then((data: MeResponse) => {\r\n        if (!mounted) return;\r\n        if (data?.ok && data.user) {\r\n          setMe(data.user);\r\n          setError(null);\r\n        } else {\r\n          setError(data?.error ?? \"Failed to load profile\");\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.error(\"Failed to fetch /api/me:\", err);\r\n        if (!mounted) return;\r\n        setError(\"Failed to load profile\");\r\n      })\r\n      .finally(() => {\r\n        if (mounted) setLoading(false);\r\n      });\r\n\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, []);\r\n\r\n  const orgName = me?.organization?.name ?? null;\r\n  const orgId = me?.organization?.id ?? null;\r\n  const role = me?.role ?? null;\r\n  const memberSince = me?.createdAt ? new Date(me.createdAt).toLocaleDateString() : \"—\";\r\n\r\n  return (\r\n    <div className=\"p-6 max-w-6xl mx-auto\">\r\n      {/* Page header */}\r\n      <motion.header\r\n        initial={{ opacity: 0, y: -8 }}\r\n        animate={{ opacity: 1, y: 0 }}\r\n        transition={{ duration: 0.35 }}\r\n        className=\"mb-6 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\"\r\n      >\r\n        <div>\r\n          <div className=\"flex items-baseline gap-3\">\r\n            <h1 className=\"text-2xl font-bold text-slate-800\">Account settings</h1>\r\n            {/* organization name (shows once loaded) */}\r\n            {loading ? (\r\n              <div className=\"text-sm text-slate-400\">Loading organization…</div>\r\n            ) : orgName ? (\r\n              <div className=\"text-sm text-slate-600 bg-slate-50 px-2 py-1 rounded-full border border-slate-100\">\r\n                Organization: <strong className=\"ml-2\">{orgName}</strong>\r\n              </div>\r\n            ) : (\r\n              <div className=\"text-sm text-rose-500\">No organization</div>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"mt-1 text-sm text-slate-500 flex items-center gap-2\">\r\n            <Sparkles className=\"w-4 h-4 text-slate-400\" />\r\n            Manage your personal info, security, and visibility\r\n            {/* small role badge */}\r\n            {!loading && role ? (\r\n              <span\r\n                className={`ml-3 inline-flex items-center gap-2 px-2 py-0.5 text-xs rounded-full border ${\r\n                  role === \"ADMIN\"\r\n                    ? \"bg-emerald-50 text-emerald-700 border-emerald-100\"\r\n                    : \"bg-slate-50 text-slate-700 border-slate-100\"\r\n                }`}\r\n                title={`Role: ${role}`}\r\n              >\r\n                {role}\r\n              </span>\r\n            ) : null}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"hidden sm:flex items-center gap-3\">\r\n          {/* Quick access button (styled like Sidebar Quick Actions) */}\r\n          <motion.button\r\n            whileHover={{ scale: 1.03 }}\r\n            whileTap={{ scale: 0.97 }}\r\n            className=\"inline-flex items-center gap-2 px-3 py-2 rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 text-white font-semibold shadow-lg shadow-blue-500/20\"\r\n            onClick={() => {\r\n              // Example: open billing or upgrade modal — keep stubbed here\r\n              console.log(\"Upgrade clicked\");\r\n            }}\r\n            aria-label=\"Upgrade account\"\r\n          >\r\n            Upgrade\r\n            <ArrowRight className=\"w-4 h-4\" />\r\n          </motion.button>\r\n\r\n          {/* Optional profile quick menu (keeps feel consistent with Sidebar profile) */}\r\n          <div className=\"bg-white rounded-xl p-1 border border-slate-100\">\r\n            <ProfileMenu />\r\n          </div>\r\n        </div>\r\n      </motion.header>\r\n\r\n      {/* Main grid: left = form, right = aside (mirrors Sidebar column proportions) */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6 items-start\">\r\n        {/* Main form area */}\r\n        <motion.main\r\n          className=\"lg:col-span-2 bg-white rounded-2xl p-6 shadow-sm border border-slate-200\"\r\n          initial={{ opacity: 0, y: 8 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ duration: 0.4 }}\r\n        >\r\n          <div className=\"flex items-center justify-between mb-4\">\r\n            <div>\r\n              <h2 className=\"text-lg font-semibold text-slate-800\">Profile</h2>\r\n              <div className=\"text-sm text-slate-500\">Edit your profile details and preferences.</div>\r\n            </div>\r\n\r\n            {/* Mobile-only quick action: show password modal */}\r\n            <div className=\"sm:hidden\">\r\n              <motion.button\r\n                whileHover={{ scale: 1.03 }}\r\n                whileTap={{ scale: 0.97 }}\r\n                onClick={() => setShowPasswordModal(true)}\r\n                className=\"px-3 py-2 rounded-lg border text-sm bg-slate-50\"\r\n              >\r\n                Change password\r\n              </motion.button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Show any fetch error */}\r\n          {error ? (\r\n            <div className=\"mb-4 rounded-md bg-rose-50 border border-rose-100 p-3 text-sm text-rose-700\">\r\n              {error}\r\n            </div>\r\n          ) : null}\r\n\r\n          {/* Profile form component (keeps onChangePassword hook similar to original) */}\r\n          <ProfileForm onChangePassword={() => setShowPasswordModal(true)} />\r\n        </motion.main>\r\n\r\n        {/* Aside: account summary + quick actions (styled to match Sidebar) */}\r\n        <motion.aside\r\n          className=\"bg-white rounded-2xl p-6 shadow-md border border-slate-100 flex flex-col gap-6\"\r\n          initial={{ opacity: 0, x: 8 }}\r\n          animate={{ opacity: 1, x: 0 }}\r\n          transition={{ duration: 0.4, delay: 0.05 }}\r\n        >\r\n          <div>\r\n            <h3 className=\"text-sm font-semibold text-slate-700\">Account</h3>\r\n            <div className=\"mt-3 text-sm text-slate-500\">Manage your account settings and profile visibility.</div>\r\n          </div>\r\n\r\n          <div className=\"pt-2 border-t\" />\r\n\r\n          {/* Organization card */}\r\n          <div>\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <div className=\"text-xs text-slate-500\">Organization</div>\r\n                <div className=\"text-sm font-medium text-slate-800\">\r\n                  {loading ? \"Loading…\" : orgName ?? \"—\"}\r\n                </div>\r\n                <div className=\"text-xs text-slate-500 mt-1\">Member since: <span id=\"member-since\">{memberSince}</span></div>\r\n              </div>\r\n\r\n              {/* Admin quick action */}\r\n              {!loading && role === \"ADMIN\" && orgId ? (\r\n                <div>\r\n                  <a\r\n                    href={`/dashboard/admin/overview`}\r\n                    onClick={(e) => {\r\n                      // let the link navigate naturally; if you want client routing replace with router.push\r\n                    }}\r\n                    className=\"inline-flex items-center gap-2 px-3 py-1 rounded-md border bg-white hover:bg-slate-50 text-sm\"\r\n                    title=\"Manage organization\"\r\n                  >\r\n                    Manage\r\n                    <ArrowRight className=\"w-3 h-3\" />\r\n                  </a>\r\n                </div>\r\n              ) : null}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"pt-2 border-t\" />\r\n\r\n          {/* Actions list (styled like buttons in your original but with hover/motion) */}\r\n          <div className=\"flex flex-col gap-2\">\r\n            <motion.button\r\n              whileHover={{ scale: 1.02 }}\r\n              whileTap={{ scale: 0.98 }}\r\n              onClick={() => setShowPasswordModal(true)}\r\n              className=\"w-full text-left px-3 py-2 rounded-md border border-slate-100 bg-white hover:bg-slate-50 transition\"\r\n            >\r\n              Security & password\r\n            </motion.button>\r\n\r\n            <motion.button\r\n              whileHover={{ scale: 1.02 }}\r\n              whileTap={{ scale: 0.98 }}\r\n              className=\"w-full text-left px-3 py-2 rounded-md border border-slate-100 bg-white hover:bg-slate-50 transition\"\r\n              onClick={() => {\r\n                // Open notification settings route/modal\r\n                console.log(\"Notifications clicked\");\r\n              }}\r\n            >\r\n              Notifications\r\n            </motion.button>\r\n\r\n            <motion.button\r\n              whileHover={{ scale: 1.02 }}\r\n              whileTap={{ scale: 0.98 }}\r\n              className=\"w-full text-left px-3 py-2 rounded-md border border-slate-100 bg-white hover:bg-slate-50 transition\"\r\n              onClick={() => {\r\n                // Open billing\r\n                console.log(\"Billing clicked\");\r\n              }}\r\n            >\r\n              Billing\r\n            </motion.button>\r\n          </div>\r\n\r\n          <div className=\"pt-2 border-t\" />\r\n\r\n          {/* Keep a small ProfileMenu copy for quick access, matching Sidebar's bottom area */}\r\n          <div className=\"pt-1\">\r\n            <ProfileMenu />\r\n          </div>\r\n        </motion.aside>\r\n      </div>\r\n\r\n      {/* Password modal */}\r\n      <PasswordModal open={showPasswordModal} onClose={() => setShowPasswordModal(false)} />\r\n    </div>\r\n  );\r\n}\r\n"],"names":["c","_c","React","useEffect","useState","motion","Sparkles","ArrowRight","ProfileForm","PasswordModal","ProfileMenu","MeResponse","ok","user","id","name","email","phone","role","createdAt","profile","organization","error","AccountLayout","$","$i","Symbol","for","showPasswordModal","setShowPasswordModal","loading","setLoading","me","setMe","setError","t0","t1","AccountLayout[useEffect()]","mounted","fetch","cache","then","_AccountLayoutUseEffectAnonymous","data","catch","err","console","finally","AccountLayout[useEffect() > (anonymous)()]","orgName","orgId","t2","Date","toLocaleDateString","memberSince","t3","t4","t5","opacity","y","duration","t6","t7","t8","t9","t10","t11","t12","t13","scale","t14","_AccountLayoutMotionButtonOnClick","t15","t16","t17","t18","t19","t20","t21","AccountLayout[<motion.button>.onClick]","t22","t23","AccountLayout[<ProfileForm>.onChangePassword]","t24","t25","t26","t27","t28","t29","x","delay","t30","t31","t32","t33","t34","t35","_AccountLayoutAOnClick","t36","t37","t38","t39","_AccountLayoutMotionButtonOnClick2","t40","t41","_AccountLayoutMotionButtonOnClick3","t42","t43","t44","t45","AccountLayout[<PasswordModal>.onClose]","t46","t47","log","e","res","json"],"mappings":"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","ignoreList":[],"debugId":null}},
    {"offset": {"line": 3908, "column": 0}, "map": {"version":3,"sources":["E:/Attack Capital/SignalHub/frontend/src/app/account/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\n\r\nimport React from \"react\";\r\nimport AccountLayout from \"./Accountlayout\";\r\n\r\n\r\nexport default function Page() {\r\nreturn <AccountLayout />;\r\n}"],"names":["c","_c","React","AccountLayout","Page","$","$i","Symbol","for","t0"],"mappings":";;;;;AAAa,SAAAA,CAAA,IAAAC,EAAA;AAIb,OAAOE,aAAa,MAAM,iBAAiB;AAJ3C,YAAY;;;;AAOG;IAAA,MAAAE,CAAA,OAAAJ,gLAAA,EAAA;IAAA,IAAAI,CAAA,CAAA,EAAA,KAAA,oEAAA;QAAA,IAAA,IAAAC,EAAA,GAAA,GAAAA,EAAA,GAAA,GAAAA,EAAA,IAAA,EAAA;YAAAD,CAAA,CAAAC,EAAA,CAAA,GAAAC,MAAA,CAAAC,GAAA,CAAA;QAAA;QAAAH,CAAA,CAAA,EAAA,GAAA;IAAA;IAAA,IAAAI,EAAA;IAAA,IAAAJ,CAAA,CAAA,EAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QACRC,EAAA,iBAAA,6LAAC,qJAAa,GAAG;;;;;QAAAJ,CAAA,CAAA,EAAA,GAAAI,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAJ,CAAA,CAAA,EAAA;IAAA;IAAA,OAAjBI,EAAiB;AAAA;KADTL,KAAA","ignoreList":[],"debugId":null}}]
}