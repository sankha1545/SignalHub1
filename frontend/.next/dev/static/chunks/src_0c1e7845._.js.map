{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["E:/Attack Capital/SignalHub/frontend/src/components/ui/card.tsx"],"sourcesContent":["// components/ui/card.tsx\r\n\"use client\";\r\n\r\nimport React from \"react\";\r\nimport clsx from \"clsx\";\r\n\r\n\r\n\r\ntype CardProps = React.HTMLAttributes<HTMLDivElement> & {\r\n  asChild?: boolean;\r\n  children: React.ReactNode;\r\n};\r\n\r\nexport const Card: React.FC<CardProps> = ({ asChild = false, children, className, ...rest }) => {\r\n  if (asChild && React.isValidElement(children)) {\r\n    const child = children as React.ReactElement;\r\n    const mergedClass = clsx(\r\n      \"block bg-white border border-slate-100 rounded-2xl shadow-sm transition-shadow hover:shadow-md\",\r\n      className\r\n    );\r\n\r\n    const childProps = {\r\n      ...rest,\r\n      className: clsx(mergedClass, (child.props && child.props.className) || \"\"),\r\n    };\r\n\r\n    return React.cloneElement(child, childProps);\r\n  }\r\n\r\n  return (\r\n    <div\r\n      {...rest}\r\n      className={clsx(\r\n        \"bg-white border border-slate-100 rounded-2xl shadow-sm transition-shadow hover:shadow-md\",\r\n        className\r\n      )}\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const CardHeader: React.FC<React.HTMLAttributes<HTMLDivElement>> = ({ children, className, ...rest }) => (\r\n  <div {...rest} className={clsx(\"px-4 py-3 border-b border-slate-100\", className)}>\r\n    {children}\r\n  </div>\r\n);\r\n\r\nexport const CardContent: React.FC<React.HTMLAttributes<HTMLDivElement>> = ({ children, className, ...rest }) => (\r\n  <div {...rest} className={clsx(\"p-4\", className)}>\r\n    {children}\r\n  </div>\r\n);\r\n\r\nexport default Card;\r\n\r\n/* ============================\r\n   CardSquare - square, avatar-ring card\r\n   ============================ */\r\n\r\ntype CardSquareProps = {\r\n  id?: string | number;\r\n  name: string;\r\n  subtitle?: string | null;\r\n  avatarUrl?: string | null;\r\n  size?: \"sm\" | \"md\" | \"lg\"; // controls card and avatar sizing\r\n  className?: string;\r\n  onClick?: (e: React.MouseEvent) => void;\r\n  asChild?: boolean; // if true, renders an interactive button root (accessible)\r\n  showBorder?: boolean; // keep border (default true)\r\n};\r\n\r\nexport const CardSquare: React.FC<CardSquareProps> = ({\r\n  id,\r\n  name,\r\n  subtitle = null,\r\n  avatarUrl = null,\r\n  size = \"md\",\r\n  className,\r\n  onClick,\r\n  asChild = false,\r\n  showBorder = true,\r\n}) => {\r\n  // size mapping\r\n  const sizeMap = {\r\n    sm: { card: \"p-3\", avatar: \"w-12 h-12\", text: \"text-sm\", subtitle: \"text-xs\" },\r\n    md: { card: \"p-4\", avatar: \"w-16 h-16\", text: \"text-base\", subtitle: \"text-sm\" },\r\n    lg: { card: \"p-6\", avatar: \"w-20 h-20\", text: \"text-lg\", subtitle: \"text-sm\" },\r\n  }[size];\r\n\r\n  const baseCardClass = clsx(\r\n    \"bg-white rounded-2xl shadow-sm transition-shadow hover:shadow-md flex items-center gap-4\",\r\n    showBorder ? \"border border-slate-100\" : \"\",\r\n    sizeMap.card,\r\n    className\r\n  );\r\n\r\n  const content = (\r\n    <div\r\n      role={onClick ? \"button\" : undefined}\r\n      tabIndex={0}\r\n      onClick={onClick}\r\n      onKeyDown={(e) => {\r\n        if (!onClick) return;\r\n        if (e.key === \"Enter\" || e.key === \" \") {\r\n          e.preventDefault();\r\n          onClick(e as unknown as React.MouseEvent);\r\n        }\r\n      }}\r\n      aria-pressed=\"false\"\r\n      data-id={id}\r\n      className={clsx(baseCardClass, \"w-full\")}\r\n    >\r\n      {/* avatar with ring */}\r\n      <div className={clsx(\"flex-shrink-0\", \"flex items-center justify-center\")}>\r\n        <div\r\n          className={clsx(\r\n            \"rounded-full flex items-center justify-center overflow-hidden ring-2 ring-slate-100\",\r\n            // add small shadow and ring color for presence later if needed\r\n            avatarUrl ? \"bg-transparent\" : \"bg-slate-100\"\r\n          )}\r\n          style={{ width: sizeMap.avatar.split(\" \")[0] === undefined ? undefined : undefined }} // just preserve structure\r\n        >\r\n          {avatarUrl ? (\r\n            // image inside ring\r\n            <img\r\n              src={avatarUrl}\r\n              alt={name}\r\n              className={clsx(\"object-cover rounded-full\", sizeMap.avatar.replace(\" \", \" \"))}\r\n              // Tailwind width/height classes applied via className\r\n            />\r\n          ) : (\r\n            // fallback initials\r\n            <div\r\n              className={clsx(\r\n                \"flex items-center justify-center font-semibold text-slate-700\",\r\n                sizeMap.avatar === \"w-12 h-12\" ? \"w-12 h-12\" : sizeMap.avatar === \"w-16 h-16\" ? \"w-16 h-16\" : \"w-20 h-20\"\r\n              )}\r\n            >\r\n              {getInitials(name)}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* text */}\r\n      <div className=\"min-w-0\">\r\n        <div className={clsx(\"font-semibold text-slate-900\", sizeMap.text, \"truncate\")}>{name}</div>\r\n        {subtitle && <div className={clsx(\"text-slate-500 mt-0.5 truncate\", sizeMap.subtitle)}>{subtitle}</div>}\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  if (asChild) {\r\n    // render the content inside a button so the outer CardSquare can be used as interactive element\r\n    return (\r\n      <Card asChild className=\"w-full\">\r\n        {/* eslint-disable-next-line jsx-a11y/no-noninteractive-element-interactions */}\r\n        <div className={baseCardClass} role=\"button\" tabIndex={0} onClick={onClick} onKeyDown={() => {}}>\r\n          {content}\r\n        </div>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  return <div className={baseCardClass}>{content}</div>;\r\n};\r\n\r\n/* helper: initials */\r\nfunction getInitials(name: string) {\r\n  if (!name) return \"\";\r\n  const parts = name.trim().split(/\\s+/);\r\n  if (parts.length === 1) return parts[0].slice(0, 2).toUpperCase();\r\n  return (parts[0][0] + parts[parts.length - 1][0]).toUpperCase();\r\n}\r\n"],"names":["c","_c","React","clsx","CardProps","HTMLAttributes","HTMLDivElement","asChild","children","ReactNode","Card","FC","t0","$","$i","Symbol","for","className","rest","t1","undefined","isValidElement","child","ReactElement","t2","t3","props","mergedClass","t4","childProps","t5","cloneElement","CardHeader","CardContent","CardSquareProps","id","name","subtitle","avatarUrl","size","onClick","e","MouseEvent","showBorder","CardSquare","baseCardClass","t10","t11","t12","t13","t14","t15","t16","t6","t7","t8","t9","sizeMap","sm","card","avatar","text","md","lg","key","preventDefault","t17","t18","t19","t20","split","t21","width","t22","replace","getInitials","content","_temp","parts","trim","length","slice","toUpperCase"],"mappings":"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","ignoreList":[],"debugId":null}},
    {"offset": {"line": 535, "column": 0}, "map": {"version":3,"sources":["E:/Attack Capital/SignalHub/frontend/src/components/ui/modal.tsx"],"sourcesContent":["// components/ui/modal.tsx\r\n\"use client\";\r\n\r\nimport React, { useEffect, useRef } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport clsx from \"clsx\";\r\nimport { X } from \"lucide-react\";\r\n\r\n/**\r\n * Improved Modal primitive\r\n *\r\n * Props:\r\n *  - children: content inside modal (panel)\r\n *  - onClose: called when modal requests close (ESC, backdrop click, close button)\r\n *  - ariaLabel: string for aria-label on the dialog (default: \"Dialog\")\r\n *  - className: optional className to apply to panel (merged with defaults)\r\n *\r\n * Behavior:\r\n *  - renders into document.body using a portal\r\n *  - traps focus (Tab / Shift+Tab)\r\n *  - ESC closes modal\r\n *  - click on backdrop closes modal\r\n *  - locks body scroll while open\r\n *  - provides built-in animated close button and subtle entrance/exit animations\r\n */\r\n\r\ntype ModalProps = {\r\n  children: React.ReactNode;\r\n  onClose: () => void;\r\n  ariaLabel?: string;\r\n  className?: string;\r\n};\r\n\r\nconst FOCUSABLE_SELECTOR =\r\n  'a[href], area[href], input:not([disabled]):not([type=\"hidden\"]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex]:not([tabindex=\"-1\"]), [contenteditable]';\r\n\r\nconst getFocusableElements = (container: HTMLElement | null) => {\r\n  if (!container) return [];\r\n  try {\r\n    return Array.from(container.querySelectorAll<HTMLElement>(FOCUSABLE_SELECTOR)).filter(\r\n      (el) => !!(el.offsetWidth || el.offsetHeight || el.getClientRects().length)\r\n    );\r\n  } catch {\r\n    return [];\r\n  }\r\n};\r\n\r\nexport const Modal: React.FC<ModalProps> = ({ children, onClose, ariaLabel = \"Dialog\", className }) => {\r\n  const overlayRef = useRef<HTMLDivElement | null>(null);\r\n  const panelRef = useRef<HTMLDivElement | null>(null);\r\n  const lastFocused = useRef<HTMLElement | null>(null);\r\n\r\n  // ensure portal root exists\r\n  useEffect(() => {\r\n    let root = document.getElementById(\"modal-root\");\r\n    if (!root) {\r\n      root = document.createElement(\"div\");\r\n      root.id = \"modal-root\";\r\n      document.body.appendChild(root);\r\n    }\r\n  }, []);\r\n\r\n  // lock scroll + preserve/restore focus\r\n  useEffect(() => {\r\n    lastFocused.current = document.activeElement as HTMLElement | null;\r\n    const originalOverflow = document.body.style.overflow;\r\n    document.body.style.overflow = \"hidden\";\r\n\r\n    // focus the panel (or first focusable element) shortly after mount\r\n    const t = setTimeout(() => {\r\n      const focusable = getFocusableElements(panelRef.current);\r\n      if (focusable.length) focusable[0].focus();\r\n      else panelRef.current?.focus();\r\n    }, 30);\r\n\r\n    return () => {\r\n      clearTimeout(t);\r\n      document.body.style.overflow = originalOverflow;\r\n      try {\r\n        lastFocused.current?.focus();\r\n      } catch {\r\n        // ignore\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  // key handlers: ESC + focus trap (Tab / Shift+Tab)\r\n  useEffect(() => {\r\n    const onKey = (e: KeyboardEvent) => {\r\n      if (e.key === \"Escape\") {\r\n        e.preventDefault();\r\n        onClose();\r\n        return;\r\n      }\r\n      if (e.key === \"Tab\") {\r\n        const focusable = getFocusableElements(panelRef.current);\r\n        if (focusable.length === 0) {\r\n          e.preventDefault();\r\n          return;\r\n        }\r\n        const idx = focusable.indexOf(document.activeElement as HTMLElement);\r\n        if (e.shiftKey) {\r\n          if (idx === 0 || document.activeElement === panelRef.current) {\r\n            e.preventDefault();\r\n            focusable[focusable.length - 1].focus();\r\n          }\r\n        } else {\r\n          if (idx === focusable.length - 1) {\r\n            e.preventDefault();\r\n            focusable[0].focus();\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"keydown\", onKey);\r\n    return () => document.removeEventListener(\"keydown\", onKey);\r\n  }, [onClose]);\r\n\r\n  // backdrop click to close\r\n  const onBackdropMouseDown = (e: React.MouseEvent) => {\r\n    if (e.target === overlayRef.current) onClose();\r\n  };\r\n\r\n  // Motion variants for panel and backdrop\r\n  const backdropVariants = {\r\n    hidden: { opacity: 0 },\r\n    visible: { opacity: 0.5 },\r\n    exit: { opacity: 0 },\r\n  };\r\n\r\n  const panelVariants = {\r\n    hidden: { opacity: 0, y: 8, scale: 0.995 },\r\n    visible: { opacity: 1, y: 0, scale: 1 },\r\n    exit: { opacity: 0, y: 8, scale: 0.995 },\r\n  };\r\n\r\n  const modal = (\r\n    <AnimatePresence>\r\n      <div\r\n        ref={overlayRef}\r\n        onMouseDown={onBackdropMouseDown}\r\n        className=\"fixed inset-0 z-50 flex items-center justify-center p-4 sm:p-6\"\r\n        aria-hidden={false}\r\n      >\r\n        {/* Backdrop */}\r\n        <motion.div\r\n          key=\"backdrop\"\r\n          initial=\"hidden\"\r\n          animate=\"visible\"\r\n          exit=\"exit\"\r\n          variants={backdropVariants}\r\n          transition={{ duration: 0.18 }}\r\n          className=\"absolute inset-0 bg-black/60 backdrop-blur-sm\"\r\n        />\r\n\r\n        {/* Panel */}\r\n        <motion.div\r\n          key=\"panel\"\r\n          ref={panelRef}\r\n          role=\"dialog\"\r\n          aria-modal=\"true\"\r\n          aria-label={ariaLabel}\r\n          tabIndex={-1}\r\n          initial=\"hidden\"\r\n          animate=\"visible\"\r\n          exit=\"exit\"\r\n          variants={panelVariants}\r\n          transition={{ duration: 0.22, ease: \"easeOut\" }}\r\n          className={clsx(\r\n            // defaults: professional panel that matches team page design\r\n            \"relative z-10 w-full max-w-2xl rounded-2xl bg-white border border-slate-100 shadow-lg overflow-hidden outline-none\",\r\n            // safe max-height and internal scroll when needed\r\n            \"max-h-[90vh] overflow-auto\",\r\n            // allow consumer to pass additional width/padding overrides\r\n            className\r\n          )}\r\n          style={{ WebkitTapHighlightColor: \"transparent\" }}\r\n        >\r\n          {/* Panel inner: we provide a consistent padding layout for header/body/footer */}\r\n          <div className=\"relative\">\r\n            {/* Close button (top-right) */}\r\n            <button\r\n              aria-label=\"Close dialog\"\r\n              onClick={onClose}\r\n              className=\"absolute right-3 top-3 z-20 inline-flex items-center justify-center rounded-md p-1.5 text-slate-600 hover:bg-slate-100 hover:text-slate-800 transition\"\r\n              type=\"button\"\r\n            >\r\n              <X className=\"w-4 h-4\" />\r\n            </button>\r\n\r\n            {/* Content wrapper */}\r\n            <div className=\"p-4 sm:p-6\">\r\n              {/*\r\n                Children controls layout.\r\n                Consumers (e.g., Teams page) typically render their own header/body inside.\r\n                We provide consistent background and padding so the child's header fits perfectly.\r\n              */}\r\n              {children}\r\n            </div>\r\n          </div>\r\n        </motion.div>\r\n      </div>\r\n    </AnimatePresence>\r\n  );\r\n\r\n  const root = typeof window !== \"undefined\" ? document.getElementById(\"modal-root\") : null;\r\n  if (root) return createPortal(modal, root);\r\n\r\n  // Fallback inline render (shouldn't happen in client)\r\n  return modal as any;\r\n};\r\n\r\nexport default Modal;\r\n"],"names":["React","useEffect","useRef","createPortal","motion","AnimatePresence","clsx","X","ModalProps","children","ReactNode","onClose","ariaLabel","className","FOCUSABLE_SELECTOR","getFocusableElements","container","HTMLElement","Array","from","querySelectorAll","filter","el","offsetWidth","offsetHeight","getClientRects","length","Modal","FC","overlayRef","HTMLDivElement","panelRef","lastFocused","root","document","getElementById","createElement","id","body","appendChild","current","activeElement","originalOverflow","style","overflow","t","setTimeout","focusable","focus","clearTimeout","onKey","e","KeyboardEvent","key","preventDefault","idx","indexOf","shiftKey","addEventListener","removeEventListener","onBackdropMouseDown","MouseEvent","target","backdropVariants","hidden","opacity","visible","exit","panelVariants","y","scale","modal","duration","ease","WebkitTapHighlightColor","window"],"mappings":"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","ignoreList":[],"debugId":null}},
    {"offset": {"line": 790, "column": 0}, "map": {"version":3,"sources":["E:/Attack Capital/SignalHub/frontend/src/app/dashboard/manager/People/page.tsx"],"sourcesContent":["// src/app/dashboard/manager/People/page.tsx\r\n\"use client\";\r\n\r\nimport React, { useEffect, useMemo, useRef, useState } from \"react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport {\r\n  Search,\r\n  User as UserIcon,\r\n  Users,\r\n  CheckCircle2,\r\n  MoreVertical,\r\n  Mail as MailIcon,\r\n  Phone as PhoneIcon,\r\n  Calendar,\r\n  Globe,\r\n  UserCheck,\r\n  UserPlus,\r\n  X as XIcon,\r\n} from \"lucide-react\";\r\n\r\nimport { CardSquare } from \"@/components/ui/card\";\r\nimport { Modal } from \"@/components/ui/modal\";\r\nimport dynamic from \"next/dynamic\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\n// TeamChat is client-only (heavy + socket)\r\nconst TeamChat = dynamic(() => import(\"@/components/chat/TeamChat\").then((m) => m.default), { ssr: false });\r\n\r\n/* ============================\r\n   Types\r\n   ============================ */\r\ntype Role = \"Manager\" | \"Team Lead\" | \"Engineer\" | \"Support\" | \"Sales\" | string;\r\ntype Presence = \"online\" | \"away\" | \"offline\" | string;\r\n\r\ntype Person = {\r\n  id: string;\r\n  name: string;\r\n  role: Role;\r\n  presence: Presence;\r\n  email?: string | null;\r\n  phone?: string | null;\r\n  location?: string | null;\r\n  tasksAssigned?: number;\r\n  respondRate?: number; // percentage\r\n  hiredAt?: string; // human readable mock\r\n  starred?: boolean;\r\n  label?: { text: string; colorClass: string } | null;\r\n};\r\n\r\n/* ============================\r\n   Small accessible IconButton\r\n   ============================ */\r\nconst IconButton: React.FC<{\r\n  children: React.ReactNode;\r\n  ariaLabel?: string;\r\n  title?: string;\r\n  onClick?: (e: React.MouseEvent) => void;\r\n  className?: string;\r\n}> = ({ children, ariaLabel, title, onClick, className = \"\" }) => (\r\n  <button\r\n    type=\"button\"\r\n    aria-label={ariaLabel}\r\n    title={title}\r\n    onClick={onClick}\r\n    className={`p-1.5 rounded-lg hover:bg-slate-100 transition-colors focus:outline-none focus:ring-2 focus:ring-slate-200 ${className}`}\r\n  >\r\n    {children}\r\n  </button>\r\n);\r\n\r\n/* ============================\r\n   Person Modal (details + actions)\r\n   - includes Message button which opens a chat modal\r\n   ============================ */\r\nconst PersonModal: React.FC<{\r\n  person: Person | null;\r\n  open: boolean;\r\n  onClose: () => void;\r\n  onMessageClick: (person: Person) => void;\r\n  initialFocusRef?: React.RefObject<HTMLButtonElement | null>;\r\n}> = ({ person, open, onClose, onMessageClick, initialFocusRef }) => {\r\n  const closeButtonRef = useRef<HTMLButtonElement | null>(null);\r\n\r\n  useEffect(() => {\r\n    if (!open) return;\r\n    const onKey = (e: KeyboardEvent) => {\r\n      if (e.key === \"Escape\") onClose();\r\n    };\r\n    document.addEventListener(\"keydown\", onKey);\r\n    return () => document.removeEventListener(\"keydown\", onKey);\r\n  }, [open, onClose]);\r\n\r\n  useEffect(() => {\r\n    if (open) {\r\n      const t = setTimeout(() => closeButtonRef.current?.focus(), 60);\r\n      return () => clearTimeout(t);\r\n    } else {\r\n      if (initialFocusRef?.current) {\r\n        try {\r\n          initialFocusRef.current.focus();\r\n        } catch {\r\n          /* ignore */\r\n        }\r\n      }\r\n    }\r\n  }, [open, initialFocusRef]);\r\n\r\n  if (!person) return null;\r\n\r\n  return (\r\n    <AnimatePresence>\r\n      {open && (\r\n        <Modal onClose={onClose} ariaLabel={`Details for ${person.name}`}>\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 8 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            exit={{ opacity: 0, y: 8 }}\r\n            transition={{ duration: 0.18 }}\r\n            className=\"max-w-2xl w-full bg-white rounded-2xl shadow-xl overflow-hidden\"\r\n          >\r\n            <div className=\"flex items-center justify-between p-4 border-b border-slate-100\">\r\n              <div className=\"flex items-center gap-3\">\r\n                <div\r\n                  className={`w-12 h-12 rounded-full flex items-center justify-center ${\r\n                    person.presence === \"online\" ? \"bg-gradient-to-br from-emerald-500 to-teal-400\" : \"bg-slate-100\"\r\n                  }`}\r\n                >\r\n                  <UserIcon className={`w-6 h-6 ${person.presence === \"online\" ? \"text-white\" : \"text-slate-500\"}`} />\r\n                </div>\r\n\r\n                <div>\r\n                  <div className=\"text-lg font-semibold text-slate-900\">{person.name}</div>\r\n                  <div className=\"text-sm text-slate-500\">{person.role}</div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"flex items-center gap-2\">\r\n                <IconButton ariaLabel=\"Close details\" title=\"Close\" onClick={onClose} className=\"bg-slate-50\">\r\n                  <XIcon className=\"w-4 h-4\" />\r\n                </IconButton>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"p-6 grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n              <div className=\"space-y-4\">\r\n                <div>\r\n                  <div className=\"text-xs text-slate-500\">Contact</div>\r\n                  <div className=\"mt-1 text-sm text-slate-800\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <MailIcon className=\"w-4 h-4 text-slate-400\" />\r\n                      <span>{person.email ?? \"—\"}</span>\r\n                    </div>\r\n                    <div className=\"mt-2 flex items-center gap-2\">\r\n                      <PhoneIcon className=\"w-4 h-4 text-slate-400\" />\r\n                      <span>{person.phone ?? \"—\"}</span>\r\n                    </div>\r\n                    <div className=\"mt-2 flex items-center gap-2\">\r\n                      <Globe className=\"w-4 h-4 text-slate-400\" />\r\n                      <span>{person.location ?? \"—\"}</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div>\r\n                  <div className=\"text-xs text-slate-500\">Work</div>\r\n                  <div className=\"mt-1 text-sm text-slate-800\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <Users className=\"w-4 h-4 text-slate-400\" />\r\n                      <span>{person.role}</span>\r\n                    </div>\r\n                    <div className=\"mt-2 flex items-center gap-2\">\r\n                      <Calendar className=\"w-4 h-4 text-slate-400\" />\r\n                      <span>Hired: {person.hiredAt ?? \"—\"}</span>\r\n                    </div>\r\n                    <div className=\"mt-2 flex items-center gap-2\">\r\n                      <UserCheck className=\"w-4 h-4 text-slate-400\" />\r\n                      <span>{person.tasksAssigned ?? 0} tasks assigned</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"space-y-4\">\r\n                <div>\r\n                  <div className=\"text-xs text-slate-500\">Activity & metrics</div>\r\n                  <div className=\"mt-1 text-sm text-slate-800 space-y-2\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <div className=\"text-sm text-slate-600\">Response rate</div>\r\n                      <div className=\"font-medium\">{person.respondRate ?? 0}%</div>\r\n                    </div>\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <div className=\"text-sm text-slate-600\">Presence</div>\r\n                      <div className=\"font-medium capitalize\">{person.presence}</div>\r\n                    </div>\r\n                    {person.label && (\r\n                      <div className=\"flex items-center justify-between\">\r\n                        <div className=\"text-sm text-slate-600\">Tag</div>\r\n                        <div className={`px-2 py-0.5 rounded-md text-xs font-medium ${person.label.colorClass}`}>{person.label.text}</div>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n\r\n                <div>\r\n                  <div className=\"text-xs text-slate-500\">Actions</div>\r\n                  <div className=\"mt-2 flex items-center gap-2\">\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => onMessageClick(person)}\r\n                      className=\"px-3 py-2 rounded-lg bg-slate-100 text-sm flex items-center gap-2 hover:bg-slate-200\"\r\n                    >\r\n                      <MailIcon className=\"w-4 h-4\" />\r\n                      Message\r\n                    </button>\r\n\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => console.log(\"Call\", person.id)}\r\n                      className=\"px-3 py-2 rounded-lg bg-slate-100 text-sm flex items-center gap-2 hover:bg-slate-200\"\r\n                    >\r\n                      <PhoneIcon className=\"w-4 h-4\" />\r\n                      Call\r\n                    </button>\r\n\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => console.log(\"More actions\", person.id)}\r\n                      className=\"p-2 rounded-lg bg-slate-50 hover:bg-slate-100\"\r\n                      aria-label=\"More\"\r\n                    >\r\n                      <MoreVertical className=\"w-4 h-4\" />\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"p-4 border-t border-slate-100 text-right\">\r\n              <button\r\n                ref={closeButtonRef}\r\n                type=\"button\"\r\n                onClick={onClose}\r\n                className=\"px-4 py-2 rounded-lg bg-gradient-to-br from-blue-500 to-cyan-500 text-white font-medium hover:opacity-95\"\r\n              >\r\n                Close\r\n              </button>\r\n            </div>\r\n          </motion.div>\r\n        </Modal>\r\n      )}\r\n    </AnimatePresence>\r\n  );\r\n};\r\n\r\n/* ============================\r\n   Message Modal: opens a TeamChat for a direct chat (manager <-> member)\r\n   - ensures direct chat exists (tries to find, else POST /api/chats to create)\r\n   ============================ */\r\nconst MessageModal: React.FC<{\r\n  open: boolean;\r\n  onClose: () => void;\r\n  memberId: string | null;\r\n  memberName?: string | null;\r\n  currentUser: { id: string; name?: string } | null;\r\n}> = ({ open, onClose, memberId, memberName, currentUser }) => {\r\n  const [chatId, setChatId] = useState<string | null>(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [errorText, setErrorText] = useState<string | null>(null);\r\n\r\n  const mountedRef = useRef(true);\r\n\r\n  useEffect(() => {\r\n    mountedRef.current = true;\r\n    return () => {\r\n      mountedRef.current = false;\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!open) {\r\n      setChatId(null);\r\n      return;\r\n    }\r\n    if (!memberId) return;\r\n\r\n    let cancelled = false;\r\n   // inside MessageModal useEffect — replace the existing ensureChat function with this version\r\nconst ensureChat = async () => {\r\n  setLoading(true);\r\n  setErrorText(null);\r\n  try {\r\n    // 1) Try to find an existing direct chat\r\n    try {\r\n      const qRes = await fetch(`/api/chats`, { credentials: \"same-origin\" });\r\n      if (qRes.ok) {\r\n        const j = await qRes.json().catch(() => ({}));\r\n        const list: any[] = j?.chats ?? j?.items ?? j ?? [];\r\n        const found = list.find((c) => {\r\n          if (!c) return false;\r\n          const t = (c.type ?? c.chatType ?? \"\").toString().toLowerCase();\r\n          if ([\"direct\",\"dm\",\"one_to_one\",\"direct_message\"].includes(t)) return true;\r\n          const members = c.members ?? c.participants ?? c.userIds ?? c.memberIds ?? [];\r\n          if (Array.isArray(members) && members.includes(memberId) && members.length <= 2) return true;\r\n          return false;\r\n        }) ?? null;\r\n        if (found) {\r\n          const id = found.id ?? found.chatId ?? found._id ?? null;\r\n          if (id) { setChatId(String(id)); setLoading(false); return; }\r\n        }\r\n      }\r\n    } catch (e) {\r\n      console.warn(\"chat list check failed:\", e);\r\n    }\r\n\r\n    // 2) Try several possible payload shapes and log/display server response when they fail\r\n    const attempts = [\r\n      { body: { type: \"direct\", memberId }, label: \"type:direct + memberId\" },\r\n      { body: { type: \"direct\", userId: memberId }, label: \"type:direct + userId\" },\r\n      { body: { userIds: [memberId] }, label: \"userIds: [memberId]\" },\r\n      { body: { memberIds: [memberId] }, label: \"memberIds: [memberId]\" },\r\n      { body: { participantIds: [memberId] }, label: \"participantIds: [memberId]\" },\r\n      { body: { directTo: memberId }, label: \"directTo: memberId\" },\r\n    ];\r\n\r\n    for (const a of attempts) {\r\n      try {\r\n        const res = await fetch(\"/api/chats\", {\r\n          method: \"POST\",\r\n          credentials: \"same-origin\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify(a.body),\r\n        });\r\n\r\n        if (res.ok) {\r\n          const j = await res.json().catch(() => ({}));\r\n          const created = j?.chat ?? j?.message ?? j ?? {};\r\n          const id = created.id ?? created.chatId ?? created._id ?? null;\r\n          if (id) { setChatId(String(id)); setLoading(false); return; }\r\n        } else {\r\n          const txt = await res.text().catch(() => \"\");\r\n          console.warn(`[create chat attempt \"${a.label}\" returned ${res.status}]`, txt);\r\n          setErrorText(`Attempt \"${a.label}\" → ${res.status}: ${txt}`);\r\n        }\r\n      } catch (e: any) {\r\n        console.warn(`create attempt \"${a.label}\" failed:`, e);\r\n        setErrorText(`Attempt \"${a.label}\" failed: ${String(e?.message ?? e)}`);\r\n      }\r\n    }\r\n\r\n    // nothing succeeded\r\n    setChatId(null);\r\n  } finally {\r\n    setLoading(false);\r\n  }\r\n};\r\n\r\n\r\n\r\n    void ensureChat();\r\n\r\n    return () => {\r\n      cancelled = true;\r\n    };\r\n  }, [open, memberId]);\r\n\r\n  return (\r\n    <AnimatePresence>\r\n      {open && (\r\n        <Modal onClose={onClose} ariaLabel={`Chat with ${memberName ?? \"member\"}`}>\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 8 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            exit={{ opacity: 0, y: 8 }}\r\n            transition={{ duration: 0.14 }}\r\n            className=\"max-w-3xl w-full bg-white rounded-2xl shadow-xl overflow-hidden\"\r\n          >\r\n            <div className=\"flex items-center justify-between p-3 border-b border-slate-100\">\r\n              <div className=\"flex items-center gap-3\">\r\n                <div className=\"w-10 h-10 rounded-md bg-slate-100 flex items-center justify-center\">\r\n                  <UserIcon className=\"w-5 h-5 text-slate-600\" />\r\n                </div>\r\n                <div>\r\n                  <div className=\"text-sm font-medium text-slate-900\">Chat with {memberName ?? \"member\"}</div>\r\n                  <div className=\"text-xs text-slate-500\">{chatId ? `Chat: ${chatId}` : \"Preparing chat…\"}</div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"flex items-center gap-2\">\r\n                <button type=\"button\" onClick={onClose} className=\"px-3 py-1 rounded-md bg-slate-50 hover:bg-slate-100\">\r\n                  Close\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"p-4 min-h-[320px]\">\r\n              {loading ? (\r\n                <div className=\"text-sm text-slate-500\">Preparing chat…</div>\r\n              ) : chatId ? (\r\n                // render TeamChat for this chatId\r\n                // @ts-ignore (dynamic import client-only)\r\n                <div className=\"h-[60vh]\">\r\n                  <TeamChat chatId={chatId} currentUser={currentUser ? { id: currentUser.id, name: currentUser.name } : { id: \"me\" }} />\r\n                </div>\r\n              ) : (\r\n                <div className=\"text-sm text-rose-600\">\r\n                  Couldn't create chat automatically. Please try again or contact your administrator.\r\n                </div>\r\n              )}\r\n            </div>\r\n          </motion.div>\r\n        </Modal>\r\n      )}\r\n    </AnimatePresence>\r\n  );\r\n};\r\n\r\n/* ============================\r\n   Main People Page\r\n   ============================ */\r\nexport default function ManagerPeoplePage(): JSX.Element {\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [filter, setFilter] = useState<\"all\" | \"online\" | \"offline\" | \"role\">(\"all\");\r\n  const [team, setTeam] = useState<string>(\"Growth Team\");\r\n\r\n  const [people, setPeople] = useState<Person[]>([]);\r\n  const [loading, setLoading] = useState<boolean>(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  \r\n  const [selectedPerson, setSelectedPerson] = useState<Person | null>(null);\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const lastTriggerRef = useRef<HTMLButtonElement | null>(null);\r\n\r\n  // message modal state\r\n  const [messageModalOpen, setMessageModalOpen] = useState(false);\r\n  const [messageTargetId, setMessageTargetId] = useState<string | null>(null);\r\n  const [messageTargetName, setMessageTargetName] = useState<string | null>(null);\r\n\r\n  const router = useRouter();\r\n\r\n  // fetch current user (manager) to pass to TeamChat\r\n  const [me, setMe] = useState<{ id: string; name?: string } | null>(null);\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const r = await fetch(\"/api/me\", { credentials: \"same-origin\" });\r\n        if (!r.ok) return;\r\n        const j = await r.json().catch(() => ({}));\r\n        const user = j?.user ?? j ?? null;\r\n        if (user?.id) setMe({ id: String(user.id), name: user.name ?? undefined });\r\n      } catch {\r\n        // ignore\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  // load teams -> pick team by name -> fetch team details to populate people\r\n  useEffect(() => {\r\n    let cancelled = false;\r\n    const load = async () => {\r\n      setLoading(true);\r\n      setError(null);\r\n      try {\r\n        // 1) fetch teams list\r\n        const res = await fetch(\"/api/teams\", { credentials: \"same-origin\" });\r\n        if (!res.ok) throw new Error(`teams fetch failed ${res.status}`);\r\n        const j = await res.json().catch(() => ({}));\r\n        const list: any[] = j?.teams ?? j?.items ?? j ?? [];\r\n\r\n        // 2) find team by name (fallback to first)\r\n        const foundTeam = list.find((t: any) => String(t.name || \"\").toLowerCase() === team.toLowerCase()) ?? list[0] ?? null;\r\n        if (!foundTeam) {\r\n          // no teams — show empty\r\n          if (!cancelled) setPeople([]);\r\n          return;\r\n        }\r\n\r\n        const teamId = foundTeam.id ?? foundTeam.teamId ?? foundTeam._id ?? null;\r\n        if (!teamId) {\r\n          if (!cancelled) setPeople([]);\r\n          return;\r\n        }\r\n\r\n        // 3) fetch team details\r\n        const detailRes = await fetch(`/api/teams/${encodeURIComponent(teamId)}`, { credentials: \"same-origin\" });\r\n        if (!detailRes.ok) {\r\n          // attempt to parse body for helpful info\r\n          const errText = await detailRes.text().catch(() => \"\");\r\n          throw new Error(`team detail failed ${detailRes.status} ${errText}`);\r\n        }\r\n        const dj = await detailRes.json().catch(() => ({}));\r\n        const teamObj = dj?.team ?? dj ?? {};\r\n\r\n        // 4) map members to Person[] — use defensive keys that match your API\r\n        const members = (teamObj.members ?? []).map((m: any) => {\r\n          // team route normalized shape (see your teams/[id] route) uses fields:\r\n          // { teamMemberId, userId, name, email, role }\r\n          const id = m.userId ?? m.user?.id ?? m.userId ?? m.id ?? null;\r\n          const name = m.name ?? m.user?.name ?? (m.user ? `${m.user.name}` : null) ?? `User ${id}`;\r\n          return {\r\n            id: String(id ?? \"\"),\r\n            name: name ?? \"Unknown\",\r\n            role: (m.role ?? m.user?.role ?? \"Employee\") as Role,\r\n            presence: \"offline\" as Presence,\r\n            email: m.email ?? m.user?.email ?? null,\r\n            phone: null,\r\n            location: null,\r\n            tasksAssigned: 0,\r\n            respondRate: 0,\r\n            hiredAt: null,\r\n            starred: false,\r\n            label: null,\r\n          } as Person;\r\n        });\r\n\r\n        if (!cancelled) setPeople(members);\r\n      } catch (err: any) {\r\n        console.warn(\"Failed to load people:\", err);\r\n        if (!cancelled) setError(\"Failed to load team members\");\r\n      } finally {\r\n        if (!cancelled) setLoading(false);\r\n      }\r\n    };\r\n\r\n    void load();\r\n    return () => {\r\n      cancelled = true;\r\n    };\r\n  }, [team]);\r\n\r\n  // click handlers\r\n  const openPersonModal = (person: Person, triggerRef?: React.RefObject<HTMLButtonElement>) => {\r\n    setSelectedPerson(person);\r\n    setIsModalOpen(true);\r\n    if (triggerRef?.current) lastTriggerRef.current = triggerRef.current;\r\n  };\r\n\r\n  const closePersonModal = () => {\r\n    setIsModalOpen(false);\r\n    setSelectedPerson(null);\r\n  };\r\n\r\n  // when user clicks \"Message\" on the PersonModal, open message modal (ensures chat then renders TeamChat)\r\n  const handleMessageClick = (person: Person) => {\r\n    // store target info and open modal which will create/fetch chat\r\n    setMessageTargetId(person.id);\r\n    setMessageTargetName(person.name);\r\n    setMessageModalOpen(true);\r\n  };\r\n\r\n  // search + filter\r\n  const filtered = useMemo(() => {\r\n    const q = searchQuery.trim().toLowerCase();\r\n    return people.filter((p) => {\r\n      const matchesSearch = q === \"\" || p.name.toLowerCase().includes(q) || (p.email ?? \"\").toLowerCase().includes(q) || String(p.role ?? \"\").toLowerCase().includes(q);\r\n      const matchesFilter =\r\n        filter === \"all\" || (filter === \"online\" && p.presence === \"online\") || (filter === \"offline\" && p.presence === \"offline\") || (filter === \"role\" && p.role === \"Team Lead\");\r\n      return matchesSearch && matchesFilter;\r\n    });\r\n  }, [people, searchQuery, filter]);\r\n\r\n  const onlineCount = people.filter((p) => p.presence === \"online\").length;\r\n  const totalCount = people.length;\r\n  const avgResponse = Math.round((people.reduce((s, p) => s + (p.respondRate ?? 0), 0) / (people.length || 1)) * 1) / 1;\r\n\r\n  // refs per person card to restore focus; create map of refs\r\n  const cardRefs = useRef<Map<string, React.RefObject<HTMLButtonElement>>>(new Map());\r\n  people.forEach((p) => {\r\n    if (!cardRefs.current.has(p.id)) cardRefs.current.set(p.id, React.createRef<HTMLButtonElement>());\r\n  });\r\n\r\n  return (\r\n    <main className=\"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-50 p-4 sm:p-6 lg:p-8\">\r\n      <div className=\"max-w-6xl mx-auto\">\r\n        {/* header */}\r\n        <header className=\"mb-6\">\r\n          <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <h1 className=\"text-2xl sm:text-3xl md:text-4xl font-bold bg-gradient-to-r from-slate-800 to-slate-600 bg-clip-text text-transparent\">\r\n                People\r\n              </h1>\r\n\r\n              {onlineCount > 0 && (\r\n                <motion.div initial={{ scale: 0 }} animate={{ scale: 1 }} className=\"px-3 py-1 bg-gradient-to-br from-blue-500 to-cyan-500 text-white text-sm font-bold rounded-full shadow-lg\">\r\n                  {onlineCount}\r\n                </motion.div>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"flex items-center gap-4\">\r\n              <div className=\"flex items-center gap-2 text-sm text-slate-500\">\r\n                <Users className=\"w-4 h-4\" />\r\n                <span>{team}</span>\r\n              </div>\r\n\r\n              <div className=\"flex items-center gap-2 text-sm text-slate-500\">\r\n                <CheckCircle2 className=\"w-4 h-4\" />\r\n                <span>{avgResponse}% avg response</span>\r\n              </div>\r\n\r\n              <div className=\"flex items-center gap-2 text-sm text-slate-500\">\r\n                <UserPlus className=\"w-4 h-4\" />\r\n                <span>{totalCount} members</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <p className=\"text-sm text-slate-500 mt-2\">Browse and message members of your team. Click a card to view details or message directly.</p>\r\n        </header>\r\n\r\n        {/* container */}\r\n        <section className=\"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden\">\r\n          {/* controls */}\r\n          <div className=\"p-4 sm:p-6 border-b border-slate-200\">\r\n            <div className=\"flex flex-col sm:flex-row sm:items-center gap-3\">\r\n              <div className=\"relative flex-1 min-w-[160px]\">\r\n                <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400\" />\r\n                <input\r\n                  type=\"search\"\r\n                  aria-label=\"Search people\"\r\n                  placeholder=\"Search people, email, role...\"\r\n                  value={searchQuery}\r\n                  onChange={(e) => setSearchQuery(e.target.value)}\r\n                  className=\"w-full pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl text-sm placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 focus:bg-white transition-all duration-150\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"flex items-center gap-2\">\r\n                <div className=\"flex items-center gap-2 overflow-x-auto\">\r\n                  <button\r\n                    onClick={() => setFilter(\"all\")}\r\n                    type=\"button\"\r\n                    className={`px-3 py-2 rounded-xl text-sm ${filter === \"all\" ? \"bg-gradient-to-br from-blue-500 to-cyan-500 text-white\" : \"bg-slate-50 text-slate-600 hover:bg-slate-100\"}`}\r\n                  >\r\n                    All\r\n                  </button>\r\n                  <button\r\n                    onClick={() => setFilter(\"online\")}\r\n                    type=\"button\"\r\n                    className={`px-3 py-2 rounded-xl text-sm ${filter === \"online\" ? \"bg-gradient-to-br from-blue-500 to-cyan-500 text-white\" : \"bg-slate-50 text-slate-600 hover:bg-slate-100\"}`}\r\n                  >\r\n                    Online\r\n                  </button>\r\n                  <button\r\n                    onClick={() => setFilter(\"offline\")}\r\n                    type=\"button\"\r\n                    className={`px-3 py-2 rounded-xl text-sm ${filter === \"offline\" ? \"bg-gradient-to-br from-blue-500 to-cyan-500 text-white\" : \"bg-slate-50 text-slate-600 hover:bg-slate-100\"}`}\r\n                  >\r\n                    Offline\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"ml-auto flex items-center gap-2\">\r\n                <label className=\"sr-only\" htmlFor=\"team-select-people\">\r\n                  Choose team\r\n                </label>\r\n                <select\r\n                  id=\"team-select-people\"\r\n                  value={team}\r\n                  onChange={(e) => setTeam(e.target.value)}\r\n                  className=\"px-3 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20\"\r\n                >\r\n                  <option>Growth Team</option>\r\n                  <option>Support Team</option>\r\n                  <option>Product Team</option>\r\n                </select>\r\n\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"px-4 py-2 rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 text-white font-medium text-sm shadow-lg hover:opacity-95\"\r\n                  onClick={() => {\r\n                    console.log(\"Invite new member\");\r\n                    router.push(\"/auth/invite\");\r\n                  }}\r\n                >\r\n                  Invite\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"mt-4 flex flex-col sm:flex-row sm:items-center sm:gap-6 gap-3 text-sm text-slate-600\">\r\n              <span className=\"flex items-center gap-2\">\r\n                <Users className=\"w-4 h-4\" />\r\n                {people.length} total\r\n              </span>\r\n              <span className=\"flex items-center gap-2\">\r\n                <UserCheck className=\"w-4 h-4 text-blue-500\" />\r\n                {onlineCount} online\r\n              </span>\r\n            </div>\r\n          </div>\r\n\r\n          {/* grid list of compact CardSquare cards */}\r\n          <div className=\"p-4 sm:p-6\">\r\n            {loading ? (\r\n              <div className=\"py-10 text-center text-sm text-slate-500\">Loading members…</div>\r\n            ) : error ? (\r\n              <div className=\"py-10 text-center text-sm text-rose-600\">{error}</div>\r\n            ) : filtered.length > 0 ? (\r\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n                {filtered.map((person) => {\r\n                  const ref = cardRefs.current.get(person.id) ?? React.createRef<HTMLButtonElement>();\r\n                  cardRefs.current.set(person.id, ref);\r\n                  return (\r\n                    <div key={person.id} className=\"w-full\">\r\n                      <CardSquare\r\n                        name={person.name}\r\n                        subtitle={person.role}\r\n                        avatarUrl={null}\r\n                        size=\"md\"\r\n                        asChild={false}\r\n                        onClick={() => openPersonModal(person, ref)}\r\n                        className=\"w-full\"\r\n                      />\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            ) : (\r\n              <div className=\"py-16 text-center\">\r\n                <div className=\"w-16 h-16 mx-auto mb-4 rounded-2xl bg-gradient-to-br from-slate-100 to-slate-200 flex items-center justify-center\">\r\n                  <Users className=\"w-8 h-8 text-slate-400\" />\r\n                </div>\r\n                <h3 className=\"text-lg font-semibold text-slate-800 mb-2\">No members found</h3>\r\n                <p className=\"text-slate-500\">Try adjusting your search, filters, or team selection</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </section>\r\n      </div>\r\n\r\n      {/* Person details modal */}\r\n      <PersonModal\r\n        person={selectedPerson}\r\n        open={isModalOpen}\r\n        onClose={closePersonModal}\r\n        onMessageClick={handleMessageClick}\r\n        initialFocusRef={lastTriggerRef}\r\n      />\r\n\r\n      {/* Message modal that contains the TeamChat for a direct chat with the selected member */}\r\n      <MessageModal\r\n        open={messageModalOpen}\r\n        onClose={() => setMessageModalOpen(false)}\r\n        memberId={messageTargetId}\r\n        memberName={messageTargetName ?? undefined}\r\n        currentUser={me}\r\n      />\r\n    </main>\r\n  );\r\n}\r\n"],"names":["c","_c","React","useEffect","useMemo","useRef","useState","motion","AnimatePresence","Search","User","UserIcon","Users","CheckCircle2","MoreVertical","Mail","MailIcon","Phone","PhoneIcon","Calendar","Globe","UserCheck","UserPlus","X","XIcon","CardSquare","Modal","dynamic","useRouter","TeamChat","then","m","default","ssr","Role","Presence","Person","id","name","role","presence","email","phone","location","tasksAssigned","respondRate","hiredAt","starred","label","text","colorClass","IconButton","FC","children","ReactNode","ariaLabel","title","onClick","e","MouseEvent","className","t0","$","$i","Symbol","for","t1","undefined","t2","t3","PersonModal","person","open","onClose","onMessageClick","initialFocusRef","RefObject","HTMLButtonElement","closeButtonRef","onKey","key","document","addEventListener","removeEventListener","t4","t","setTimeout","current","focus","clearTimeout","t5","opacity","y","duration","console","log","t6","MessageModal","memberId","memberName","currentUser","chatId","setChatId","loading","setLoading","errorText","setErrorText","mountedRef","cancelled","ensureChat","qRes","fetch","credentials","ok","j","json","catch","list","chats","items","found","find","type","chatType","toString","toLowerCase","includes","members","participants","userIds","memberIds","Array","isArray","length","_id","String","warn","attempts","body","userId","participantIds","directTo","a","res","method","headers","JSON","stringify","created","chat","message","txt","status","ManagerPeoplePage","JSX","Element","searchQuery","setSearchQuery","filter","setFilter","team","setTeam","people","setPeople","error","setError","selectedPerson","setSelectedPerson","isModalOpen","setIsModalOpen","lastTriggerRef","messageModalOpen","setMessageModalOpen","messageTargetId","setMessageTargetId","messageTargetName","setMessageTargetName","router","me","setMe","r","user","load","Error","teams","foundTeam","teamId","detailRes","encodeURIComponent","errText","dj","teamObj","map","err","openPersonModal","triggerRef","closePersonModal","handleMessageClick","filtered","q","trim","p","matchesSearch","matchesFilter","onlineCount","totalCount","avgResponse","Math","round","reduce","s","cardRefs","Map","forEach","has","set","createRef","scale","target","value","push","ref","get"],"mappings":"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","ignoreList":[],"debugId":null}}]
}