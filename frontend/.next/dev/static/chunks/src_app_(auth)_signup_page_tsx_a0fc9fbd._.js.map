{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["E:/Attack Capital/SignalHub/frontend/src/app/(auth)/signup/page.tsx"],"sourcesContent":["// File: app/(auth)/signup/page.tsx\r\n\"use client\";\r\n\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\n/* ---------- types ---------- */\r\ntype ApiResp = { ok?: boolean; tempToken?: string; error?: string; reason?: string; [k: string]: any };\r\ntype Country = { name: string; cca2: string; callingCode: string; flag?: string };\r\n\r\n/* ---------- helpers ---------- */\r\nasync function postJSON(url: string, body: any): Promise<ApiResp> {\r\n  try {\r\n    const res = await fetch(url, {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(body),\r\n      credentials: \"include\",\r\n    });\r\n    try {\r\n      return await res.json();\r\n    } catch {\r\n      return { ok: res.ok, error: res.statusText || \"Unexpected response\" };\r\n    }\r\n  } catch (err: any) {\r\n    return { error: err?.message || String(err) };\r\n  }\r\n}\r\n\r\n/* ---------- CountryDropdown component (searchable, accessible, responsive) ---------- */\r\nfunction useOnClickOutside(ref: React.RefObject<HTMLElement>, handler: () => void) {\r\n  useEffect(() => {\r\n    function listener(e: MouseEvent | TouchEvent) {\r\n      if (!ref.current || ref.current.contains(e.target as Node)) return;\r\n      handler();\r\n    }\r\n    document.addEventListener(\"mousedown\", listener);\r\n    document.addEventListener(\"touchstart\", listener);\r\n    return () => {\r\n      document.removeEventListener(\"mousedown\", listener);\r\n      document.removeEventListener(\"touchstart\", listener);\r\n    };\r\n  }, [ref, handler]);\r\n}\r\n\r\nfunction CountryDropdown({\r\n  countries,\r\n  value,\r\n  onChange,\r\n  disabled,\r\n  placeholder = \"Select country\",\r\n}: {\r\n  countries: Country[] | null;\r\n  value: Country | null;\r\n  onChange: (c: Country | null) => void;\r\n  disabled?: boolean;\r\n  placeholder?: string;\r\n}) {\r\n  const [open, setOpen] = useState(false);\r\n  const [query, setQuery] = useState(\"\");\r\n  const [highlight, setHighlight] = useState(0);\r\n  const rootRef = useRef<HTMLDivElement | null>(null);\r\n  const searchRef = useRef<HTMLInputElement | null>(null);\r\n  const listRef = useRef<HTMLUListElement | null>(null);\r\n\r\n  useOnClickOutside(rootRef, () => setOpen(false));\r\n\r\n  useEffect(() => {\r\n    // reset highlight when query changes\r\n    setHighlight(0);\r\n  }, [query, open]);\r\n\r\n  const items = (countries || []).filter((c) => {\r\n    if (!query) return true;\r\n    const q = query.toLowerCase();\r\n    return c.name.toLowerCase().includes(q) || c.callingCode.includes(q) || c.cca2.toLowerCase().includes(q);\r\n  });\r\n\r\n  function handleKeyDown(e: React.KeyboardEvent) {\r\n    if (!open && (e.key === \"ArrowDown\" || e.key === \"Enter\")) {\r\n      e.preventDefault();\r\n      setOpen(true);\r\n      setTimeout(() => searchRef.current?.focus(), 10);\r\n      return;\r\n    }\r\n    if (!open) return;\r\n\r\n    if (e.key === \"ArrowDown\") {\r\n      e.preventDefault();\r\n      setHighlight((h) => Math.min(h + 1, Math.max(0, items.length - 1)));\r\n      listRef.current?.querySelectorAll(\"li\")[Math.min(highlight + 1, items.length - 1)]?.scrollIntoView({ block: \"nearest\" });\r\n    } else if (e.key === \"ArrowUp\") {\r\n      e.preventDefault();\r\n      setHighlight((h) => Math.max(h - 1, 0));\r\n      listRef.current?.querySelectorAll(\"li\")[Math.max(highlight - 1, 0)]?.scrollIntoView({ block: \"nearest\" });\r\n    } else if (e.key === \"Enter\") {\r\n      e.preventDefault();\r\n      const pick = items[Math.min(highlight, items.length - 1)];\r\n      if (pick) {\r\n        onChange(pick);\r\n        setOpen(false);\r\n      }\r\n    } else if (e.key === \"Escape\") {\r\n      e.preventDefault();\r\n      setOpen(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"relative\" ref={rootRef}>\r\n      <button\r\n        type=\"button\"\r\n        aria-haspopup=\"listbox\"\r\n        aria-expanded={open}\r\n        onClick={() => {\r\n          if (disabled) return;\r\n          setOpen((v) => !v);\r\n          setTimeout(() => searchRef.current?.focus(), 10);\r\n        }}\r\n        onKeyDown={handleKeyDown}\r\n        className={`w-full text-left px-3 py-2 rounded border flex items-center gap-3 bg-white ${disabled ? \"opacity-60 pointer-events-none\" : \"hover:shadow-sm\"} transition`}\r\n      >\r\n        <div className=\"flex items-center gap-2\">\r\n          {value?.flag ? (\r\n            <img src={value.flag} alt={`${value.name} flag`} className=\"w-5 h-4 object-cover rounded-sm shadow-sm\" />\r\n          ) : (\r\n            <div className=\"w-5 h-4 bg-slate-100 rounded-sm\" />\r\n          )}\r\n          <div className=\"text-sm\">\r\n            <div className=\"font-medium\">{value ? value.name : <span className=\"text-slate-400\">{placeholder}</span>}</div>\r\n            <div className=\"text-xs text-slate-500\">{value ? value.callingCode : \"Select country code\"}</div>\r\n          </div>\r\n        </div>\r\n        <div className=\"ml-auto text-slate-400 text-sm\">\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" className={`h-5 w-5 transition-transform ${open ? \"rotate-180\" : \"\"}`} viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n            <path fillRule=\"evenodd\" d=\"M5.23 7.21a.75.75 0 011.06.02L10 11.584l3.71-4.355a.75.75 0 011.14.976l-4.25 5a.75.75 0 01-1.14 0l-4.25-5a.75.75 0 01.02-1.06z\" clipRule=\"evenodd\" />\r\n          </svg>\r\n        </div>\r\n      </button>\r\n\r\n      {/* Dropdown panel */}\r\n      <div\r\n        className={`absolute z-50 mt-2 w-full bg-white rounded-lg shadow-lg border overflow-hidden ${open ? \"opacity-100 scale-100\" : \"opacity-0 pointer-events-none scale-95\"} transition-all duration-150`}\r\n        style={{ minWidth: 260 }}\r\n        role=\"dialog\"\r\n        aria-modal=\"false\"\r\n      >\r\n        <div className=\"p-2\">\r\n          <input\r\n            ref={searchRef}\r\n            value={query}\r\n            onChange={(e) => setQuery(e.target.value)}\r\n            placeholder=\"Search country name or code (e.g. India, +91, IN)\"\r\n            onKeyDown={handleKeyDown}\r\n            className=\"w-full px-3 py-2 rounded border focus:ring-2 focus:ring-indigo-300 outline-none\"\r\n            aria-label=\"Search country\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"max-h-56 overflow-auto\">\r\n          <ul role=\"listbox\" ref={listRef} aria-label=\"Country options\" className=\"divide-y\">\r\n            {items.length === 0 ? (\r\n              <li className=\"px-4 py-3 text-sm text-slate-500\">No matches</li>\r\n            ) : (\r\n              items.map((c, idx) => {\r\n                const isActive = idx === highlight;\r\n                return (\r\n                  <li\r\n                    key={`${c.callingCode}-${c.cca2}`}\r\n                    role=\"option\"\r\n                    aria-selected={value?.callingCode === c.callingCode && value?.cca2 === c.cca2}\r\n                    onMouseEnter={() => setHighlight(idx)}\r\n                    onClick={() => {\r\n                      onChange(c);\r\n                      setOpen(false);\r\n                    }}\r\n                    className={`px-3 py-2 flex items-center gap-3 cursor-pointer hover:bg-slate-50 ${isActive ? \"bg-indigo-50\" : \"\"}`}\r\n                  >\r\n                    <img src={c.flag} alt={`${c.name} flag`} className=\"w-5 h-4 object-cover rounded-sm shadow-sm\" />\r\n                    <div className=\"flex-1 min-w-0\">\r\n                      <div className=\"text-sm font-medium truncate\">{c.name}</div>\r\n                      <div className=\"text-xs text-slate-500\">{c.callingCode} • {c.cca2}</div>\r\n                    </div>\r\n                    <div className=\"text-sm text-slate-600\">{value?.callingCode === c.callingCode && value?.cca2 === c.cca2 ? \"Selected\" : \"\"}</div>\r\n                  </li>\r\n                );\r\n              })\r\n            )}\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n/* ---------- component: SignupPage ---------- */\r\nexport default function SignupPage(): JSX.Element {\r\n  const router = useRouter();\r\n\r\n  // Mode / flow\r\n  type Mode = \"choose\" | \"email\" | \"verifyEmail\" | \"phone\" | \"verifyPhone\" | \"org\" | \"done\";\r\n  const [mode, setMode] = useState<Mode>(\"choose\");\r\n\r\n  // Fields\r\n  const [email, setEmail] = useState(\"\");\r\n  const [emailOtp, setEmailOtp] = useState(Array(6).fill(\"\"));\r\n  const [emailCode, setEmailCode] = useState(\"\");\r\n  const [tempToken, setTempToken] = useState<string | null>(null);\r\n\r\n  const [country, setCountry] = useState<Country | null>(null);\r\n  const [countries, setCountries] = useState<Country[] | null>(null);\r\n  const [countryLoading, setCountryLoading] = useState(true);\r\n  const [countryError, setCountryError] = useState<string | null>(null);\r\n\r\n  const [phone, setPhone] = useState(\"\");\r\n  const [phoneOtp, setPhoneOtp] = useState(Array(6).fill(\"\"));\r\n  const [phoneCode, setPhoneCode] = useState(\"\");\r\n\r\n  const [orgName, setOrgName] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\r\n  const [name, setName] = useState(\"\");\r\n\r\n  // password visibility toggles\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\r\n\r\n  // password validation UI\r\n  const [passwordTouched, setPasswordTouched] = useState(false);\r\n  const [passwordErrors, setPasswordErrors] = useState<string[]>([]);\r\n  const [passwordsMatch, setPasswordsMatch] = useState(true);\r\n\r\n  // UI\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [success, setSuccess] = useState<string | null>(null);\r\n\r\n  // Resend timers\r\n  const [emailResendAvailableAt, setEmailResendAvailableAt] = useState<number | null>(null);\r\n  const [phoneResendAvailableAt, setPhoneResendAvailableAt] = useState<number | null>(null);\r\n  const [now, setNow] = useState(Date.now());\r\n  useEffect(() => {\r\n    const id = window.setInterval(() => setNow(Date.now()), 1000);\r\n    return () => window.clearInterval(id);\r\n  }, []);\r\n\r\n  // computed step 1..4\r\n  function modeToStep(m: Mode) {\r\n    switch (m) {\r\n      case \"choose\":\r\n        return 1;\r\n      case \"email\":\r\n      case \"verifyEmail\":\r\n        return 2;\r\n      case \"phone\":\r\n      case \"verifyPhone\":\r\n        return 3;\r\n      case \"org\":\r\n      case \"done\":\r\n        return 4;\r\n      default:\r\n        return 1;\r\n    }\r\n  }\r\n  const step = modeToStep(mode);\r\n\r\n  /* ---------- COUNTRY FETCH (calls your proxy /api/countries) ---------- */\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    (async function fetchCountries() {\r\n      setCountryLoading(true);\r\n      setCountryError(null);\r\n      try {\r\n        const res = await fetch(\"/api/countries\");\r\n        if (!res.ok) {\r\n          const t = await res.text().catch(() => \"\");\r\n          throw new Error(`Failed to fetch /api/countries: ${res.status} ${t}`);\r\n        }\r\n        const json = await res.json();\r\n\r\n        if (!mounted) return;\r\n        if (!Array.isArray(json) || json.length === 0) throw new Error(\"No countries returned\");\r\n\r\n        // Normalise if needed (proxy already returns normalized objects but we keep resilience)\r\n        const parsed: Country[] = json.map((c: any) => ({\r\n          name: c.name || c.common || \"Unknown\",\r\n          cca2: (c.cca2 || c.CCA2 || \"\").toUpperCase(),\r\n          callingCode: String(c.callingCode || c.dialCode || c.callCode || \"\").trim(),\r\n          flag: c.flag || c.flags || \"\",\r\n        }))\r\n        .filter((c) => c.callingCode && c.name)\r\n        .sort((a,b) => a.name.localeCompare(b.name));\r\n\r\n        if (parsed.length === 0) throw new Error(\"No countries with calling codes returned\");\r\n        setCountries(parsed);\r\n\r\n        // sensible default: try locale -> +91 -> +1 -> first\r\n        const locale = (navigator.language || (navigator.languages && navigator.languages[0]) || \"\").toLowerCase();\r\n        const match = locale.match(/-([a-z]{2})$/i);\r\n        let defaultCountry: Country | null = null;\r\n        if (match) {\r\n          const cca = match[1].toUpperCase();\r\n          defaultCountry = parsed.find((c) => c.cca2 === cca) || null;\r\n        }\r\n        if (!defaultCountry) defaultCountry = parsed.find((c) => c.callingCode === \"+91\") || parsed.find((c) => c.callingCode === \"+1\") || parsed[0] || null;\r\n        setCountry(defaultCountry);\r\n      } catch (err: any) {\r\n        if (!mounted) return;\r\n        console.error(\"Country fetch error:\", err);\r\n        setCountries(null);\r\n        setCountryError(String(err?.message || err));\r\n      } finally {\r\n        if (mounted) setCountryLoading(false);\r\n      }\r\n    })();\r\n\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, []);\r\n\r\n  // helpers: countdown formatter\r\n  function formatCountdown(unixMs: number | null) {\r\n    if (!unixMs) return null;\r\n    const s = Math.max(0, Math.ceil((unixMs - now) / 1000));\r\n    if (s <= 0) return null;\r\n    return `${s}s`;\r\n  }\r\n  function setResendDeadline(setter: (v: number | null) => void, seconds = 30) {\r\n    setter(Date.now() + seconds * 1000);\r\n  }\r\n\r\n  // ---------- OTP utilities (unchanged) ----------\r\n  function handleOtpInput(e: React.KeyboardEvent<HTMLInputElement>, idx: number, otpArr: string[], setOtpArr: (a: string[]) => void) {\r\n    const target = e.target as HTMLInputElement;\r\n    const key = e.key;\r\n    if (key === \"Backspace\") {\r\n      e.preventDefault();\r\n      const next = [...otpArr];\r\n      if (next[idx]) {\r\n        next[idx] = \"\";\r\n        setOtpArr(next);\r\n      } else {\r\n        const prev = Math.max(0, idx - 1);\r\n        const prevInput = document.getElementById(`otp-${target.dataset.for}-${prev}`) as HTMLInputElement | null;\r\n        if (prevInput) {\r\n          prevInput.focus();\r\n          const n = [...otpArr];\r\n          n[prev] = \"\";\r\n          setOtpArr(n);\r\n        }\r\n      }\r\n    } else if (/^[0-9]$/.test(key)) {\r\n      e.preventDefault();\r\n      const next = [...otpArr];\r\n      next[idx] = key;\r\n      setOtpArr(next);\r\n      const nextIdx = Math.min(next.length - 1, idx + 1);\r\n      const nextInput = document.getElementById(`otp-${target.dataset.for}-${nextIdx}`) as HTMLInputElement | null;\r\n      if (nextInput) nextInput.focus();\r\n    } else if (key === \"ArrowLeft\") {\r\n      e.preventDefault();\r\n      const prev = Math.max(0, idx - 1);\r\n      const prevInput = document.getElementById(`otp-${target.dataset.for}-${prev}`) as HTMLInputElement | null;\r\n      prevInput?.focus();\r\n    } else if (key === \"ArrowRight\") {\r\n      e.preventDefault();\r\n      const nxt = Math.min(otpArr.length - 1, idx + 1);\r\n      const nextInput = document.getElementById(`otp-${target.dataset.for}-${nxt}`) as HTMLInputElement | null;\r\n      nextInput?.focus();\r\n    }\r\n  }\r\n\r\n  function handleOtpPaste(e: React.ClipboardEvent<HTMLInputElement>, otpArr: string[], setOtpArr: (a: string[]) => void) {\r\n    e.preventDefault();\r\n    const paste = e.clipboardData.getData(\"text\").trim();\r\n    const digits = paste.replace(/\\D/g, \"\").slice(0, otpArr.length).split(\"\");\r\n    if (digits.length === 0) return;\r\n    const next = [...otpArr];\r\n    for (let i = 0; i < digits.length; i++) next[i] = digits[i];\r\n    setOtpArr(next);\r\n    const firstEmpty = next.findIndex((c) => !c);\r\n    const focusIdx = firstEmpty === -1 ? next.length - 1 : firstEmpty;\r\n    const el = document.getElementById(`otp-${(e.target as HTMLInputElement).dataset.for}-${focusIdx}`) as HTMLInputElement | null;\r\n    el?.focus();\r\n  }\r\n\r\n  useEffect(() => setEmailCode(emailOtp.join(\"\")), [emailOtp]);\r\n  useEffect(() => setPhoneCode(phoneOtp.join(\"\")), [phoneOtp]);\r\n\r\n  // ---------- PASSWORD VALIDATION ----------\r\n\r\nfunction validatePassword(pw: string): string[] {\r\n  const errs: string[] = [];\r\n  if (!pw || pw.length < 8) errs.push(\"Password must be at least 8 characters.\");\r\n  if (!/[A-Z]/.test(pw)) errs.push(\"Include at least one uppercase letter.\");\r\n  if (!/[a-z]/.test(pw)) errs.push(\"Include at least one lowercase letter.\");\r\n  if (!/[0-9]/.test(pw)) errs.push(\"Include at least one number.\");\r\n  if (!/[^A-Za-z0-9]/.test(pw)) errs.push(\"Include at least one symbol (e.g. !@#$%).\");\r\n  return errs;\r\n}\r\n\r\n  useEffect(() => {\r\n    // run validation as user types\r\n    const errs = validatePassword(password);\r\n    setPasswordErrors(errs);\r\n    setPasswordsMatch(password === confirmPassword || confirmPassword.length === 0);\r\n  }, [password, confirmPassword]);\r\n\r\n  // ---------- API actions (unchanged behaviour, except finalize uses collected profile data) ----------\r\n  async function handleSendEmailOtp(e?: React.FormEvent) {\r\n    e?.preventDefault();\r\n    setError(null);\r\n    if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email)) {\r\n      setError(\"Please enter a valid email address.\");\r\n      return;\r\n    }\r\n    setLoading(true);\r\n    try {\r\n      const data = await postJSON(\"/api/auth/email/send\", { email });\r\n      if (data?.ok) {\r\n        setMode(\"verifyEmail\");\r\n        setResendDeadline(setEmailResendAvailableAt, 45);\r\n        setEmailOtp(Array(6).fill(\"\"));\r\n        setTimeout(() => document.getElementById(\"otp-email-0\")?.focus(), 120);\r\n      } else setError(data?.error || \"Failed to send OTP. Try again.\");\r\n    } catch (err: any) {\r\n      setError(err?.message || String(err));\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  async function handleVerifyEmailOtp(e?: React.FormEvent) {\r\n    e?.preventDefault();\r\n    setError(null);\r\n    if (emailCode.length < 4) {\r\n      setError(\"Enter the full code you received by email.\");\r\n      return;\r\n    }\r\n    setLoading(true);\r\n    try {\r\n      const data = await postJSON(\"/api/auth/email/verify\", { email, code: emailCode, flow: \"signup\" });\r\n      if (data?.ok && data?.tempToken) {\r\n        setTempToken(data.tempToken);\r\n        setMode(\"phone\");\r\n      } else setError(data?.error || data?.reason || \"Invalid or expired code.\");\r\n    } catch (err: any) {\r\n      setError(err?.message || String(err));\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  async function handleSendPhoneOtp(e?: React.FormEvent) {\r\n    e?.preventDefault();\r\n    setError(null);\r\n    const dial = country?.callingCode ?? \"\";\r\n    const typed = phone.trim();\r\n    const full = typed.startsWith(\"+\") ? typed : `${dial}${typed.replace(/\\D/g, \"\")}`;\r\n    if (!/^\\+?[0-9]{7,20}$/.test(full)) {\r\n      setError(\"Please enter a valid phone number including country code (or select country).\");\r\n      return;\r\n    }\r\n    setLoading(true);\r\n    try {\r\n      const data = await postJSON(\"/api/auth/phone/send\", { phone: full });\r\n      if (data?.ok) {\r\n        setMode(\"verifyPhone\");\r\n        setResendDeadline(setPhoneResendAvailableAt, 45);\r\n        setPhoneOtp(Array(6).fill(\"\"));\r\n        setTimeout(() => document.getElementById(\"otp-phone-0\")?.focus(), 120);\r\n      } else setError(data?.error || \"Failed to send SMS OTP.\");\r\n    } catch (err: any) {\r\n      setError(String(err));\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  async function handleVerifyPhoneOtp(e?: React.FormEvent) {\r\n    e?.preventDefault();\r\n    setError(null);\r\n    if (phoneCode.length < 4) {\r\n      setError(\"Enter the full SMS code you received.\");\r\n      return;\r\n    }\r\n    setLoading(true);\r\n    try {\r\n      const dial = country?.callingCode ?? \"\";\r\n      const typed = phone.trim();\r\n      const full = typed.startsWith(\"+\") ? typed : `${dial}${typed.replace(/\\D/g, \"\")}`;\r\n\r\n      const res = await postJSON(\"/api/auth/phone/verify\", { phone: full, code: phoneCode, tempToken });\r\n      if (res?.ok && res?.tempToken) {\r\n        setTempToken(res.tempToken);\r\n        setMode(\"org\");\r\n      } else setError(res?.reason || res?.error || \"Phone verification failed.\");\r\n    } catch (err: any) {\r\n      setError(String(err));\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n function buildFullPhone(typed: string | undefined, country?: { callingCode?: string }) {\r\n  if (!typed) return null;\r\n  const raw = typed.trim();\r\n  if (raw.startsWith(\"+\")) {\r\n    // keep plus and digits only\r\n    const digits = raw.replace(/[^\\d+]/g, \"\");\r\n    return digits;\r\n  }\r\n  const cc = country?.callingCode ?? \"\";\r\n  const onlyDigits = raw.replace(/\\D/g, \"\");\r\n  if (!cc && !onlyDigits) return null;\r\n  // if calling code doesn't start with +, ensure it does\r\n  const normalizedCc = cc.startsWith(\"+\") ? cc : cc ? `+${cc}` : \"\";\r\n  return `${normalizedCc}${onlyDigits}`;\r\n}\r\n\r\n// Replace your handleFinalize with this (in src/app/(auth)/signup/page.tsx)\r\nasync function handleFinalize(e?: React.FormEvent) {\r\n  e?.preventDefault();\r\n  setError(null);\r\n\r\n  // client-side validations (password policy + confirm)\r\n  setPasswordTouched(true);\r\n  const errs = validatePassword(password); // keep your validatePassword helper\r\n  if (errs.length > 0) {\r\n    setPasswordErrors(errs);\r\n    setError(\"Please fix the password requirements.\");\r\n    return;\r\n  }\r\n  if (password !== confirmPassword) {\r\n    setPasswordsMatch(false);\r\n    setError(\"Passwords do not match.\");\r\n    return;\r\n  }\r\n  if (!orgName?.trim()) {\r\n    setError(\"Organization name is required.\");\r\n    return;\r\n  }\r\n  if (!name?.trim()) {\r\n    setError(\"Your name is required.\");\r\n    return;\r\n  }\r\n\r\n  // build normalized phone if present (you already had this helper)\r\n  const normalizedPhone =\r\n    phone && (phone.startsWith(\"+\") ? phone : `${country?.callingCode ?? \"\"}${phone.replace(/\\D/g, \"\")}`);\r\n\r\n  const payload: Record<string, any> = {\r\n    tempToken,\r\n    organizationName: orgName.trim(),\r\n    password,\r\n    name: name.trim(),\r\n  };\r\n  if (email) payload.email = email;\r\n  if (normalizedPhone) payload.phone = normalizedPhone;\r\n  if (country) payload.country = { name: country.name, cca2: country.cca2, callingCode: country.callingCode };\r\n\r\n  setLoading(true);\r\n  try {\r\n    const res = await postJSON(\"/api/auth/signup/finalize\", payload);\r\n\r\n    if (res?.ok) {\r\n      // Server set HttpOnly cookie for session; now redirect to account/dashboard\r\n      setSuccess(\"Account created — signing you in...\");\r\n      setMode(\"done\");\r\n\r\n      // small delay so success is visible\r\n      setTimeout(() => {\r\n        // send user to their account landing (account page will fetch /api/me)\r\n        router.push(\"/account\");\r\n      }, 700);\r\n    } else {\r\n      // server returned ok: false or error\r\n      setError(res?.error || res?.reason || \"Failed to finalize signup.\");\r\n    }\r\n  } catch (err: any) {\r\n    setError(String(err) || \"Unexpected error\");\r\n  } finally {\r\n    setLoading(false);\r\n  }\r\n}\r\n\r\n\r\n  async function handleResendEmail() {\r\n    if (emailResendAvailableAt && emailResendAvailableAt > Date.now()) return;\r\n    setError(null);\r\n    setLoading(true);\r\n    try {\r\n      const data = await postJSON(\"/api/auth/email/send\", { email, resend: true });\r\n      if (data?.ok) setResendDeadline(setEmailResendAvailableAt, 45);\r\n      else setError(data?.error || \"Unable to resend OTP.\");\r\n    } catch (err: any) {\r\n      setError(String(err));\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  async function handleResendPhone() {\r\n    if (phoneResendAvailableAt && phoneResendAvailableAt > Date.now()) return;\r\n    setError(null);\r\n    setLoading(true);\r\n    try {\r\n      const data = await postJSON(\"/api/auth/phone/send\", { phone, resend: true });\r\n      if (data?.ok) setResendDeadline(setPhoneResendAvailableAt, 45);\r\n      else setError(data?.error || \"Unable to resend SMS OTP.\");\r\n    } catch (err: any) {\r\n      setError(String(err));\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  // compute fill percent (0..100) like before for smooth bar animation\r\n  function computeFillPercent() {\r\n    const s = step;\r\n    if (s <= 1) return 0;\r\n    return Math.round(((s - 1) / 3) * 100);\r\n  }\r\n  const fillPercent = computeFillPercent();\r\n\r\n  /* ---------- UI ---------- */\r\n  return (\r\n    <div className=\"min-h-screen w-full bg-gradient-to-b from-slate-50 to-white flex items-center justify-center p-6\">\r\n      <div className=\"w-full max-w-7xl bg-white/95 rounded-3xl shadow-2xl overflow-hidden grid grid-cols-1 md:grid-cols-2 ring-1 ring-slate-100\">\r\n        {/* LEFT: form/card */}\r\n        <div className=\"p-8 md:p-12 flex items-start\">\r\n          <div className=\"w-full max-w-md mx-auto\">\r\n            {/* header */}\r\n            <div className=\"flex items-center gap-4 mb-6\">\r\n              <div className=\"w-14 h-14 rounded-2xl bg-gradient-to-tr from-indigo-600 to-violet-500 flex items-center justify-center text-white font-extrabold shadow-xl\">U</div>\r\n              <div>\r\n                <h1 className=\"text-3xl md:text-4xl font-extrabold text-slate-900\">Welcome to SignalHub</h1>\r\n                <p className=\"text-sm text-slate-500 mt-1\">Create an admin account and organization — secure by default.</p>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Progress area */}\r\n            <div className=\"mb-6\">\r\n              <div className=\"relative\">\r\n                <div className=\"absolute left-6 right-6 top-6 h-0.5 bg-slate-100 rounded\" />\r\n                <div\r\n                  className=\"absolute left-6 top-6 h-0.5 bg-gradient-to-r from-indigo-600 to-emerald-400 rounded transition-all duration-500 ease-out\"\r\n                  style={{ width: `${fillPercent}%` }}\r\n                />\r\n                <div className=\"relative flex items-center justify-between\">\r\n                  {[1, 2, 3, 4].map((n) => {\r\n                    const isActive = n === step;\r\n                    const isCompleted = n < step;\r\n                    return (\r\n                      <div key={n} className=\"flex-1 flex flex-col items-center text-center px-1\">\r\n                        <div\r\n                          className={`w-11 h-11 rounded-full flex items-center justify-center text-sm font-semibold transition ${\r\n                            isCompleted ? \"bg-indigo-600 text-white shadow-2xl scale-105\" : isActive ? \"bg-indigo-600 text-white ring-4 ring-indigo-100 animate-pulse\" : \"bg-white border border-slate-200 text-slate-600\"\r\n                          }`}\r\n                        >\r\n                          {n}\r\n                        </div>\r\n                        <div className=\"text-[11px] text-slate-500 mt-2\">{[\"Choose\", \"Email\", \"Phone\", \"Org\"][n - 1]}</div>\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* status */}\r\n            <div role=\"status\" aria-live=\"polite\" className=\"min-h-[1.4rem] mb-4\">\r\n              {error && <div className=\"text-sm text-red-600\">{error}</div>}\r\n              {success && <div className=\"text-sm text-emerald-600\">{success}</div>}\r\n            </div>\r\n\r\n            {/* Forms depending on mode */}\r\n            <div>\r\n              {/* CHOOSE */}\r\n              {mode === \"choose\" && (\r\n                <div className=\"space-y-4\">\r\n                  <button onClick={() => (window.location.href = \"/api/auth/oauth/google/start?flow=signup\")} className=\"w-full p-3 border rounded-lg flex items-center gap-3 justify-center hover:shadow-lg transition\">\r\n                    <img src=\"/google.png\" alt=\"Google\" className=\"w-7 h-7\" />\r\n                    <span className=\"text-sm font-medium text-slate-700\">Continue with Google</span>\r\n                  </button>\r\n\r\n                  <div className=\"text-center text-sm text-slate-400\">or</div>\r\n\r\n                  <button onClick={() => setMode(\"email\")} className=\"w-full p-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition shadow-md\">\r\n                    Sign up with Email\r\n                  </button>\r\n                  <div><span>Already have an account? <a className=\"text-blue-700 -underline-offset-1\" href=\"/login\">Login</a></span></div>\r\n                </div>\r\n              )}\r\n\r\n              {/* EMAIL - send */}\r\n              {mode === \"email\" && (\r\n                <form onSubmit={handleSendEmailOtp} className=\"space-y-3\" noValidate>\r\n                  <label className=\"block text-sm font-medium text-slate-600\">Email</label>\r\n                  <input value={email} onChange={(e) => setEmail(e.target.value)} className=\"w-full bg-indigo-100 p-3 border rounded focus:ring-2 focus:ring-indigo-300 focus:outline-none border-none\" placeholder=\"you@example.com\" type=\"email\" />\r\n                  <div className=\"flex gap-3\">\r\n                    <button type=\"submit\" disabled={loading} className=\"flex-1 px-4 py-2 bg-indigo-600 text-white rounded\">\r\n                      {loading ? \"Sending...\" : \"Send code\"}\r\n                    </button>\r\n                    <button type=\"button\" onClick={() => setMode(\"choose\")} className=\"px-4 py-2 border rounded\">\r\n                      Back\r\n                    </button>\r\n                  </div>\r\n                  <p className=\"text-xs text-slate-400\">A one-time code will be sent to verify your email.</p>\r\n                </form>\r\n              )}\r\n\r\n              {/* EMAIL - verify (otp boxes) */}\r\n              {mode === \"verifyEmail\" && (\r\n                <form onSubmit={handleVerifyEmailOtp} className=\"space-y-3\" noValidate>\r\n                  <p className=\"text-sm text-slate-600\">Enter the code sent to <strong>{email}</strong></p>\r\n\r\n                  <label className=\"block text-sm font-medium text-slate-600\">Code</label>\r\n                  <div className=\"flex gap-2\">\r\n                    {emailOtp.map((digit, i) => (\r\n                      <input\r\n                        key={i}\r\n                        id={`otp-email-${i}`}\r\n                        data-for=\"email\"\r\n                        inputMode=\"numeric\"\r\n                        pattern=\"[0-9]*\"\r\n                        maxLength={1}\r\n                        value={digit}\r\n                        onPaste={(e) => handleOtpPaste(e, emailOtp, setEmailOtp)}\r\n                        onKeyDown={(e) => handleOtpInput(e, i, emailOtp, setEmailOtp)}\r\n                        onChange={() => {}}\r\n                        aria-label={`Email code digit ${i + 1}`}\r\n                        className=\"w-12 h-12 text-center text-lg rounded border border-slate-200 focus:ring-2 focus:ring-indigo-300\"\r\n                      />\r\n                    ))}\r\n                  </div>\r\n\r\n                  <div className=\"flex gap-3\">\r\n                    <button type=\"submit\" disabled={loading} className=\"flex-1 px-4 py-2 bg-indigo-600 text-white rounded\">\r\n                      {loading ? \"Verifying...\" : \"Verify\"}\r\n                    </button>\r\n                    <button type=\"button\" onClick={() => setMode(\"email\")} className=\"px-4 py-2 border rounded\">\r\n                      Back\r\n                    </button>\r\n                  </div>\r\n\r\n                  <div className=\"flex items-center justify-between text-xs text-slate-500\">\r\n                    <div>\r\n                      {formatCountdown(emailResendAvailableAt) ? (\r\n                        <span>Resend in {formatCountdown(emailResendAvailableAt)}</span>\r\n                      ) : (\r\n                        <button type=\"button\" onClick={handleResendEmail} className=\"underline text-indigo-600\">\r\n                          Resend code\r\n                        </button>\r\n                      )}\r\n                    </div>\r\n                    <div className=\"text-right\">Didn't receive? Check spam.</div>\r\n                  </div>\r\n                </form>\r\n              )}\r\n\r\n              {/* PHONE - send (country select + number) */}\r\n              {mode === \"phone\" && (\r\n                <form onSubmit={handleSendPhoneOtp} className=\"space-y-3\" noValidate>\r\n                  <label className=\"block text-sm font-medium text-slate-600\">Phone</label>\r\n\r\n                  {/* Country dropdown + phone input */}\r\n                  <div className=\"flex gap-2 items-start\">\r\n                    <div className=\"w-44\">\r\n                      {/* CountryDropdown component */}\r\n                      <CountryDropdown\r\n                        countries={countries}\r\n                        value={country}\r\n                        onChange={(c) => setCountry(c)}\r\n                        disabled={countryLoading || !!countryError}\r\n                        placeholder={countryLoading ? \"Loading countries...\" : countryError ? \"Unavailable\" : \"Select country\"}\r\n                      />\r\n                      {/* small helper */}\r\n                      <div className=\"text-xs text-slate-400 mt-2\">\r\n                        {countryLoading ? \"Loading dial codes...\" : countryError ? <span className=\"text-red-500\">Unable to load list</span> : \"Select country code\"}\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* phone input */}\r\n                    <div className=\"flex-1\">\r\n                      <div className=\"flex gap-2\">\r\n                        <div className=\"flex items-center px-3 border rounded bg-slate-50 text-sm\">\r\n                          <span className=\"mr-2\">{country?.flag ? <img src={country.flag} alt={country.name} className=\"w-5 h-4 object-cover inline-block\" /> : null}</span>\r\n                          <span className=\"font-medium\">{country?.callingCode ?? \"+\"}</span>\r\n                        </div>\r\n                        <input\r\n                          value={phone}\r\n                          onChange={(e) => setPhone(e.target.value)}\r\n                          placeholder={country ? `${country.callingCode} 98765 43210` : \"98765 43210\"}\r\n                          className=\"flex-1 p-2 border rounded focus:ring-2 focus:ring-indigo-300 border-none bg-indigo-50\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"flex gap-3\">\r\n                    <button type=\"submit\" disabled={loading} className=\"flex-1 px-4 py-2 bg-indigo-600 text-white rounded\">\r\n                      {loading ? \"Sending...\" : \"Send SMS\"}\r\n                    </button>\r\n                    <button type=\"button\" onClick={() => setMode(\"verifyEmail\")} className=\"px-4 py-2 border rounded\">\r\n                      Back\r\n                    </button>\r\n                  </div>\r\n\r\n                  <p className=\"text-xs text-slate-400\">Standard SMS rates may apply.</p>\r\n                </form>\r\n              )}\r\n\r\n              {/* PHONE - verify (otp boxes) */}\r\n              {mode === \"verifyPhone\" && (\r\n                <form onSubmit={handleVerifyPhoneOtp} className=\"space-y-3\" noValidate>\r\n                  <p className=\"text-sm text-slate-600\">Enter the SMS code sent to <strong>{country?.callingCode ?? \"\"} {phone}</strong></p>\r\n\r\n                  <label className=\"block text-sm font-medium text-slate-600\">SMS Code</label>\r\n                  <div className=\"flex gap-2\">\r\n                    {phoneOtp.map((digit, i) => (\r\n                      <input\r\n                        key={i}\r\n                        id={`otp-phone-${i}`}\r\n                        data-for=\"phone\"\r\n                        inputMode=\"numeric\"\r\n                        pattern=\"[0-9]*\"\r\n                        maxLength={1}\r\n                        value={digit}\r\n                        onPaste={(e) => handleOtpPaste(e, phoneOtp, setPhoneOtp)}\r\n                        onKeyDown={(e) => handleOtpInput(e, i, phoneOtp, setPhoneOtp)}\r\n                        onChange={() => {}}\r\n                        aria-label={`Phone code digit ${i + 1}`}\r\n                        className=\"w-12 h-12 text-center text-lg rounded border border-slate-200 focus:ring-2 focus:ring-indigo-300\"\r\n                      />\r\n                    ))}\r\n                  </div>\r\n\r\n                  <div className=\"flex gap-3\">\r\n                    <button type=\"submit\" disabled={loading} className=\"flex-1 px-4 py-2 bg-indigo-600 text-white rounded\">\r\n                      {loading ? \"Verifying...\" : \"Verify\"}\r\n                    </button>\r\n                    <button type=\"button\" onClick={() => setMode(\"phone\")} className=\"px-4 py-2 border rounded\">\r\n                      Back\r\n                    </button>\r\n                  </div>\r\n\r\n                  <div className=\"flex items-center justify-between text-xs text-slate-500\">\r\n                    <div>\r\n                      {formatCountdown(phoneResendAvailableAt) ? (\r\n                        <span>Resend in {formatCountdown(phoneResendAvailableAt)}</span>\r\n                      ) : (\r\n                        <button type=\"button\" onClick={handleResendPhone} className=\"underline text-indigo-600\">\r\n                          Resend SMS\r\n                        </button>\r\n                      )}\r\n                    </div>\r\n                    <div>Contact support if you don't receive SMS.</div>\r\n                  </div>\r\n                </form>\r\n              )}\r\n\r\n              {/* ORG finalize */}\r\n              {mode === \"org\" && (\r\n                <form onSubmit={handleFinalize} className=\"space-y-4\" noValidate>\r\n                  <label className=\"block text-sm font-medium text-slate-600\">Organization name</label>\r\n                  <input value={orgName} placeholder=\"Enter the name\" onChange={(e) => setOrgName(e.target.value)} className=\"w-full bg-indigo-50 border-none p-3 border rounded focus:ring-2 focus:ring-indigo-300\" />\r\n\r\n                  <label className=\"block text-sm font-medium text-slate-600\">Your name</label>\r\n                  <input value={name} onChange={(e) => setName(e.target.value)} className=\"w-full p-3 border-none border rounded focus:ring-2 focus:ring-indigo-300\" />\r\n\r\n                  {/* PASSWORD (now mandatory) */}\r\n                  <label className=\"block  text-sm font-medium text-slate-600\">Password</label>\r\n                  <div className=\"relative\">\r\n                    <input\r\n                      type={showPassword ? \"text\" : \"password\"}\r\n                      value={password}\r\n                      onChange={(e) => {\r\n                        setPasswordTouched(true);\r\n                        setPassword(e.target.value);\r\n                      }}\r\n                      onBlur={() => setPasswordTouched(true)}\r\n                      placeholder=\"Create a strong password\"\r\n                      className={`w-full p-3 border rounded focus:ring-2 focus:ring-indigo-300 pr-12 border-none bg-indigo-50`}\r\n                      aria-required\r\n                    />\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => setShowPassword((v) => !v)}\r\n                      aria-label={showPassword ? \"Hide password\" : \"Show password\"}\r\n                      className=\"absolute right-2 top-1/2 -translate-y-1/2 p-2 rounded hover:bg-slate-100\"\r\n                    >\r\n                      {showPassword ? (\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 text-slate-600\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\">\r\n                          <path strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M3 3l18 18M9.5 9.5a3 3 0 104.001 4.001M12 5c4.97 0 9 4.03 9 7s-4.03 7-9 7c-1.26 0-2.45-.22-3.56-.62\" />\r\n                        </svg>\r\n                      ) : (\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 text-slate-600\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\">\r\n                          <path strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 5c-4.97 0-9 4.03-9 7s4.03 7 9 7 9-4.03 9-7-4.03-7-9-7z\" />\r\n                          <circle cx=\"12\" cy=\"12\" r=\"3\" strokeWidth=\"1.5\" />\r\n                        </svg>\r\n                      )}\r\n                    </button>\r\n                  </div>\r\n\r\n                  {/* CONFIRM PASSWORD */}\r\n                  <label className=\"block text-sm font-medium text-slate-600\">Retype password</label>\r\n                  <div className=\"relative\">\r\n                    <input\r\n                      type={showConfirmPassword ? \"text\" : \"password\"}\r\n                      value={confirmPassword}\r\n                      onChange={(e) => setConfirmPassword(e.target.value)}\r\n                      onBlur={() => setPasswordTouched(true)}\r\n                      placeholder=\"Retype password\"\r\n                      className={`w-full p-3 border-none bg-indigo-50 border rounded focus:ring-2 focus:ring-indigo-300 pr-12 ${passwordTouched && !passwordsMatch ? \"border-red-400\" : \"\"}`}\r\n                      aria-required\r\n                    />\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => setShowConfirmPassword((v) => !v)}\r\n                      aria-label={showConfirmPassword ? \"Hide password\" : \"Show password\"}\r\n                      className=\"absolute right-2 top-1/2 -translate-y-1/2 p-2 rounded hover:bg-slate-100\"\r\n                    >\r\n                      {showConfirmPassword ? (\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 text-slate-600\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\">\r\n                          <path strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M3 3l18 18M9.5 9.5a3 3 0 104.001 4.001M12 5c4.97 0 9 4.03 9 7s-4.03 7-9 7c-1.26 0-2.45-.22-3.56-.62\" />\r\n                        </svg>\r\n                      ) : (\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 text-slate-600\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\">\r\n                          <path strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 5c-4.97 0-9 4.03-9 7s4.03 7 9 7 9-4.03 9-7-4.03-7-9-7z\" />\r\n                          <circle cx=\"12\" cy=\"12\" r=\"3\" strokeWidth=\"1.5\" />\r\n                        </svg>\r\n                      )}\r\n                    </button>\r\n                  </div>\r\n\r\n                  {/* Password requirements UI */}\r\n                  <div className=\"text-xs text-slate-500 mt-2\">\r\n                    <div className=\"mb-1\">Password must contain:</div>\r\n                    <ul className=\"grid grid-cols-1 sm:grid-cols-2 gap-1\">\r\n                      {[\r\n                        { ok: password.length >= 8, label: \"8+ characters\" },\r\n                        { ok: /[A-Z]/.test(password), label: \"Uppercase letter\" },\r\n                        { ok: /[a-z]/.test(password), label: \"Lowercase letter\" },\r\n                        { ok: /[0-9]/.test(password), label: \"Number\" },\r\n                        { ok: /[^\\w\\s]/.test(password), label: \"Symbol\" },\r\n                      ].map((r) => (\r\n                        <li key={r.label} className=\"flex items-center gap-2 text-[13px]\">\r\n                          {r.ok ? (\r\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4 text-emerald-600\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                              <path fillRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 00-1.414-1.414L8 11.172 4.707 7.879a1 1 0 10-1.414 1.414l4 4a1 1 0 001.414 0l8-8z\" clipRule=\"evenodd\" />\r\n                            </svg>\r\n                          ) : (\r\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4 text-slate-400\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                              <path d=\"M10 3a1 1 0 011 1v2a1 1 0 11-2 0V4a1 1 0 011-1zm0 10a1 1 0 011 1v2a1 1 0 11-2 0v-2a1 1 0 011-1zM4 10a1 1 0 011-1h2a1 1 0 110 2H5a1 1 0 01-1-1zm10 0a1 1 0 011-1h2a1 1 0 110 2h-2a1 1 0 01-1-1z\" />\r\n                            </svg>\r\n                          )}\r\n                          <span className={`${r.ok ? \"text-slate-700\" : \"text-slate-400\"}`}>{r.label}</span>\r\n                        </li>\r\n                      ))}\r\n                    </ul>\r\n                    {!passwordsMatch && confirmPassword.length > 0 && (\r\n                      <div className=\"mt-2 text-sm text-red-600\">Passwords do not match.</div>\r\n                    )}\r\n                  </div>\r\n\r\n                  <div className=\"flex gap-3 pt-3\">\r\n                    <button\r\n                      disabled={loading}\r\n                      className={`flex-1 px-4 py-2 bg-indigo-600 text-white rounded shadow ${loading ? \"opacity-70\" : \"hover:brightness-95\"}`}\r\n                      type=\"submit\"\r\n                    >\r\n                      {loading ? \"Creating...\" : \"Create organization\"}\r\n                    </button>\r\n                    <button type=\"button\" onClick={() => setMode(\"phone\")} className=\"px-4 py-2 border rounded\">\r\n                      Back\r\n                    </button>\r\n                  </div>\r\n                </form>\r\n              )}\r\n\r\n              {/* DONE */}\r\n              {mode === \"done\" && (\r\n                <div className=\"text-center py-6\">\r\n                  <h3 className=\"text-lg font-semibold text-emerald-700\">Success</h3>\r\n                  <p className=\"text-sm text-slate-600 mt-2\">{success || \"Your organization has been created.\"}</p>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* RIGHT: hero/illustration */}\r\n        <div className=\"hidden md:block relative bg-gradient-to-br from-indigo-500 to-emerald-300\">\r\n          <img src=\"/signup-hero.jpg\" alt=\"Signup hero\" className=\"w-full h-full object-cover min-h-[640px]\" />\r\n          <div className=\"absolute inset-0 bg-gradient-to-tr from-transparent via-white/10 to-transparent pointer-events-none\" />\r\n        </div>\r\n      </div>\r\n\r\n      {/* small footer */}\r\n     \r\n    </div>\r\n  );\r\n}\r\n"],"names":["c","_c","React","useEffect","useRef","useState","useRouter","ApiResp","ok","tempToken","error","reason","k","Country","name","cca2","callingCode","flag","postJSON","url","body","Promise","res","fetch","method","headers","JSON","stringify","credentials","json","statusText","err","message","String","useOnClickOutside","ref","handler","$","$i","Symbol","for","t0","t1","useOnClickOutside[useEffect()]","listener","e","current","contains","target","Node","document","addEventListener","removeEventListener","CountryDropdown","countries","value","onChange","disabled","placeholder","undefined","open","setOpen","query","setQuery","highlight","setHighlight","rootRef","searchRef","listRef","t2","CountryDropdown[useOnClickOutside()]","t3","CountryDropdown[useEffect()]","t4","t5","t6","t7","q","toLowerCase","includes","filter","items","handleKeyDown","key","preventDefault","setTimeout","CountryDropdown[handleKeyDown > setTimeout()]","focus","h","Math","min","max","length","querySelectorAll","scrollIntoView","block","_CountryDropdownHandleKeyDownSetHighlight","pick","t8","CountryDropdown[<button>.onClick]","_CountryDropdownButtonOnClickSetOpen","CountryDropdown[<button>.onClick > setTimeout()]","t9","t10","t11","t12","t13","t14","t15","t16","t17","t18","t19","t20","t21","t22","minWidth","t23","e_0","t24","t25","map","CountryDropdown[items.map()]","c_0","idx","isActive","CountryDropdown[items.map() > <li>.onMouseEnter]","CountryDropdown[items.map() > <li>.onClick]","t26","t27","t28","v","h_0","SignupPage","JSX","Element","router","Mode","mode","setMode","email","setEmail","emailOtp","setEmailOtp","Array","fill","emailCode","setEmailCode","setTempToken","country","setCountry","setCountries","countryLoading","setCountryLoading","countryError","setCountryError","phone","setPhone","phoneOtp","setPhoneOtp","phoneCode","setPhoneCode","orgName","setOrgName","password","setPassword","confirmPassword","setConfirmPassword","setName","showPassword","setShowPassword","showConfirmPassword","setShowConfirmPassword","passwordTouched","setPasswordTouched","passwordErrors","setPasswordErrors","passwordsMatch","setPasswordsMatch","loading","setLoading","setError","success","setSuccess","emailResendAvailableAt","setEmailResendAvailableAt","phoneResendAvailableAt","setPhoneResendAvailableAt","now","setNow","Date","id","window","setInterval","clearInterval","modeToStep","m","step","mounted","fetchCountries","t","text","catch","Error","status","isArray","parsed","common","CCA2","toUpperCase","dialCode","callCode","trim","flags","sort","a","b","localeCompare","locale","navigator","language","languages","match","defaultCountry","cca","find","console","formatCountdown","unixMs","s","ceil","setResendDeadline","setter","seconds","handleOtpInput","KeyboardEvent","HTMLInputElement","otpArr","setOtpArr","next","prev","prevInput","getElementById","dataset","n","test","nextIdx","nextInput","nxt","handleOtpPaste","ClipboardEvent","paste","clipboardData","getData","digits","replace","slice","split","i","firstEmpty","findIndex","focusIdx","el","join","validatePassword","pw","errs","push","handleSendEmailOtp","FormEvent","data","handleVerifyEmailOtp","code","flow","handleSendPhoneOtp","dial","typed","full","startsWith","handleVerifyPhoneOtp","buildFullPhone","raw","cc","onlyDigits","normalizedCc","handleFinalize","normalizedPhone","payload","Record","organizationName","handleResendEmail","resend","handleResendPhone","computeFillPercent","round","fillPercent","width","isCompleted","location","href","digit","label","r"],"mappings":"AAAA,mCAAA;;;;;;AACa,SAAAA,CAAA,IAAAC,EAAA;AAEb,OAAOC,KAAK,IAAIC,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAC1D,SAASC,SAAS,QAAQ,iBAAiB;;;AAH3C,YAAY;;;;AASZ,iCAAA,GACA,eAAeY,QAAQA,CAACC,GAAW,AAAR,EAAUC,AAAR,IAAY,AAAK,CAAC,CAAJ,CAAMC,OAAO,CAACd,OAAO,CAAC,CAAC;IAChE,IAAI;QACF,MAAMe,GAAG,GAAG,MAAMC,KAAK,CAACJ,GAAG,EAAE;YAC3BK,MAAM,EAAE,MAAM;YACdC,OAAO,EAAE;gBAAE,cAAc,EAAE;YAAmB,CAAC;YAC/CL,IAAI,EAAEM,IAAI,CAACC,SAAS,CAACP,IAAI,CAAC;YAC1BQ,WAAW,EAAE;QACf,CAAC,CAAC;QACF,IAAI;YACF,OAAO,MAAMN,GAAG,CAACO,IAAI,CAAC,CAAC;QACzB,CAAC,CAAC,OAAM;YACN,OAAO;gBAAErB,EAAE,EAAEc,GAAG,CAACd,EAAE;gBAAEE,KAAK,EAAEY,GAAG,CAACQ,UAAU,IAAI;YAAsB,CAAC;QACvE;IACF,CAAC,CAAC,OAAOC,GAAG,EAAE,AAAK,GAAF;QACf,OAAO;YAAErB,KAAK,EAAEqB,GAAG,EAAEC,OAAO,IAAIC,MAAM,CAACF,GAAG;QAAE,CAAC;IAC/C;AACF;AAEA,wFAAA,GACA,2BAAAI,GAAA,EAAAC,OAAA;;IAAA,MAAAC,CAAA,OAAApC,gLAAA,EAAA;IAAA,IAAAoC,CAAA,CAAA,EAAA,KAAA,oEAAA;QAAA,IAAA,IAAAC,EAAA,GAAA,GAAAA,EAAA,GAAA,GAAAA,EAAA,IAAA,EAAA;YAAAD,CAAA,CAAAC,EAAA,CAAA,GAAAC,MAAA,CAAAC,GAAA,CAAA;QAAA;QAAAH,CAAA,CAAA,EAAA,GAAA;IAAA;IAAA,IAAAI,EAAA;IAAA,IAAAC,EAAA;IAAA,IAAAL,CAAA,CAAA,EAAA,KAAAD,OAAA,IAAAC,CAAA,CAAA,EAAA,KAAAF,GAAA,EAAA;QACYM,EAAA,GAAA,CAAA;YAAA,kCAAAE,CAAA;gBACR,MAAAC,QAAA,GAAA,SAAAA,SAAAC,CAAA;oBACE,IAAI,CAACV,GAAG,CAAAW,OAAkD,IAAtCX,GAAG,CAAAW,OAAQ,CAAAC,QAAS,CAACF,CAAC,CAAAG,MAAO,GAAS,CAALC,IAAI,CAAC;wBAAA;oBAAA;oBAC1Db,OAAO,CAAC,CAAC;gBAAA,CACV;gBACDc,QAAQ,CAAAC,gBAAiB,CAAC,WAAW,EAAEP,QAAQ,CAAC;gBAChDM,QAAQ,CAAAC,gBAAiB,CAAC,YAAY,EAAEP,QAAQ,CAAC;gBAAA,OAC1C;oBACLM,QAAQ,CAAAE,mBAAoB,CAAC,WAAW,EAAER,QAAQ,CAAC;oBACnDM,QAAQ,CAAAE,mBAAoB,CAAC,YAAY,EAAER,QAAQ,CAAC;gBAAA,CACrD;YAAA;SAAA,CAAA,CAAA,iCACF;QAAEF,EAAA,GAAA;YAACP,GAAG;YAAEC,OAAO;SAAC;QAAAC,CAAA,CAAA,EAAA,GAAAD,OAAA;QAAAC,CAAA,CAAA,EAAA,GAAAF,GAAA;QAAAE,CAAA,CAAA,EAAA,GAAAI,EAAA;QAAAJ,CAAA,CAAA,EAAA,GAAAK,EAAA;IAAA,OAAA;QAAAD,EAAA,GAAAJ,CAAA,CAAA,EAAA;QAAAK,EAAA,GAAAL,CAAA,CAAA,EAAA;IAAA;QAXjBlC,0KAAS,EAACsC,EAWT,EAAEC,EAAc,CAAC;AAAA;GAZpBR;AAeA,yBAAAO,EAAA;;IAAA,MAAAJ,CAAA,OAAApC,gLAAA,EAAA;IAAA,IAAAoC,CAAA,CAAA,EAAA,KAAA,oEAAA;QAAA,IAAA,IAAAC,EAAA,GAAA,GAAAA,EAAA,GAAA,IAAAA,EAAA,IAAA,EAAA;YAAAD,CAAA,CAAAC,EAAA,CAAA,GAAAC,MAAA,CAAAC,GAAA,CAAA;QAAA;QAAAH,CAAA,CAAA,EAAA,GAAA;IAAA;IAAyB,MAAA,EAAAiB,SAAA,EAAAC,KAAA,EAAAC,QAAA,EAAAC,QAAA,EAAAC,WAAA,EAAAhB,EAAAA,EAAA,GAAAD,EAYxB;IAPC,MAAAiB,WAAA,GAAAhB,EAA8B,KAA9BiB,SAA8B,GAA9B,gBAA8B,GAA9BjB,EAA8B;IAQ9B,MAAA,CAAAkB,IAAA,EAAAC,OAAA,CAAA,GAAwBxD,6KAAQ,EAAC,KAAK,CAAC;IACvC,MAAA,CAAAyD,KAAA,EAAAC,QAAA,CAAA,GAA0B1D,6KAAQ,EAAC,EAAE,CAAC;IACtC,MAAA,CAAA2D,SAAA,EAAAC,YAAA,CAAA,OAAkC5D,yKAAQ,EAAC,CAAC,CAAC;IAC7C,MAAA6D,OAAA,OAAgB9D,uKAAM,EAAwB,IAAI,CAAC;IACnD,MAAA+D,SAAA,OAAkB/D,uKAAM,EAA0B,IAAI,CAAC;IACvD,MAAAgE,OAAA,OAAgBhE,uKAAM,EAA0B,IAAI,CAAC;IAAC,IAAAiE,EAAA;IAAA,IAAAhC,CAAA,CAAA,EAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAE3B6B,EAAA,GAAA,CAAA;YAAA,wCAAAC,CAAA,GAAMT,OAAO,CAAC,KAAK;SAAC,CAAA,CAAA,uCAAA;QAAAxB,CAAA,CAAA,EAAA,GAAAgC,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAhC,CAAA,CAAA,EAAA;IAAA;sBAA7B6B,OAAO,EAAEG,EAAoB,CAAC;IAAA,IAAAE,EAAA;IAAA,IAAAlC,CAAA,CAAA,EAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAEtC+B,EAAA,GAAA,CAAA;YAAA,gCAAAC,CAAA;gBAERP,YAAY,CAAC,CAAC,CAAC;YAAA;SAAA,CAAA,CAAA,+BAChB;QAAA5B,CAAA,CAAA,EAAA,GAAAkC,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAlC,CAAA,CAAA,EAAA;IAAA;IAAA,IAAAoC,EAAA;IAAA,IAAApC,CAAA,CAAA,EAAA,KAAAuB,IAAA,IAAAvB,CAAA,CAAA,EAAA,KAAAyB,KAAA,EAAA;QAAEW,EAAA,GAAA;YAACX,KAAK;YAAEF,IAAI;SAAC;QAAAvB,CAAA,CAAA,EAAA,GAAAuB,IAAA;QAAAvB,CAAA,CAAA,EAAA,GAAAyB,KAAA;QAAAzB,CAAA,CAAA,EAAA,GAAAoC,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAApC,CAAA,CAAA,EAAA;IAAA;QAHhBlC,0KAAS,EAACoE,EAGT,EAAEE,EAAa,CAAC;IAAA,IAAAC,EAAA;IAAA,IAAArC,CAAA,CAAA,EAAA,KAAAiB,SAAA,EAAA;QAEFoB,EAAA,GAAApB,SAAe,IAAf,EAAe;QAAAjB,CAAA,CAAA,EAAA,GAAAiB,SAAA;QAAAjB,CAAA,CAAA,EAAA,GAAAqC,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAArC,CAAA,CAAA,EAAA;IAAA;IAAA,IAAAsC,EAAA;IAAA,IAAAtC,CAAA,CAAA,EAAA,KAAAyB,KAAA,IAAAzB,CAAA,CAAA,EAAA,KAAAqC,EAAA,EAAA;QAAA,IAAAE,EAAA;QAAA,IAAAvC,CAAA,CAAA,GAAA,KAAAyB,KAAA,EAAA;YAASc,EAAA,GAAA,CAAA;gBAAA,kCAAA5E,CAAA;oBACrC,IAAI,CAAC8D,KAAK,EAAA;wBAAA,OAAS,IAAI;oBAAA;oBACvB,MAAAe,CAAA,GAAUf,KAAK,CAAAgB,WAAY,CAAC,CAAC;oBAAC,OACvB9E,CAAC,CAAAc,IAAK,CAAAgE,WAAY,CAAC,CAAC,CAAAC,QAAS,CAACF,CAA8B,CAAC,IAAzB7E,CAAC,CAAAgB,WAAY,CAAA+D,QAAS,CAACF,CAAC,CAAqC,IAAhC7E,CAAC,CAAAe,IAAK,CAAA+D,WAAY,CAAC,CAAC,CAAAC,QAAS,CAACF,CAAC,CAAC;gBAAA;aAAA,CAAA,CAAA,iCACzG;YAAAxC,CAAA,CAAA,GAAA,GAAAyB,KAAA;YAAAzB,CAAA,CAAA,GAAA,GAAAuC,EAAA;QAAA,OAAA;YAAAA,EAAA,GAAAvC,CAAA,CAAA,GAAA;QAAA;QAJasC,EAAA,GAACD,EAAe,CAAAM,MAAQ,CAACJ,EAItC,CAAC;QAAAvC,CAAA,CAAA,EAAA,GAAAyB,KAAA;QAAAzB,CAAA,CAAA,EAAA,GAAAqC,EAAA;QAAArC,CAAA,CAAA,GAAA,GAAAsC,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAtC,CAAA,CAAA,GAAA;IAAA;IAJF,MAAA4C,KAAA,GAAcN,EAIZ;IAAC,IAAAC,EAAA;IAAA,IAAAvC,CAAA,CAAA,GAAA,KAAA2B,SAAA,IAAA3B,CAAA,CAAA,GAAA,KAAA4C,KAAA,IAAA5C,CAAA,CAAA,GAAA,KAAAmB,QAAA,IAAAnB,CAAA,CAAA,GAAA,KAAAuB,IAAA,EAAA;QAEHgB,EAAA,GAAA,SAAAM,cAAArC,CAAA;YACE,IAAI,CAACe,IAAoD,IAAA,CAA3Cf,CAAC,CAAAsC,GAAI,KAAK,WAAgC,IAAjBtC,CAAC,CAAAsC,GAAI,KAAK,OAAQ,GAAA;gBACvDtC,CAAC,CAAAuC,cAAe,CAAC,CAAC;gBAClBvB,OAAO,CAAC,IAAI,CAAC;gBACbwB,UAAU,CAAC;oBAAA,iDAAAC,CAAA,GAAMnB,SAAS,CAAArB,OAAe,EAAAyC,KAAE,CAAD;gBAAC,CAAA,CAAA,gDAAA,EAAE,EAAE,CAAC;gBAAA;YAAA;YAGlD,IAAI,CAAC3B,IAAI,EAAA;gBAAA;YAAA;YAET,IAAIf,CAAC,CAAAsC,GAAI,KAAK,WAAW,EAAA;gBACvBtC,CAAC,CAAAuC,cAAe,CAAC,CAAC;gBAClBnB,YAAY,CAAC;oBAAA,oDAAAuB,CAAA,GAAOC,IAAI,CAAAC,GAAI,CAACF,CAAC,GAAG,CAAC,EAAEC,IAAI,CAAAE,GAAI,CAAC,CAAC,EAAEV,KAAK,CAAAW,MAAO,GAAG,CAAC,CAAC;gBAAC,CAAA,CAAA,kDAAA,CAAC;gBACnExB,OAAO,CAAAtB,OAA0B,EAAA+C,gBAAM,CAAL,IAA+C,CAAC,CAA1CJ,IAAI,CAAAC,GAAI,CAAC1B,SAAS,GAAG,CAAC,EAAEiB,KAAK,CAAAW,MAAO,GAAG,CAAC,CAAC,CAAiB,EAAAE,cAAsB,CAArB;oBAAAC,KAAA,EAAS;gBAAU,CAAC,CAAC;YAAA,OAAA;gBACnH,IAAIlD,CAAC,CAAAsC,GAAI,KAAK,SAAS,EAAA;oBAC5BtC,CAAC,CAAAuC,cAAe,CAAC,CAAC;oBAClBnB,YAAY,CAAC+B,yCAAyB,CAAC;oBACvC5B,OAAO,CAAAtB,OAA0B,EAAA+C,gBAAM,CAAL,IAAgC,CAAC,CAA3BJ,IAAI,CAAAE,GAAI,CAAC3B,SAAS,GAAG,CAAC,EAAE,CAAC,CAAC,CAAiB,EAAA8B,cAAsB,CAArB;wBAAAC,KAAA,EAAS;oBAAU,CAAC,CAAC;gBAAA,OAAA;oBACpG,IAAIlD,CAAC,CAAAsC,GAAI,KAAK,OAAO,EAAA;wBAC1BtC,CAAC,CAAAuC,cAAe,CAAC,CAAC;wBAClB,MAAAa,IAAA,GAAahB,KAAK,CAACQ,IAAI,CAAAC,GAAI,CAAC1B,SAAS,EAAEiB,KAAK,CAAAW,MAAO,GAAG,CAAC,CAAC,CAAC;wBACzD,IAAIK,IAAI,EAAA;4BACNzC,QAAQ,CAACyC,IAAI,CAAC;4BACdpC,OAAO,CAAC,KAAK,CAAC;wBAAA;oBACf,OAAA;wBACI,IAAIhB,CAAC,CAAAsC,GAAI,KAAK,QAAQ,EAAA;4BAC3BtC,CAAC,CAAAuC,cAAe,CAAC,CAAC;4BAClBvB,OAAO,CAAC,KAAK,CAAC;wBAAA;oBACf;gBAAA;YAAA;QAAA,CACF;QAAAxB,CAAA,CAAA,GAAA,GAAA2B,SAAA;QAAA3B,CAAA,CAAA,GAAA,GAAA4C,KAAA;QAAA5C,CAAA,CAAA,GAAA,GAAAmB,QAAA;QAAAnB,CAAA,CAAA,GAAA,GAAAuB,IAAA;QAAAvB,CAAA,CAAA,GAAA,GAAAuC,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAvC,CAAA,CAAA,GAAA;IAAA;IA5BD,MAAA6C,aAAA,GAAAN,EA4BC;IAAA,IAAAsB,EAAA;IAAA,IAAA7D,CAAA,CAAA,GAAA,KAAAoB,QAAA,EAAA;QAQcyC,EAAA,GAAA,CAAA;YAAA,qCAAAC,CAAA;gBACP,IAAI1C,QAAQ,EAAA;oBAAA;gBAAA;gBACZI,OAAO,CAACuC,oCAAS,CAAC;gBAClBf,UAAU,CAAC;oBAAA,oDAAAgB,CAAA,GAAMlC,SAAS,CAAArB,OAAe,EAAAyC,KAAE,CAAD;gBAAC,CAAA,CAAA,mDAAA,EAAE,EAAE,CAAC;YAAA;QAAA,EAAA,CAAA,oCACjD;QAAAlD,CAAA,CAAA,GAAA,GAAAoB,QAAA;QAAApB,CAAA,CAAA,GAAA,GAAA6D,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAA7D,CAAA,CAAA,GAAA;IAAA;IAEU,MAAAiE,EAAA,GAAA,CAAA,2EAAA,EAA8E7C,QAAQ,GAAR,gCAA+D,GAA/D,iBAA+D,CAAA,WAAA,CAAa;IAAA,IAAA8C,GAAA;IAAA,IAAAlE,CAAA,CAAA,GAAA,KAAAkB,KAAA,EAAA;QAGlKgD,GAAA,GAAAhD,KAAK,EAAAtC,IAIL,iBAHC,6LAAA,GAAyG;YAA/F,GAAU,CAAV,CAAAsC,KAAK,CAAAtC,IAAI,CAAC;YAAO,GAAoB,CAApB,CAAA,GAAGsC,KAAK,CAAAzC,IAAK,CAAA,KAAA,CAAM,CAAC;YAAY,SAA2C,EAA3C,2CAA2C,GAGvG;;;;;iCADC,6LAAA,GAAmD;YAApC,SAAiC,EAAjC,iCAAiC,GACjD;;;;;;QAAAuB,CAAA,CAAA,GAAA,GAAAkB,KAAA;QAAAlB,CAAA,CAAA,GAAA,GAAAkE,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAAlE,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAmE,GAAA;IAAA,IAAAnE,CAAA,CAAA,GAAA,KAAAqB,WAAA,IAAArB,CAAA,CAAA,GAAA,KAAAkB,KAAA,EAAA;QAE+BiD,GAAA,GAAAjD,KAAK,GAAGA,KAAK,CAAAzC,IAA6D,iBAArD,6LAAA,IAAqD;YAArC,SAAgB,EAAhB,gBAAgB,CAAE4C;sBAAAA,WAAU,CAAE,EAA9C,IAAqD;;;;;;QAAArB,CAAA,CAAA,GAAA,GAAAqB,WAAA;QAAArB,CAAA,CAAA,GAAA,GAAAkB,KAAA;QAAAlB,CAAA,CAAA,GAAA,GAAAmE,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAAnE,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAoE,GAAA;IAAA,IAAApE,CAAA,CAAA,GAAA,KAAAmE,GAAA,EAAA;QAAxGC,GAAA,iBAAA,6LAAA,GAA+G;YAAhG,SAAa,EAAb,aAAa,CAAE;sBAAAD,GAAyE,CAAE,EAAzG,GAA+G;;;;;;QAAAnE,CAAA,CAAA,GAAA,GAAAmE,GAAA;QAAAnE,CAAA,CAAA,GAAA,GAAAoE,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAApE,CAAA,CAAA,GAAA;IAAA;IACtE,MAAAqE,GAAA,GAAAnD,KAAK,GAAGA,KAAK,CAAAvC,WAAoC,GAAjD,qBAAiD;IAAA,IAAA2F,GAAA;IAAA,IAAAtE,CAAA,CAAA,GAAA,KAAAqE,GAAA,EAAA;QAA1FC,GAAA,iBAAA,6LAAA,GAAiG;YAAlF,SAAwB,EAAxB,wBAAwB,CAAE;sBAAAD,GAAgD,CAAE,EAA3F,GAAiG;;;;;;QAAArE,CAAA,CAAA,GAAA,GAAAqE,GAAA;QAAArE,CAAA,CAAA,GAAA,GAAAsE,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAAtE,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAuE,GAAA;IAAA,IAAAvE,CAAA,CAAA,GAAA,KAAAoE,GAAA,IAAApE,CAAA,CAAA,GAAA,KAAAsE,GAAA,EAAA;QAFnGC,GAAA,iBAAA,6LAAA,GAGM;YAHS,SAAS,EAAT,SAAS,CACtB;;gBAAAH,GAA8G,CAC9G;gBAAAE,GAAgG,CAClG,EAHA,GAGM;;;;;;;QAAAtE,CAAA,CAAA,GAAA,GAAAoE,GAAA;QAAApE,CAAA,CAAA,GAAA,GAAAsE,GAAA;QAAAtE,CAAA,CAAA,GAAA,GAAAuE,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAAvE,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAwE,GAAA;IAAA,IAAAxE,CAAA,CAAA,GAAA,KAAAkE,GAAA,IAAAlE,CAAA,CAAA,GAAA,KAAAuE,GAAA,EAAA;QATRC,GAAA,iBAAA,6LAAA,GAUM;YAVS,SAAyB,EAAzB,yBAAyB,CACrC;;gBAAAN,GAID,CACA;gBAAAK,GAGK,CACP,EAVA,GAUM;;;;;;;QAAAvE,CAAA,CAAA,GAAA,GAAAkE,GAAA;QAAAlE,CAAA,CAAA,GAAA,GAAAuE,GAAA;QAAAvE,CAAA,CAAA,GAAA,GAAAwE,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAAxE,CAAA,CAAA,GAAA;IAAA;IAE+C,MAAAyE,GAAA,GAAA,CAAA,6BAAA,EAAgClD,IAAI,GAAJ,YAAwB,GAAxB,EAAwB,EAAE;IAAA,IAAAmD,GAAA;IAAA,IAAA1E,CAAA,CAAA,GAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAC3GuE,GAAA,iBAAA,6LAAA,IAAiL;YAAlK,QAAS,EAAT,SAAS;YAAG,CAAgI,EAAhI,gIAAgI;YAAU,QAAS,EAAT,SAAS,GAAG;;;;;;QAAA1E,CAAA,CAAA,GAAA,GAAA0E,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAA1E,CAAA,CAAA,GAAA;IAAA;IAAA,IAAA2E,GAAA;IAAA,IAAA3E,CAAA,CAAA,GAAA,KAAAyE,GAAA,EAAA;QAFrLE,GAAA,iBAAA,6LAAA,GAIM;YAJS,SAAgC,EAAhC,gCAAgC;sBAC7C,2MAAA,GAEM;gBAFK,KAA4B,EAA5B,4BAA4B;gBAAY,SAA0D,CAA1D,CAAAF,GAAyD,CAAC;gBAAU,OAAW,EAAX,WAAW;gBAAM,IAAc,EAAd,cAAc,CACpJ;0BAAAC,GAAgL,CAClL,EAFA,GAEM,CACR,EAJA,GAIM;;;;;;;;;;;QAAA1E,CAAA,CAAA,GAAA,GAAAyE,GAAA;QAAAzE,CAAA,CAAA,GAAA,GAAA2E,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAA3E,CAAA,CAAA,GAAA;IAAA;IAAA,IAAA4E,GAAA;IAAA,IAAA5E,CAAA,CAAA,GAAA,KAAA6C,aAAA,IAAA7C,CAAA,CAAA,GAAA,KAAAuB,IAAA,IAAAvB,CAAA,CAAA,GAAA,KAAAwE,GAAA,IAAAxE,CAAA,CAAA,GAAA,KAAA2E,GAAA,IAAA3E,CAAA,CAAA,GAAA,KAAA6D,EAAA,IAAA7D,CAAA,CAAA,GAAA,KAAAiE,EAAA,EAAA;QA3BRW,GAAA,iBAAA,6LAAA,MA4BS;YA3BF,IAAQ,EAAR,QAAQ;YACC,aAAS,IAAT,SAAS;YACRrD,aAAI,CAAJA,GAAAA,IAAG,CAAC;YACV,OAIR,CAJQ,CAAAsC,EAIT,CAAC;YACUhB,SAAa,CAAbA,CAAAA,aAAY,CAAC;YACb,SAA0J,CAA1J,CAAAoB,EAAyJ,CAAC,CAErK;;gBAAAO,GAUK,CACL;gBAAAG,GAIK,CACP,EA5BA,MA4BS;;;;;;;QAAA3E,CAAA,CAAA,GAAA,GAAA6C,aAAA;QAAA7C,CAAA,CAAA,GAAA,GAAAuB,IAAA;QAAAvB,CAAA,CAAA,GAAA,GAAAwE,GAAA;QAAAxE,CAAA,CAAA,GAAA,GAAA2E,GAAA;QAAA3E,CAAA,CAAA,GAAA,GAAA6D,EAAA;QAAA7D,CAAA,CAAA,GAAA,GAAAiE,EAAA;QAAAjE,CAAA,CAAA,GAAA,GAAA4E,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAA5E,CAAA,CAAA,GAAA;IAAA;IAII,MAAA6E,GAAA,GAAA,CAAA,+EAAA,EAAkFtD,IAAI,GAAJ,uBAAyE,GAAzE,wCAAyE,CAAA,4BAAA,CAA8B;IAAA,IAAAuD,GAAA;IAAA,IAAA9E,CAAA,CAAA,GAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAC7L2E,GAAA,GAAA;YAAAC,QAAA,EAAY;QAAI,CAAC;QAAA/E,CAAA,CAAA,GAAA,GAAA8E,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAA9E,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAgF,GAAA;IAAA,IAAAhF,CAAA,CAAA,GAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAQV6E,GAAA,GAAA,CAAA;YAAA,sCAAAC,GAAA,GAAOvD,QAAQ,CAAClB,GAAC,CAAAG,MAAO,CAAAO,KAAM;SAAC,CAAA,CAAA,oCAAA;QAAAlB,CAAA,CAAA,GAAA,GAAAgF,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAAhF,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAkF,GAAA;IAAA,IAAAlF,CAAA,CAAA,GAAA,KAAA6C,aAAA,IAAA7C,CAAA,CAAA,GAAA,KAAAyB,KAAA,EAAA;QAJ7CyD,GAAA,iBAAA,6LAAA,GAUM;YAVS,SAAK,EAAL,KAAK;oCAClB,6LAAA,KAQE;gBAPKpD,GAAS,CAATA,CAAAA,SAAQ,CAAC;gBACPL,KAAK,CAALA,CAAAA,KAAI,CAAC;gBACF,QAA+B,CAA/B,CAAAuD,GAA8B,CAAC;gBAC7B,WAAmD,EAAnD,mDAAmD;gBACpDnC,SAAa,CAAbA,CAAAA,aAAY,CAAC;gBACd,SAAiF,EAAjF,iFAAiF;gBAChF,UAAgB,IAAhB,gBAAgB,GAE/B,EAVA,GAUM;;;;;;;;;;;QAAA7C,CAAA,CAAA,GAAA,GAAA6C,aAAA;QAAA7C,CAAA,CAAA,GAAA,GAAAyB,KAAA;QAAAzB,CAAA,CAAA,GAAA,GAAAkF,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAAlF,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAmF,GAAA;IAAA,IAAAnF,CAAA,CAAA,GAAA,KAAA2B,SAAA,IAAA3B,CAAA,CAAA,GAAA,KAAA4C,KAAA,IAAA5C,CAAA,CAAA,GAAA,KAAAmB,QAAA,IAAAnB,CAAA,CAAA,GAAA,KAAAkB,KAAA,EAAAvC,WAAA,IAAAqB,CAAA,CAAA,GAAA,KAAAkB,KAAA,EAAAxC,IAAA,EAAA;QAIDyG,GAAA,GAAAvC,KAAK,CAAAW,MAAO,KAAK,CA0BjB,iBAzBC,6LAAA,EAAgE;YAAlD,SAAkC,EAAlC,kCAAkC;sBAAC,UAAU,EAA3D,EAAgE,CAyBjE;;;;;mBAvBCX,KAAK,CAAAwC,GAAI,CAAC;YAAA,gCAAAC,CAAAC,GAAA,EAAAC,GAAA;gBACR,MAAAC,QAAA,GAAiBD,GAAG,KAAK5D,SAAS;gBAAC,qBAEjC,6LAAA,EAiBK,CAhBE,GAA4B,CAA5B;oBACA,IAAQ,EAAR,QAAQ;oBACE,aAA8D,CAA9D,GAAAT,KAAK,EAAAvC,WAAa,KAAKhB,GAAC,CAAAgB,WAAsC,IAAtBuC,KAAK,EAAAxC,IAAM,KAAKf,GAAC,CAAAe,IAAI,CAAC;oBAC/D,YAAuB,CAAvB,CAAA;wBAAA,oDAAA+G,CAAA,GAAM7D,YAAY,CAAC2D,GAAG;oBAAC,CAAA,CAAA,mDAAD,CAAC;oBAC5B,OAGR,CAHQ,CAAA;wBAAA,+CAAAG,CAAA;4BACPvE,QAAQ,CAACxD,GAAC,CAAC;4BACX6D,OAAO,CAAC,KAAK,CAAC;wBAAA;oBAAA,CAAA,CAAA,8CAChB,CAAC;oBACU,SAAsG,CAAtG,CAAA,CAAA,mEAAA,EAAsEgE,QAAQ,GAAR,cAA8B,GAA9B,EAA8B,EAAC,CAAC;;sCAEjH,6LAAA,GAAiG;4BAAvF,GAAM,CAAN,CAAA7H,GAAC,CAAAiB,IAAI,CAAC;4BAAO,GAAgB,CAAhB,CAAA,GAAGjB,GAAC,CAAAc,IAAK,CAAA,KAAA,CAAM,CAAC;4BAAY,SAA2C,EAA3C,2CAA2C;;;;;;sCAC9F,6LAAA,GAGM;4BAHS,SAAgB,EAAhB,gBAAgB;;8CAC7B,6LAAA,GAA4D;oCAA7C,SAA8B,EAA9B,8BAA8B,CAAE;8CAAAd,GAAC,CAAAc,IAAI,CAAE,EAAtD,GAA4D;;;;;;8CAC5D,6LAAA,GAAwE;oCAAzD,SAAwB,EAAxB,wBAAwB,CAAE;;wCAAAd,GAAC,CAAAgB,WAAW;wCAAE,GAAI;wCAAAhB,GAAC,CAAAe,IAAI,CAAE,EAAlE,GAAwE,CAC1E,EAHA,GAGM;;;;;;;;;;;;;sCACN,6LAAA,GAAgI;4BAAjH,SAAwB,EAAxB,wBAAwB,CAAE;sCAAAwC,KAAK,EAAAvC,WAAa,KAAKhB,GAAC,CAAAgB,WAAsC,IAAtBuC,KAAK,EAAAxC,IAAM,KAAKf,GAAC,CAAAe,IAAuB,GAAhF,UAAgF,GAAhF,EAA+E,CAAE,EAA1H,GAAgI,CAClI,EAjBA,EAiBK;;;;;;;mBAhBE,GAAGf,GAAC,CAAAgB,WAAY,CAAA,CAAA,EAAIhB,GAAC,CAAAe,IAAK,EAAC,CAAC;;;;;YAgB9B;QAAA,CAAA,CAAA,+BAGX,CAAC;QAAAsB,CAAA,CAAA,GAAA,GAAA2B,SAAA;QAAA3B,CAAA,CAAA,GAAA,GAAA4C,KAAA;QAAA5C,CAAA,CAAA,GAAA,GAAAmB,QAAA;QAAAnB,CAAA,CAAA,GAAA,GAAAkB,KAAA,EAAAvC,WAAA;QAAAqB,CAAA,CAAA,GAAA,GAAAkB,KAAA,EAAAxC,IAAA;QAAAsB,CAAA,CAAA,GAAA,GAAAmF,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAAnF,CAAA,CAAA,GAAA;IAAA;IAAA,IAAA2F,GAAA;IAAA,IAAA3F,CAAA,CAAA,GAAA,KAAAmF,GAAA,EAAA;QA5BLQ,GAAA,iBAAA,6LAAA,GA8BM;YA9BS,SAAwB,EAAxB,wBAAwB;oCACrC,6LAAA,EA4BK;gBA5BI,IAAS,EAAT,SAAS;gBAAM5D,GAAO,CAAPA,CAAAA,OAAM,CAAC;gBAAa,UAAiB,IAAjB,iBAAiB;gBAAW,SAAU,EAAV,UAAU,CAC/E;0BAAAoD,GA0BD,CACF,EA5BA,EA4BK,CACP,EA9BA,GA8BM;;;;;;;;;;;QAAAnF,CAAA,CAAA,GAAA,GAAAmF,GAAA;QAAAnF,CAAA,CAAA,GAAA,GAAA2F,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAA3F,CAAA,CAAA,GAAA;IAAA;IAAA,IAAA4F,GAAA;IAAA,IAAA5F,CAAA,CAAA,GAAA,KAAA6E,GAAA,IAAA7E,CAAA,CAAA,GAAA,KAAAkF,GAAA,IAAAlF,CAAA,CAAA,GAAA,KAAA2F,GAAA,EAAA;QAhDRC,GAAA,iBAAA,6LAAA,GAiDM;YAhDO,SAAyL,CAAzL,CAAAf,GAAwL,CAAC;YAC7L,KAAiB,CAAjB,CAAAC,GAAgB,CAAC;YACnB,IAAQ,EAAR,QAAQ;YACF,UAAO,IAAP,OAAO,CAElB;;gBAAAI,GAUK,CAEL;gBAAAS,GA8BK,CACP,EAjDA,GAiDM;;;;;;;QAAA3F,CAAA,CAAA,GAAA,GAAA6E,GAAA;QAAA7E,CAAA,CAAA,GAAA,GAAAkF,GAAA;QAAAlF,CAAA,CAAA,GAAA,GAAA2F,GAAA;QAAA3F,CAAA,CAAA,GAAA,GAAA4F,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAA5F,CAAA,CAAA,GAAA;IAAA;IAAA,IAAA6F,GAAA;IAAA,IAAA7F,CAAA,CAAA,GAAA,KAAA4E,GAAA,IAAA5E,CAAA,CAAA,GAAA,KAAA4F,GAAA,EAAA;QAjFRC,GAAA,iBAAA,6LAAA,GAkFM;YAlFS,SAAU,EAAV,UAAU;YAAMhE,GAAO,CAAPA,CAAAA,OAAM,CAAC,CACpC;;gBAAA+C,GA4BQ,CAGR;gBAAAgB,GAiDK,CACP,EAlFA,GAkFM;;;;;;;QAAA5F,CAAA,CAAA,GAAA,GAAA4E,GAAA;QAAA5E,CAAA,CAAA,GAAA,GAAA4F,GAAA;QAAA5F,CAAA,CAAA,GAAA,GAAA6F,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAA7F,CAAA,CAAA,GAAA;IAAA;IAAA,OAlFN6F,GAkFM;AAAA;;;QA9HRhG,iBAAiB;;;KApBnBmB;AAsJA,+CAAA,GAtJA,SAAA+C,qCAAA+B,CAAA;IAAA,OAuEyB,CAACA,CAAC;AAAA;AAvE3B,SAAAnC,0CAAAoC,GAAA;IAAA,OAgD0B3C,IAAI,CAAAE,GAAI,CAACH,GAAC,GAAG,CAAC,EAAE,CAAC,CAAC;AAAA;AAuG7B;;IACb,MAAMgD,MAAM;IAIZ,MAAM,CAACE,IAAI,EAAEC,OAAO,CAAC,OAAGtI,yKAAQ,CAACoI,CAAM,GAAF,CAAC,IAAS,CAAC;IAEhD,SAAA;IACA,MAAM,CAACG,KAAK,EAAEC,QAAQ,CAAC,OAAGxI,yKAAQ,EAAC,EAAE,CAAC;IACtC,MAAM,CAACyI,QAAQ,EAAEC,WAAW,CAAC,OAAG1I,yKAAQ,EAAC2I,KAAK,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC,EAAE,CAAC,CAAC;IAC3D,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,OAAG9I,yKAAQ,EAAC,EAAE,CAAC;IAC9C,MAAM,CAACI,SAAS,EAAE2I,YAAY,CAAC,OAAG/I,yKAAQ,CAAC,CAAe,IAAI,CAAb,AAAc,GAAX,IAAI,CAAC;IAEzD,MAAM,CAACgJ,OAAO,EAAEC,UAAU,CAAC,OAAGjJ,yKAAQ,CAACQ,CAAgB,IAAI,CAAC,CAAd,GAAG,IAAI,CAAC;IACtD,MAAM,CAACyC,SAAS,EAAEiG,YAAY,CAAC,OAAGlJ,yKAAQ,CAACQ,CAAkB,IAAI,CAAC,CAAhB,EAAE,GAAG,IAAI,CAAC;IAC5D,MAAM,CAAC2I,cAAc,EAAEC,iBAAiB,CAAC,OAAGpJ,yKAAQ,EAAC,IAAI,CAAC;IAC1D,MAAM,CAACqJ,YAAY,EAAEC,eAAe,CAAC,OAAGtJ,yKAAQ,CAAC,CAAe,IAAI,CAAb,AAAc,GAAX,IAAI,CAAC;IAE/D,MAAM,CAACuJ,KAAK,EAAEC,QAAQ,CAAC,GAAGxJ,6KAAQ,EAAC,EAAE,CAAC;IACtC,MAAM,CAACyJ,QAAQ,EAAEC,WAAW,CAAC,OAAG1J,yKAAQ,EAAC2I,KAAK,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC,EAAE,CAAC,CAAC;IAC3D,MAAM,CAACe,SAAS,EAAEC,YAAY,CAAC,OAAG5J,yKAAQ,EAAC,EAAE,CAAC;IAE9C,MAAM,CAAC6J,OAAO,EAAEC,UAAU,CAAC,OAAG9J,yKAAQ,EAAC,EAAE,CAAC;IAC1C,MAAM,CAAC+J,QAAQ,EAAEC,WAAW,CAAC,OAAGhK,yKAAQ,EAAC,EAAE,CAAC;IAC5C,MAAM,CAACiK,eAAe,EAAEC,kBAAkB,CAAC,OAAGlK,yKAAQ,EAAC,EAAE,CAAC;IAC1D,MAAM,CAACS,IAAI,EAAE0J,OAAO,CAAC,OAAGnK,yKAAQ,EAAC,EAAE,CAAC;IAEpC,8BAAA;IACA,MAAM,CAACoK,YAAY,EAAEC,eAAe,CAAC,OAAGrK,yKAAQ,EAAC,KAAK,CAAC;IACvD,MAAM,CAACsK,mBAAmB,EAAEC,sBAAsB,CAAC,OAAGvK,yKAAQ,EAAC,KAAK,CAAC;IAErE,yBAAA;IACA,MAAM,CAACwK,eAAe,EAAEC,kBAAkB,CAAC,OAAGzK,yKAAQ,EAAC,KAAK,CAAC;IAC7D,MAAM,CAAC0K,cAAc,EAAEC,iBAAiB,CAAC,OAAG3K,yKAAQ,CAAC,CAAU,EAAE,CAAC,EAAP,EAAE,CAAC;IAC9D,MAAM,CAAC4K,cAAc,EAAEC,iBAAiB,CAAC,OAAG7K,yKAAQ,EAAC,IAAI,CAAC;IAE1D,KAAA;IACA,MAAM,CAAC8K,OAAO,EAAEC,UAAU,CAAC,OAAG/K,yKAAQ,EAAC,KAAK,CAAC;IAC7C,MAAM,CAACK,KAAK,EAAE2K,QAAQ,CAAC,OAAGhL,yKAAQ,CAAC,CAAe,IAAI,CAAb,AAAc,GAAX,IAAI,CAAC;IACjD,MAAM,CAACiL,OAAO,EAAEC,UAAU,CAAC,OAAGlL,yKAAQ,CAAC,CAAe,IAAI,CAAC,AAAd,GAAG,IAAI,CAAC;IAErD,gBAAA;IACA,MAAM,CAACmL,sBAAsB,EAAEC,yBAAyB,CAAC,OAAGpL,yKAAQ,CAAC,CAAe,IAAI,CAAb,AAAc,GAAX,IAAI,CAAC;IACnF,MAAM,CAACqL,sBAAsB,EAAEC,yBAAyB,CAAC,GAAGtL,6KAAQ,CAAC,CAAe,IAAI,CAAb,AAAc,GAAX,IAAI,CAAC;IACnF,MAAM,CAACuL,GAAG,EAAEC,MAAM,CAAC,OAAGxL,yKAAQ,EAACyL,IAAI,CAACF,GAAG,CAAC,CAAC,CAAC;QAC1CzL,0KAAS;gCAAC,MAAM;YACd,MAAM4L,EAAE,GAAGC,MAAM,CAACC,WAAW;2CAAC,IAAMJ,MAAM,CAACC,IAAI,CAACF,GAAG,CAAC,CAAC,CAAC;0CAAE,IAAI,CAAC;YAC7D;wCAAO,IAAMI,MAAM,CAACE,aAAa,CAACH,EAAE,CAAC;;QACvC,CAAC;+BAAE,EAAE,CAAC;IAEN,qBAAA;IACA,SAASI,UAAUA,CAACC,CAAC,AAAM,EAAJ3D,AAAM;QAC3B,OAAQ2D,CAAC;YACP,KAAK,QAAQ;gBACX,OAAO,CAAC;YACV,KAAK,OAAO;YACZ,KAAK,aAAa;gBAChB,OAAO,CAAC;YACV,KAAK,OAAO;YACZ,KAAK,aAAa;gBAChB,OAAO,CAAC;YACV,KAAK,KAAK;YACV,KAAK,MAAM;gBACT,OAAO,CAAC;YACV;gBACE,OAAO,CAAC;QACZ;IACF;IACA,MAAMC,IAAI,GAAGF,UAAU,CAACzD,IAAI,CAAC;IAE7B,yEAAA,OACAvI,0KAAS;gCAAC,MAAM;YACd,IAAImM,OAAO,GAAG,IAAI;YAClB,CAAC,eAAeC,cAAcA,CAAA,EAAG;gBAC/B9C,iBAAiB,CAAC,IAAI,CAAC;gBACvBE,eAAe,CAAC,IAAI,CAAC;gBACrB,IAAI;oBACF,MAAMrI,GAAG,GAAG,MAAMC,KAAK,CAAC,gBAAgB,CAAC;oBACzC,IAAI,CAACD,GAAG,CAACd,EAAE,EAAE;wBACX,MAAMgM,CAAC,GAAG,MAAMlL,GAAG,CAACmL,IAAI,CAAC,CAAC,CAACC,KAAK;mEAAC,IAAM,EAAE,CAAC;;wBAC1C,MAAM,IAAIC,KAAK,CAAC,CAAA,gCAAA,EAAmCrL,GAAG,CAACsL,MAAM,CAAA,CAAA,EAAIJ,CAAC,EAAE,CAAC;oBACvE;oBACA,MAAM3K,IAAI,GAAG,MAAMP,GAAG,CAACO,IAAI,CAAC,CAAC;oBAE7B,IAAI,CAACyK,OAAO,EAAE;oBACd,IAAI,CAACtD,KAAK,CAAC6D,OAAO,CAAChL,IAAI,CAAC,IAAIA,IAAI,CAAC+D,MAAM,KAAK,CAAC,EAAE,MAAM,IAAI+G,KAAK,CAAC,uBAAuB,CAAC;oBAEvF,wFAAA;oBACA,MAAMG,MAAM,EAAEjM,CAAYgB,IAAI,CAAC4F,CAAV,EAAa,AAAX;sEAAY,CAACzH,CAAC,EAAE,CAAG,CAAM,CAAN;gCACxCc,IAAI,EAAEd,CAAC,CAACc,IAAI,IAAId,CAAC,CAAC+M,MAAM,IAAI,SAAS;gCACrChM,IAAI,EAAE,CAACf,CAAC,CAACe,IAAI,IAAIf,CAAC,CAACgN,IAAI,IAAI,EAAE,EAAEC,WAAW,CAAC,CAAC;gCAC5CjM,WAAW,EAAEiB,MAAM,CAACjC,CAAC,CAACgB,WAAW,IAAIhB,CAAC,CAACkN,QAAQ,IAAIlN,CAAC,CAACmN,QAAQ,IAAI,EAAE,CAAC,CAACC,IAAI,CAAC,CAAC;gCAC3EnM,IAAI,EAAEjB,CAAC,CAACiB,IAAI,IAAIjB,CAAC,CAACqN,KAAK,IAAI;4BAC7B,CAAC,CAAC,CAAC;qEACFrI,MAAM;uEAAEhF,GAAC,GAAKA,GAAC,CAACgB,WAAW,IAAIhB,GAAC,CAACc,IAAI,CAAC;qEACtCwM,IAAI;sEAAC,CAACC,CAAC,EAACC,CAAC,GAAKD,CAAC,CAACzM,IAAI,CAAC2M,aAAa,CAACD,CAAC,CAAC1M,IAAI,CAAC,CAAC;;oBAE5C,IAAIgM,MAAM,CAAClH,MAAM,KAAK,CAAC,EAAE,MAAM,IAAI+G,KAAK,CAAC,0CAA0C,CAAC;oBACpFpD,YAAY,CAACuD,MAAM,CAAC;oBAEpB,qDAAA;oBACA,MAAMY,MAAM,GAAG,CAACC,SAAS,CAACC,QAAQ,IAAKD,SAAS,CAACE,SAAS,IAAIF,SAAS,CAACE,SAAS,CAAC,CAAC,CAAE,IAAI,EAAE,EAAE/I,WAAW,CAAC,CAAC;oBAC1G,MAAMgJ,KAAK,GAAGJ,MAAM,CAACI,KAAK,CAAC,eAAe,CAAC;oBAC3C,IAAIC,cAAc,EAAElN,CAAiB,IAAI,EAAd,GAAG,IAAI;oBAClC,IAAIiN,KAAK,EAAE;wBACT,MAAME,GAAG,GAAGF,KAAK,CAAC,CAAC,CAAC,CAACb,WAAW,CAAC,CAAC;wBAClCc,cAAc,GAAGjB,MAAM,CAACmB,IAAI;oEAAEjO,GAAC,GAAKA,GAAC,CAACe,IAAI,KAAKiN,GAAG,CAAC;qEAAI,IAAI;oBAC7D;oBACA,IAAI,CAACD,cAAc,EAAEA,cAAc,GAAGjB,MAAM,CAACmB,IAAI;gEAAEjO,GAAC,GAAKA,GAAC,CAACgB,WAAW,KAAK,KAAK,CAAC;iEAAI8L,MAAM,CAACmB,IAAI;gEAAEjO,GAAC,GAAKA,GAAC,CAACgB,WAAW,KAAK,IAAI,CAAC;iEAAI8L,MAAM,CAAC,CAAC,CAAC,IAAI,IAAI;oBACpJxD,UAAU,CAACyE,cAAc,CAAC;gBAC5B,CAAC,CAAC,OAAOhM,GAAG,EAAE,AAAK,GAAF;oBACf,IAAI,CAACuK,OAAO,EAAE;oBACd4B,OAAO,CAACxN,KAAK,CAAC,sBAAsB,EAAEqB,GAAG,CAAC;oBAC1CwH,YAAY,CAAC,IAAI,CAAC;oBAClBI,eAAe,CAAC1H,MAAM,CAACF,GAAG,EAAEC,OAAO,IAAID,GAAG,CAAC,CAAC;gBAC9C,CAAC,QAAS;oBACR,IAAIuK,OAAO,EAAE7C,iBAAiB,CAAC,KAAK,CAAC;gBACvC;YACF,CAAC,EAAE,CAAC;YAEJ;wCAAO,MAAM;oBACX6C,OAAO,GAAG,KAAK;gBACjB,CAAC;;QACH,CAAC;+BAAE,EAAE,CAAC;IAEN,+BAAA;IACA,SAAS6B,eAAeA,CAACC,MAAM,AAAe,EAAb,AAAe,MAAT,GAAG;QACxC,IAAI,CAACA,MAAM,EAAE,OAAO,IAAI;QACxB,MAAMC,CAAC,GAAG5I,IAAI,CAACE,GAAG,CAAC,CAAC,EAAEF,IAAI,CAAC6I,IAAI,CAAC,CAACF,MAAM,GAAGxC,GAAG,IAAI,IAAI,CAAC,CAAC;QACvD,IAAIyC,CAAC,IAAI,CAAC,EAAE,OAAO,IAAI;QACvB,OAAO,GAAGA,CAAC,CAAA,CAAA,CAAG;IAChB;IACA,SAASE,iBAAiBA,CAACC,MAAM,AAA4B,EAA1B,AAA4BC,CAA3BtG,CAAC,EAAE,GAA+B,GAAzB,AAA4B,EAAE,CAA3B,CAA6B,GAAzB,EAAE,GAAG;QACvDqG,MAAM,CAAC1C,IAAI,CAACF,GAAG,CAAC,CAAC,GAAG6C,OAAO,GAAG,IAAI,CAAC;IACrC;IAEA,kDAAA;IACA,SAASC,cAAcA,CAAC7L,CAAC,AAAuC,EAArC3C,AAAuC0H,GAAG,AAAQ,EAA7C,AAAuC,AAAQiH,CAA9CF,KAA8D,AAAV,EAAYG,AAAV,MAAM,AAA/C,CAACF,EAA2D,AAAuB,EAArB,AAAuB,CAAtBrB,CAAC,EAAE,MAAM,EAAE,AAAzD,EAA2D,GAAG;QAC3H,MAAMvK,MAAM,GAAGH,CAAC,CAACG,MAAM,IAAI4L,gBAAgB;QAC3C,MAAMzJ,GAAG,GAAGtC,CAAC,CAACsC,GAAG;QACjB,IAAIA,GAAG,KAAK,WAAW,EAAE;YACvBtC,CAAC,CAACuC,cAAc,CAAC,CAAC;YAClB,MAAM2J,IAAI,GAAG,CAAC;mBAAGF,MAAM;aAAC;YACxB,IAAIE,IAAI,CAACnH,GAAG,CAAC,EAAE;gBACbmH,IAAI,CAACnH,GAAG,CAAC,GAAG,EAAE;gBACdkH,SAAS,CAACC,IAAI,CAAC;YACjB,CAAC,MAAM;gBACL,MAAMC,IAAI,GAAGvJ,IAAI,CAACE,GAAG,CAAC,CAAC,EAAEiC,GAAG,GAAG,CAAC,CAAC;gBACjC,MAAMqH,SAAS,GAAG/L,QAAQ,CAACgM,cAAc,CAAC,CAAA,IAAA,EAAOlM,MAAM,CAACmM,OAAO,CAAC3M,GAAG,CAAA,CAAA,EAAIwM,IAAI,EAAE,CAAC,IAAIJ,gBAAgB,GAAG,IAAI;gBACzG,IAAIK,SAAS,EAAE;oBACbA,SAAS,CAAC1J,KAAK,CAAC,CAAC;oBACjB,MAAM6J,CAAC,GAAG,CAAC;2BAAGP,MAAM;qBAAC;oBACrBO,CAAC,CAACJ,IAAI,CAAC,GAAG,EAAE;oBACZF,SAAS,CAACM,CAAC,CAAC;gBACd;YACF;QACF,CAAC,MAAM,IAAI,SAAS,CAACC,IAAI,CAAClK,GAAG,CAAC,EAAE;YAC9BtC,CAAC,CAACuC,cAAc,CAAC,CAAC;YAClB,MAAM2J,MAAI,GAAG,CAAC;mBAAGF,MAAM;aAAC;YACxBE,MAAI,CAACnH,GAAG,CAAC,GAAGzC,GAAG;YACf2J,SAAS,CAACC,MAAI,CAAC;YACf,MAAMO,OAAO,GAAG7J,IAAI,CAACC,GAAG,CAACqJ,MAAI,CAACnJ,MAAM,GAAG,CAAC,EAAEgC,GAAG,GAAG,CAAC,CAAC;YAClD,MAAM2H,SAAS,GAAGrM,QAAQ,CAACgM,cAAc,CAAC,CAAA,IAAA,EAAOlM,MAAM,CAACmM,OAAO,CAAC3M,GAAG,CAAA,CAAA,EAAI8M,OAAO,EAAE,CAAC,IAAIV,gBAAgB,GAAG,IAAI;YAC5G,IAAIW,SAAS,EAAEA,SAAS,CAAChK,KAAK,CAAC,CAAC;QAClC,CAAC,MAAM,IAAIJ,GAAG,KAAK,WAAW,EAAE;YAC9BtC,CAAC,CAACuC,cAAc,CAAC,CAAC;YAClB,MAAM4J,MAAI,GAAGvJ,IAAI,CAACE,GAAG,CAAC,CAAC,EAAEiC,GAAG,GAAG,CAAC,CAAC;YACjC,MAAMqH,WAAS,GAAG/L,QAAQ,CAACgM,cAAc,CAAC,CAAA,IAAA,EAAOlM,MAAM,CAACmM,OAAO,CAAC3M,GAAG,CAAA,CAAA,EAAIwM,MAAI,EAAE,CAAC,IAAIJ,gBAAgB,GAAG,IAAI;YACzGK,WAAS,EAAE1J,KAAK,CAAC,CAAC;QACpB,CAAC,MAAM,IAAIJ,GAAG,KAAK,YAAY,EAAE;YAC/BtC,CAAC,CAACuC,cAAc,CAAC,CAAC;YAClB,MAAMoK,GAAG,GAAG/J,IAAI,CAACC,GAAG,CAACmJ,MAAM,CAACjJ,MAAM,GAAG,CAAC,EAAEgC,GAAG,GAAG,CAAC,CAAC;YAChD,MAAM2H,WAAS,GAAGrM,QAAQ,CAACgM,cAAc,CAAC,CAAA,IAAA,EAAOlM,MAAM,CAACmM,OAAO,CAAC3M,GAAG,CAAA,CAAA,EAAIgN,GAAG,EAAE,CAAC,IAAIZ,gBAAgB,GAAG,IAAI;YACxGW,WAAS,EAAEhK,KAAK,CAAC,CAAC;QACpB;IACF;IAEA,SAASkK,cAAcA,CAAC5M,GAAyC,AAAxC,EAA0CgM,AAAxC3O,KAAK,CAACwP,EAAwC,AAAU,EAAR,AAAUZ,MAAJ,IAAlC,CAACF,AAA8C,AAAuB,EAArB,AAAuB,CAAtBrB,CAAC,EAAE,MAAM,EAAE,EAA5C,AAA8C,GAAG;QAC/G1K,GAAC,CAACuC,cAAc,CAAC,CAAC;QAClB,MAAMuK,KAAK,GAAG9M,GAAC,CAAC+M,aAAa,CAACC,OAAO,CAAC,MAAM,CAAC,CAACzC,IAAI,CAAC,CAAC;QACpD,MAAM0C,MAAM,GAAGH,KAAK,CAACI,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAACC,KAAK,CAAC,CAAC,EAAEnB,QAAM,CAACjJ,MAAM,CAAC,CAACqK,KAAK,CAAC,EAAE,CAAC;QACzE,IAAIH,MAAM,CAAClK,MAAM,KAAK,CAAC,EAAE;QACzB,MAAMmJ,MAAI,GAAG,CAAC;eAAGF,QAAM;SAAC;QACxB,IAAK,IAAIqB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGJ,MAAM,CAAClK,MAAM,EAAEsK,CAAC,EAAE,CAAEnB,MAAI,CAACmB,CAAC,CAAC,GAAGJ,MAAM,CAACI,CAAC,CAAC;QAC3DpB,WAAS,CAACC,MAAI,CAAC;QACf,MAAMoB,UAAU,GAAGpB,MAAI,CAACqB,SAAS,EAAEpQ,GAAC,GAAK,CAACA,GAAC,CAAC;QAC5C,MAAMqQ,QAAQ,GAAGF,UAAU,KAAK,CAAC,CAAC,GAAGpB,MAAI,CAACnJ,MAAM,GAAG,CAAC,GAAGuK,UAAU;QACjE,MAAMG,EAAE,GAAGpN,QAAQ,CAACgM,cAAc,CAAC,CAAA,IAAA,EAAO,AAACrM,GAAC,CAACG,MAAM,CAAsBmM,GAAlBP,IAAyB,CAACpM,GAAG,CAAA,CAAA,EAAI6N,IAAjB,IAAyB,EAAE,CAAC,IAAIzB,gBAAgB,GAAG,IAAI;QAC9H0B,EAAE,EAAE/K,KAAK,CAAC,CAAC;IACb;IAEApF,8KAAS;gCAAC,IAAMgJ,YAAY,CAACL,QAAQ,CAACyH,IAAI,CAAC,EAAE,CAAC,CAAC;+BAAE;QAACzH,QAAQ;KAAC,CAAC;QAC5D3I,0KAAS;gCAAC,IAAM8J,YAAY,CAACH,QAAQ,CAACyG,IAAI,CAAC,EAAE,CAAC,CAAC;+BAAE;QAACzG,QAAQ;KAAC,CAAC;IAE5D,4CAAA;IAEF,SAAS0G,gBAAgBA,CAACC,EAAE,AAAQ,CAAC,CAAP,CAAS,MAAM,EAAE,CAAC;QAC9C,MAAMC,IAAI,EAAE,CAAW,EAAE,GAAP,EAAE;QACpB,IAAI,CAACD,EAAE,IAAIA,EAAE,CAAC7K,MAAM,GAAG,CAAC,EAAE8K,IAAI,CAACC,IAAI,CAAC,yCAAyC,CAAC;QAC9E,IAAI,CAAC,OAAO,CAACtB,IAAI,CAACoB,EAAE,CAAC,EAAEC,IAAI,CAACC,IAAI,CAAC,wCAAwC,CAAC;QAC1E,IAAI,CAAC,OAAO,CAACtB,IAAI,CAACoB,EAAE,CAAC,EAAEC,IAAI,CAACC,IAAI,CAAC,wCAAwC,CAAC;QAC1E,IAAI,CAAC,OAAO,CAACtB,IAAI,CAACoB,EAAE,CAAC,EAAEC,IAAI,CAACC,IAAI,CAAC,8BAA8B,CAAC;QAChE,IAAI,CAAC,cAAc,CAACtB,IAAI,CAACoB,EAAE,CAAC,EAAEC,IAAI,CAACC,IAAI,CAAC,2CAA2C,CAAC;QACpF,OAAOD,IAAI;IACb;QAEEvQ,0KAAS;gCAAC,MAAM;YACd,+BAAA;YACA,MAAMuQ,MAAI,GAAGF,gBAAgB,CAACpG,QAAQ,CAAC;YACvCY,iBAAiB,CAAC0F,MAAI,CAAC;YACvBxF,iBAAiB,CAACd,QAAQ,KAAKE,eAAe,IAAIA,eAAe,CAAC1E,MAAM,KAAK,CAAC,CAAC;QACjF,CAAC;+BAAE;QAACwE,QAAQ;QAAEE,eAAe;KAAC,CAAC;IAE/B,uGAAA;IACA,eAAesG,kBAAkBA,CAAC/N,GAAmB,CAAjB,CAAmB,CAAjB3C,KAAK,CAAC2Q;QAC1ChO,GAAC,EAAEuC,cAAc,CAAC,CAAC;QACnBiG,QAAQ,CAAC,IAAI,CAAC;QACd,IAAI,CAAC,4BAA4B,CAACgE,IAAI,CAACzG,KAAK,CAAC,EAAE;YAC7CyC,QAAQ,CAAC,qCAAqC,CAAC;YAC/C;QACF;QACAD,UAAU,CAAC,IAAI,CAAC;QAChB,IAAI;YACF,MAAM0F,IAAI,GAAG,MAAM5P,QAAQ,CAAC,sBAAsB,EAAE;gBAAE0H;YAAM,CAAC,CAAC;YAC9D,IAAIkI,IAAI,EAAEtQ,EAAE,EAAE;gBACZmI,OAAO,CAAC,aAAa,CAAC;gBACtB4F,iBAAiB,CAAC9C,yBAAyB,EAAE,EAAE,CAAC;gBAChD1C,WAAW,CAACC,KAAK,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC,EAAE,CAAC,CAAC;gBAC9B5D,UAAU,CAAC,IAAMnC,QAAQ,CAACgM,cAAc,CAAC,aAAa,CAAC,EAAE3J,KAAK,CAAC,CAAC,EAAE,GAAG,CAAC;YACxE,CAAC,MAAM8F,QAAQ,CAACyF,IAAI,EAAEpQ,KAAK,IAAI,gCAAgC,CAAC;QAClE,CAAC,CAAC,OAAOqB,KAAG,EAAE,AAAK,GAAF;YACfsJ,QAAQ,CAACtJ,KAAG,EAAEC,OAAO,IAAIC,MAAM,CAACF,KAAG,CAAC,CAAC;QACvC,CAAC,QAAS;YACRqJ,UAAU,CAAC,KAAK,CAAC;QACnB;IACF;IAEA,eAAe2F,oBAAoBA,CAAClO,GAAmB,CAAjB,CAAmB,CAAjB3C,KAAK,CAAC2Q;QAC5ChO,GAAC,EAAEuC,cAAc,CAAC,CAAC;QACnBiG,QAAQ,CAAC,IAAI,CAAC;QACd,IAAInC,SAAS,CAACtD,MAAM,GAAG,CAAC,EAAE;YACxByF,QAAQ,CAAC,4CAA4C,CAAC;YACtD;QACF;QACAD,UAAU,CAAC,IAAI,CAAC;QAChB,IAAI;YACF,MAAM0F,MAAI,GAAG,MAAM5P,QAAQ,CAAC,wBAAwB,EAAE;gBAAE0H,KAAK;gBAAEoI,IAAI,EAAE9H,SAAS;gBAAE+H,IAAI,EAAE;YAAS,CAAC,CAAC;YACjG,IAAIH,MAAI,EAAEtQ,EAAE,IAAIsQ,MAAI,EAAErQ,SAAS,EAAE;gBAC/B2I,YAAY,CAAC0H,MAAI,CAACrQ,SAAS,CAAC;gBAC5BkI,OAAO,CAAC,OAAO,CAAC;YAClB,CAAC,MAAM0C,QAAQ,CAACyF,MAAI,EAAEpQ,KAAK,IAAIoQ,MAAI,EAAEnQ,MAAM,IAAI,0BAA0B,CAAC;QAC5E,CAAC,CAAC,OAAOoB,KAAG,EAAO,AAAL,GAAG;YACfsJ,QAAQ,CAACtJ,KAAG,EAAEC,OAAO,IAAIC,MAAM,CAACF,KAAG,CAAC,CAAC;QACvC,CAAC,QAAS;YACRqJ,UAAU,CAAC,KAAK,CAAC;QACnB;IACF;IAEA,eAAe8F,kBAAkBA,CAACrO,GAAmB,CAAjB,CAAmB,CAAjB3C,KAAK,CAAC2Q;QAC1ChO,GAAC,EAAEuC,cAAc,CAAC,CAAC;QACnBiG,QAAQ,CAAC,IAAI,CAAC;QACd,MAAM8F,IAAI,GAAG9H,OAAO,EAAErI,WAAW,IAAI,EAAE;QACvC,MAAMoQ,KAAK,GAAGxH,KAAK,CAACwD,IAAI,CAAC,CAAC;QAC1B,MAAMiE,IAAI,GAAGD,KAAK,CAACE,UAAU,CAAC,GAAG,CAAC,GAAGF,KAAK,GAAG,GAAGD,IAAI,GAAGC,KAAK,CAACrB,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,EAAE;QACjF,IAAI,CAAC,kBAAkB,CAACV,IAAI,CAACgC,IAAI,CAAC,EAAE;YAClChG,QAAQ,CAAC,+EAA+E,CAAC;YACzF;QACF;QACAD,UAAU,CAAC,IAAI,CAAC;QAChB,IAAI;YACF,MAAM0F,MAAI,GAAG,MAAM5P,QAAQ,CAAC,sBAAsB,EAAE;gBAAE0I,KAAK,EAAEyH;YAAK,CAAC,CAAC;YACpE,IAAIP,MAAI,EAAEtQ,EAAE,EAAE;gBACZmI,OAAO,CAAC,aAAa,CAAC;gBACtB4F,iBAAiB,CAAC5C,yBAAyB,EAAE,EAAE,CAAC;gBAChD5B,WAAW,CAACf,KAAK,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC,EAAE,CAAC,CAAC;gBAC9B5D,UAAU,CAAC,IAAMnC,QAAQ,CAACgM,cAAc,CAAC,aAAa,CAAC,EAAE3J,KAAK,CAAC,CAAC,EAAE,GAAG,CAAC;YACxE,CAAC,MAAM8F,QAAQ,CAACyF,MAAI,EAAEpQ,KAAK,IAAI,yBAAyB,CAAC;QAC3D,CAAC,CAAC,OAAOqB,KAAG,EAAE,AAAK,GAAF;YACfsJ,QAAQ,CAACpJ,MAAM,CAACF,KAAG,CAAC,CAAC;QACvB,CAAC,QAAS;YACRqJ,UAAU,CAAC,KAAK,CAAC;QACnB;IACF;IAEA,eAAemG,oBAAoBA,CAAC1O,GAAmB,CAAjB,CAAmB,CAAjB3C,KAAK,CAAC2Q;QAC5ChO,GAAC,EAAEuC,cAAc,CAAC,CAAC;QACnBiG,QAAQ,CAAC,IAAI,CAAC;QACd,IAAIrB,SAAS,CAACpE,MAAM,GAAG,CAAC,EAAE;YACxByF,QAAQ,CAAC,uCAAuC,CAAC;YACjD;QACF;QACAD,UAAU,CAAC,IAAI,CAAC;QAChB,IAAI;YACF,MAAM+F,MAAI,GAAG9H,OAAO,EAAErI,WAAW,IAAI,EAAE;YACvC,MAAMoQ,OAAK,GAAGxH,KAAK,CAACwD,IAAI,CAAC,CAAC;YAC1B,MAAMiE,MAAI,GAAGD,OAAK,CAACE,UAAU,CAAC,GAAG,CAAC,GAAGF,OAAK,GAAG,GAAGD,MAAI,GAAGC,OAAK,CAACrB,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,EAAE;YAEjF,MAAMzO,KAAG,GAAG,MAAMJ,QAAQ,CAAC,wBAAwB,EAAE;gBAAE0I,KAAK,EAAEyH,MAAI;gBAAEL,IAAI,EAAEhH,SAAS;gBAAEvJ;YAAU,CAAC,CAAC;YACjG,IAAIa,KAAG,EAAEd,EAAE,IAAIc,KAAG,EAAEb,SAAS,EAAE;gBAC7B2I,YAAY,CAAC9H,KAAG,CAACb,SAAS,CAAC;gBAC3BkI,OAAO,CAAC,KAAK,CAAC;YAChB,CAAC,MAAM0C,QAAQ,CAAC/J,KAAG,EAAEX,MAAM,IAAIW,KAAG,EAAEZ,KAAK,IAAI,4BAA4B,CAAC;QAC5E,CAAC,CAAC,OAAOqB,KAAG,EAAE,AAAK,GAAF;YACfsJ,QAAQ,CAACpJ,MAAM,CAACF,KAAG,CAAC,CAAC;QACvB,CAAC,QAAS;YACRqJ,UAAU,CAAC,KAAK,CAAC;QACnB;IACF;IAED,SAASoG,cAAcA,CAACJ,OAAK,AAAoB,EAAlB,AAAoB/H,MAAd,GAAG,AAA6C,CAA1B,CAA4B,CAA1B;QAC5D,IAAI,CAAC+H,OAAK,EAAE,OAAO,IAAI;QACvB,MAAMK,GAAG,GAAGL,OAAK,CAAChE,IAAI,CAAC,CAAC;QACxB,IAAIqE,GAAG,CAACH,UAAU,CAAC,GAAG,CAAC,EAAE;YACvB,4BAAA;YACA,MAAMxB,QAAM,GAAG2B,GAAG,CAAC1B,OAAO,CAAC,SAAS,EAAE,EAAE,CAAC;YACzC,OAAOD,QAAM;QACf;QACA,MAAM4B,EAAE,GAAGrI,SAAO,EAAErI,WAAW,IAAI,EAAE;QACrC,MAAM2Q,UAAU,GAAGF,GAAG,CAAC1B,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;QACzC,IAAI,CAAC2B,EAAE,IAAI,CAACC,UAAU,EAAE,OAAO,IAAI;QACnC,uDAAA;QACA,MAAMC,YAAY,GAAGF,EAAE,CAACJ,UAAU,CAAC,GAAG,CAAC,GAAGI,EAAE,GAAGA,EAAE,GAAG,CAAA,CAAA,EAAIA,EAAE,EAAE,GAAG,EAAE;QACjE,OAAO,GAAGE,YAAY,GAAGD,UAAU,EAAE;IACvC;IAEA,4EAAA;IACA,eAAeE,cAAcA,CAAChP,GAAmB,CAAjB,CAAmB,CAAjB3C,KAAK,CAAC2Q;QACtChO,GAAC,EAAEuC,cAAc,CAAC,CAAC;QACnBiG,QAAQ,CAAC,IAAI,CAAC;QAEd,sDAAA;QACAP,kBAAkB,CAAC,IAAI,CAAC;QACxB,MAAM4F,MAAI,GAAGF,gBAAgB,CAACpG,QAAQ,CAAC,CAAC,CAAC,oCAAA;QACzC,IAAIsG,MAAI,CAAC9K,MAAM,GAAG,CAAC,EAAE;YACnBoF,iBAAiB,CAAC0F,MAAI,CAAC;YACvBrF,QAAQ,CAAC,uCAAuC,CAAC;YACjD;QACF;QACA,IAAIjB,QAAQ,KAAKE,eAAe,EAAE;YAChCY,iBAAiB,CAAC,KAAK,CAAC;YACxBG,QAAQ,CAAC,yBAAyB,CAAC;YACnC;QACF;QACA,IAAI,CAACnB,OAAO,EAAEkD,IAAI,CAAC,CAAC,EAAE;YACpB/B,QAAQ,CAAC,gCAAgC,CAAC;YAC1C;QACF;QACA,IAAI,CAACvK,IAAI,EAAEsM,IAAI,CAAC,CAAC,EAAE;YACjB/B,QAAQ,CAAC,wBAAwB,CAAC;YAClC;QACF;QAEA,kEAAA;QACA,MAAMyG,eAAe,GACnBlI,KAAK,IAAA,CAAKA,KAAK,CAAC0H,UAAU,CAAC,GAAG,CAAC,GAAG1H,KAAK,GAAG,GAAGP,OAAO,EAAErI,WAAW,IAAI,EAAE,GAAG4I,KAAK,CAACmG,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,EAAE,CAAC;QAEvG,MAAMgC,OAAO,EAAEC,CAAsB,KAAhB,CAAC,MAAM,EAAE,GAAG,CAAC;YAChCvR,SAAS;YACTwR,gBAAgB,EAAE/H,OAAO,CAACkD,IAAI,CAAC,CAAC;YAChChD,QAAQ;YACRtJ,IAAI,EAAEA,IAAI,CAACsM,IAAI,CAAC;QAClB,CAAC;QACD,IAAIxE,KAAK,EAAEmJ,OAAO,CAACnJ,KAAK,GAAGA,KAAK;QAChC,IAAIkJ,eAAe,EAAEC,OAAO,CAACnI,KAAK,GAAGkI,eAAe;QACpD,IAAIzI,OAAO,EAAE0I,OAAO,CAAC1I,OAAO,GAAG;YAAEvI,IAAI,EAAEuI,OAAO,CAACvI,IAAI;YAAEC,IAAI,EAAEsI,OAAO,CAACtI,IAAI;YAAEC,WAAW,EAAEqI,OAAO,CAACrI,WAAAA;QAAY,CAAC;QAE3GoK,UAAU,CAAC,IAAI,CAAC;QAChB,IAAI;YACF,MAAM9J,KAAG,GAAG,MAAMJ,QAAQ,CAAC,2BAA2B,EAAE6Q,OAAO,CAAC;YAEhE,IAAIzQ,KAAG,EAAEd,EAAE,EAAE;gBACX,4EAAA;gBACA+K,UAAU,CAAC,qCAAqC,CAAC;gBACjD5C,OAAO,CAAC,MAAM,CAAC;gBAEf,oCAAA;gBACAtD,UAAU,CAAC,MAAM;oBACf,uEAAA;oBACAmD,MAAM,CAACmI,IAAI,CAAC,UAAU,CAAC;gBACzB,CAAC,EAAE,GAAG,CAAC;YACT,CAAC,MAAM;gBACL,qCAAA;gBACAtF,QAAQ,CAAC/J,KAAG,EAAEZ,KAAK,IAAIY,KAAG,EAAEX,MAAM,IAAI,4BAA4B,CAAC;YACrE;QACF,CAAC,CAAC,OAAOoB,KAAG,EAAE,AAAK,GAAF;YACfsJ,QAAQ,CAACpJ,MAAM,CAACF,KAAG,CAAC,IAAI,kBAAkB,CAAC;QAC7C,CAAC,QAAS;YACRqJ,UAAU,CAAC,KAAK,CAAC;QACnB;IACF;IAGE,eAAe8G,iBAAiBA,CAAA,EAAG;QACjC,IAAI1G,sBAAsB,IAAIA,sBAAsB,GAAGM,IAAI,CAACF,GAAG,CAAC,CAAC,EAAE;QACnEP,QAAQ,CAAC,IAAI,CAAC;QACdD,UAAU,CAAC,IAAI,CAAC;QAChB,IAAI;YACF,MAAM0F,MAAI,GAAG,MAAM5P,QAAQ,CAAC,sBAAsB,EAAE;gBAAE0H,KAAK;gBAAEuJ,MAAM,EAAE;YAAK,CAAC,CAAC;YAC5E,IAAIrB,MAAI,EAAEtQ,EAAE,EAAE+N,iBAAiB,CAAC9C,yBAAyB,EAAE,EAAE,CAAC,CAAC;iBAC1DJ,QAAQ,CAACyF,MAAI,EAAEpQ,KAAK,IAAI,uBAAuB,CAAC;QACvD,CAAC,CAAC,OAAOqB,KAAG,EAAE,AAAK,GAAF;YACfsJ,QAAQ,CAACpJ,MAAM,CAACF,KAAG,CAAC,CAAC;QACvB,CAAC,QAAS;YACRqJ,UAAU,CAAC,KAAK,CAAC;QACnB;IACF;IAEA,eAAegH,iBAAiBA,CAAA,EAAG;QACjC,IAAI1G,sBAAsB,IAAIA,sBAAsB,GAAGI,IAAI,CAACF,GAAG,CAAC,CAAC,EAAE;QACnEP,QAAQ,CAAC,IAAI,CAAC;QACdD,UAAU,CAAC,IAAI,CAAC;QAChB,IAAI;YACF,MAAM0F,MAAI,GAAG,MAAM5P,QAAQ,CAAC,sBAAsB,EAAE;gBAAE0I,KAAK;gBAAEuI,MAAM,EAAE;YAAK,CAAC,CAAC;YAC5E,IAAIrB,MAAI,EAAEtQ,EAAE,EAAE+N,iBAAiB,CAAC5C,yBAAyB,EAAE,EAAE,CAAC,CAAC;iBAC1DN,QAAQ,CAACyF,MAAI,EAAEpQ,KAAK,IAAI,2BAA2B,CAAC;QAC3D,CAAC,CAAC,OAAOqB,KAAG,EAAE,AAAK,GAAF;YACfsJ,QAAQ,CAACpJ,MAAM,CAACF,KAAG,CAAC,CAAC;QACvB,CAAC,QAAS;YACRqJ,UAAU,CAAC,KAAK,CAAC;QACnB;IACF;IAEA,qEAAA;IACA,SAASiH,kBAAkBA,CAAA,EAAG;QAC5B,MAAMhE,GAAC,GAAGhC,IAAI;QACd,IAAIgC,GAAC,IAAI,CAAC,EAAE,OAAO,CAAC;QACpB,OAAO5I,IAAI,CAAC6M,KAAK,CAAE,CAACjE,GAAC,GAAG,CAAC,IAAI,CAAC,GAAI,GAAG,CAAC;IACxC;IACA,MAAMkE,WAAW,GAAGF,kBAAkB,CAAC,CAAC;IAExC,4BAAA,GACA,qBACE,6LAAC,GAAG;QAAC,SAAS,EAAC,kGAAkG,CAAC;gCAChH,6LAAC,GAAG;YAAC,SAAS,EAAC,2HAA2H,CAAC;;8BAEzI,6LAAC,GAAG;oBAAC,SAAS,EAAC,8BAA8B,CAAC;4CAC5C,6LAAC,GAAG;wBAAC,SAAS,EAAC,yBAAyB,CAAC;;0CAEvC,6LAAC,GAAG;gCAAC,SAAS,EAAC,8BAA8B,CAAC;;kDAC5C,6LAAC,GAAG;wCAAC,SAAS,EAAC,4IAA4I;kDAAC,CAAC,EAAE,GAAG,CAAC;;;;;;kDACnK,6LAAC,GAAG,CAAC;;0DACH,6LAAC,EAAE;gDAAC,SAAS,EAAC,oDAAoD;0DAAC,oBAAoB,EAAE,EAAE,CAAC;;;;;;0DAC5F,6LAAC,CAAC;gDAAC,SAAS,EAAC,6BAA6B;0DAAC,6DAA6D,EAAE,CAAC,CAAC;;;;;;;;;;;;;;;;;;0CAKhH,6LAAC,GAAG;gCAAC,SAAS,EAAC,MAAM,CAAC;wDACpB,6LAAC,GAAG;oCAAC,SAAS,EAAC,UAAU,CAAC;;sDACxB,6LAAC,GAAG;4CAAC,SAAS,EAAC,0DAA0D,GAAG;;;;;;sDAC5E,6LAAC,GAAG;4CACF,SAAS,EAAC,0HAA0H;4CACpI,KAAK,CAAC,CAAC;gDAAEG,KAAK,EAAE,GAAGD,WAAW,CAAA,CAAA,CAAA;4CAAI,CAAC,CAAC,GACpC;;;;;;sDACF,6LAAC,GAAG;4CAAC,SAAS,EAAC,4CAA4C,CAAC;sDACzD;gDAAC,CAAC;gDAAE,CAAC;gDAAE,CAAC;gDAAE,CAAC;6CAAC,CAAC9K,GAAG,EAAE2H,GAAC,IAAK;gDACvB,MAAMvH,QAAQ,GAAGuH,GAAC,KAAK/C,IAAI;gDAC3B,MAAMoG,WAAW,GAAGrD,GAAC,GAAG/C,IAAI;gDAC5B,qBACE,6LAAC,GAAG,CAAC,GAAG,CAAC;oDAAI,SAAS,EAAC,oDAAoD,CAAC;;sEAC1E,6LAAC,GAAG;4DACF,SAAS,CAAC,CAAC,CAAA,yFAAA,EACToG,WAAW,GAAG,+CAA+C,GAAG5K,QAAQ,GAAG,+DAA+D,GAAG,iDAAiD,EAC9L,CAAC,CACJ;sEACEuH,GAAC,CAAC;;;;;;sEAEL,6LAAC,GAAG;4DAAC,SAAS,EAAC,iCAAiC,CAAC;sEAAC;gEAAC,QAAQ;gEAAE,OAAO;gEAAE,OAAO;gEAAE,KAAK;6DAAC,CAACA,GAAC,GAAG,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC;;;;;;;mDAR3FA,GAAC,CAAC;;;;;4CAWhB,CAAC,CAAC,CAAC;;;;;;;;;;;;;;;;;0CAMT,6LAAC,GAAG;gCAAC,IAAI,EAAC,QAAQ;gCAAC,SAAS,IAAC,QAAQ;gCAAC,SAAS,EAAC,qBAAqB,CAAC;;oCACnE1O,KAAK,kBAAI,6LAAC,GAAG;wCAAC,SAAS,EAAC,sBAAsB,CAAC;kDAACA,KAAK,CAAC,EAAE,GAAG,CAAC,CAAC;;;;;;oCAC7D4K,OAAO,kBAAI,6LAAC,GAAG;wCAAC,SAAS,EAAC,0BAA0B,CAAC;kDAACA,OAAO,CAAC,EAAE,GAAG,CAAC,CAAC;;;;;;;;;;;;0CAIxE,6LAAC,GAAG,CAAC;;oCAEF5C,IAAI,KAAK,QAAQ,kBAChB,6LAAC,GAAG;wCAAC,SAAS,EAAC,WAAW,CAAC;;0DACzB,6LAAC,MAAM;gDAAC,OAAO,CAAC,CAAC,IAAOsD,MAAM,CAAC0G,QAAQ,CAACC,IAAI,GAAG,0CAA2C,CAAC;gDAAC,SAAS,EAAC,gGAAgG,CAAC;;kEACrM,6LAAC,GAAG;wDAAC,GAAG,EAAC,aAAa;wDAAC,GAAG,EAAC,QAAQ;wDAAC,SAAS,EAAC,SAAS,GAAG;;;;;;kEAC1D,6LAAC,IAAI;wDAAC,SAAS,EAAC,oCAAoC;kEAAC,oBAAoB,EAAE,IAAI,CAAC;;;;;;;;;;;;0DAGlF,6LAAC,GAAG;gDAAC,SAAS,EAAC,oCAAoC;0DAAC,EAAE,EAAE,GAAG,CAAC;;;;;;0DAE5D,6LAAC,MAAM;gDAAC,OAAO,CAAC,CAAC,IAAMhK,OAAO,CAAC,OAAO,CAAC,CAAC;gDAAC,SAAS,EAAC,yFAAyF;0DAAC;;;;;;0DAG7I,6LAAC,GAAG;wEAAC,6LAAC,IAAI;;wDAAC;sEAAyB,6LAAC,CAAC;4DAAC,SAAS,EAAC,mCAAmC;4DAAC,IAAI,EAAC,QAAQ;sEAAC,KAAK,EAAE,CAAC,CAAC,EAAE,IAAI,CAAC,EAAE,GAAG,CAAC;;;;;;;;;;;;;;;;;;;;;;;oCAK5HD,IAAI,KAAK,OAAO,kBACf,6LAAC,IAAI;wCAAC,QAAQ,CAAC,CAACkI,kBAAkB,CAAC;wCAAC,SAAS,EAAC,WAAW;wCAAC,UAAU,CAAC;;0DACnE,6LAAC,KAAK;gDAAC,SAAS,EAAC,0CAA0C;0DAAC,KAAK,EAAE,KAAK,CAAC;;;;;;0DACzE,6LAAC,KAAK;gDAAC,KAAK,CAAC,CAAChI,KAAK,CAAC;gDAAC,QAAQ,CAAC,EAAE/F,GAAC,GAAKgG,QAAQ,CAAChG,GAAC,CAACG,MAAM,CAACO,KAAK,CAAC,CAAC;gDAAC,SAAS,EAAC,2GAA2G;gDAAC,WAAW,EAAC,iBAAiB;gDAAC,IAAI,EAAC,OAAO,GAAG;;;;;;0DACnO,6LAAC,GAAG;gDAAC,SAAS,EAAC,YAAY,CAAC;;kEAC1B,6LAAC,MAAM;wDAAC,IAAI,EAAC,QAAQ;wDAAC,QAAQ,CAAC,CAAC4H,OAAO,CAAC;wDAAC,SAAS,EAAC,mDAAmD,CAAC;kEACpGA,OAAO,GAAG,YAAY,GAAG,WAAW,CAAC;;;;;;kEAExC,6LAAC,MAAM;wDAAC,IAAI,EAAC,QAAQ;wDAAC,OAAO,CAAC,CAAC,IAAMxC,OAAO,CAAC,QAAQ,CAAC,CAAC;wDAAC,SAAS,EAAC,0BAA0B;kEAAC;;;;;;;;;;;;0DAI/F,6LAAC,CAAC;gDAAC,SAAS,EAAC,wBAAwB;0DAAC,kDAAkD,EAAE,CAAC,CAAC;;;;;;;;;;;;oCAK/FD,IAAI,KAAK,aAAa,kBACrB,6LAAC,IAAI;wCAAC,QAAQ,CAAC,CAACqI,oBAAoB,CAAC;wCAAC,SAAS,EAAC,WAAW;wCAAC,UAAU,CAAC;;0DACrE,6LAAC,CAAC;gDAAC,SAAS,EAAC,wBAAwB;;oDAAC;kEAAuB,6LAAC,MAAM,CAAC;kEAACnI,KAAK,CAAC,EAAE,MAAM,CAAC,EAAE,CAAC,CAAC;;;;;;;;;;;;0DAEzF,6LAAC,KAAK;gDAAC,SAAS,EAAC,0CAA0C;0DAAC,IAAI,EAAE,KAAK,CAAC;;;;;;0DACxE,6LAAC,GAAG;gDAAC,SAAS,EAAC,YAAY,CAAC;0DACzBE,QAAQ,CAACrB,GAAG,CAAC,CAACmL,KAAK,EAAE1C,GAAC,iBACrB,6LAAC,KAAK,CACJ,GAAG,CAAC;wDACJ,EAAE,CAAC,CAAC,CAAA,UAAA,EAAaA,GAAC,EAAE,CAAC;wDACrB,QAAQ,IAAC,OAAO;wDAChB,SAAS,EAAC,SAAS;wDACnB,OAAO,EAAC,QAAQ;wDAChB,SAAS,CAAC,CAAC,CAAC,CAAC;wDACb,KAAK,CAAC,CAAC0C,KAAK,CAAC;wDACb,OAAO,CAAC,EAAE/P,GAAC,GAAK4M,cAAc,CAAC5M,GAAC,EAAEiG,QAAQ,EAAEC,WAAW,CAAC,CAAC;wDACzD,SAAS,CAAC,EAAElG,GAAC,GAAK6L,cAAc,CAAC7L,GAAC,EAAEqN,GAAC,EAAEpH,QAAQ,EAAEC,WAAW,CAAC,CAAC;wDAC9D,QAAQ,CAAC,CAAC,KAAO,CAAD,AAAE,CAAC;wDACnB,UAAU,CAAC,GAAC,CAAA,iBAAA,EAAoBmH,GAAC,GAAG,CAAC,EAAE,CAAC;wDACxC,SAAS,EAAC,kGAAkG,GAE/G,CAAC,CAAC;uDAbMA,GAAC,CAAC;;;;;;;;;;0DAgBb,6LAAC,GAAG;gDAAC,SAAS,EAAC,YAAY,CAAC;;kEAC1B,6LAAC,MAAM;wDAAC,IAAI,EAAC,QAAQ;wDAAC,QAAQ,CAAC,CAAC/E,OAAO,CAAC;wDAAC,SAAS,EAAC,mDAAmD,CAAC;kEACpGA,OAAO,GAAG,cAAc,GAAG,QAAQ,CAAC;;;;;;kEAEvC,6LAAC,MAAM;wDAAC,IAAI,EAAC,QAAQ;wDAAC,OAAO,CAAC,CAAC,IAAMxC,OAAO,CAAC,OAAO,CAAC,CAAC;wDAAC,SAAS,EAAC,0BAA0B;kEAAC;;;;;;;;;;;;0DAK9F,6LAAC,GAAG;gDAAC,SAAS,EAAC,0DAA0D,CAAC;;kEACxE,6LAAC,GAAG,CAAC;kEACFwF,eAAe,CAAC3C,sBAAsB,CAAC,iBACtC,6LAAC,IAAI;;gEAAC,UAAU;gEAAC2C,eAAe,CAAC3C,sBAAsB,CAAC,CAAC,EAAE,IAAI,CAAC;;;;;;iFAEhE,6LAAC,MAAM;4DAAC,IAAI,EAAC,QAAQ;4DAAC,OAAO,CAAC,CAAC0G,iBAAiB,CAAC;4DAAC,SAAS,EAAC,2BAA2B;sEAAC;;;;;;;;;;;kEAK5F,6LAAC,GAAG;wDAAC,SAAS,EAAC,YAAY;kEAAC,2BAA2B,EAAE,GAAG,CAAC;;;;;;;;;;;;;;;;;;oCAMlExJ,IAAI,KAAK,OAAO,kBACf,6LAAC,IAAI;wCAAC,QAAQ,CAAC,CAACwI,kBAAkB,CAAC;wCAAC,SAAS,EAAC,WAAW;wCAAC,UAAU,CAAC;;0DACnE,6LAAC,KAAK;gDAAC,SAAS,EAAC,0CAA0C;0DAAC,KAAK,EAAE,KAAK,CAAC;;;;;;0DAGzE,6LAAC,GAAG;gDAAC,SAAS,EAAC,wBAAwB,CAAC;;kEACtC,6LAAC,GAAG;wDAAC,SAAS,EAAC,MAAM,CAAC;;0EAEpB,6LAAC,eAAe;gEACd,SAAS,CAAC,CAAC5N,SAAS,CAAC;gEACrB,KAAK,CAAC,CAAC+F,OAAO,CAAC;gEACf,QAAQ,CAAC,EAAErJ,GAAC,GAAKsJ,UAAU,CAACtJ,GAAC,CAAC,CAAC;gEAC/B,QAAQ,CAAC,CAACwJ,cAAc,IAAI,CAAC,CAACE,YAAY,CAAC;gEAC3C,WAAW,CAAC,CAACF,cAAc,GAAG,sBAAsB,GAAGE,YAAY,GAAG,aAAa,GAAG,gBAAgB,CAAC,GACvG;;;;;;0EAEF,6LAAC,GAAG;gEAAC,SAAS,EAAC,6BAA6B,CAAC;0EAC1CF,cAAc,GAAG,uBAAuB,GAAGE,YAAY,iBAAG,6LAAC,IAAI;oEAAC,SAAS,EAAC,cAAc;8EAAC,mBAAmB,EAAE,IAAI,CAAC;;;;;2EAAG,qBAAqB,CAAC;;;;;;;;;;;;kEAKjJ,6LAAC,GAAG;wDAAC,SAAS,EAAC,QAAQ,CAAC;gFACtB,6LAAC,GAAG;4DAAC,SAAS,EAAC,YAAY,CAAC;;8EAC1B,6LAAC,GAAG;oEAAC,SAAS,EAAC,2DAA2D,CAAC;;sFACzE,6LAAC,IAAI;4EAAC,SAAS,EAAC,MAAM,CAAC;sFAACL,OAAO,EAAEpI,IAAI,iBAAG,6LAAC,GAAG;gFAAC,GAAG,CAAC,CAACoI,OAAO,CAACpI,IAAI,CAAC;gFAAC,GAAG,CAAC,CAACoI,OAAO,CAACvI,IAAI,CAAC;gFAAC,SAAS,EAAC,mCAAmC,GAAG;;;;;uFAAG,IAAI,CAAC,EAAE,IAAI,CAAC;;;;;;sFAClJ,6LAAC,IAAI;4EAAC,SAAS,EAAC,aAAa,CAAC;sFAACuI,OAAO,EAAErI,WAAW,IAAI,GAAG,CAAC,EAAE,IAAI,CAAC;;;;;;;;;;;;8EAEpE,6LAAC,KAAK;oEACJ,KAAK,CAAC,CAAC4I,KAAK,CAAC;oEACb,QAAQ,CAAC,EAAE/G,GAAC,GAAKgH,QAAQ,CAAChH,GAAC,CAACG,MAAM,CAACO,KAAK,CAAC,CAAC;oEAC1C,WAAW,CAAC,CAAC8F,OAAO,GAAG,GAAGA,OAAO,CAACrI,WAAW,CAAA,YAAA,CAAc,GAAG,aAAa,CAAC;oEAC5E,SAAS,EAAC,uFAAuF,GACjG;;;;;;;;;;;;;;;;;;;;;;;0DAKR,6LAAC,GAAG;gDAAC,SAAS,EAAC,YAAY,CAAC;;kEAC1B,6LAAC,MAAM;wDAAC,IAAI,EAAC,QAAQ;wDAAC,QAAQ,CAAC,CAACmK,OAAO,CAAC;wDAAC,SAAS,EAAC,mDAAmD,CAAC;kEACpGA,OAAO,GAAG,YAAY,GAAG,UAAU,CAAC;;;;;;kEAEvC,6LAAC,MAAM;wDAAC,IAAI,EAAC,QAAQ;wDAAC,OAAO,CAAC,CAAC,IAAMxC,OAAO,CAAC,aAAa,CAAC,CAAC;wDAAC,SAAS,EAAC,0BAA0B;kEAAC;;;;;;;;;;;;0DAKpG,6LAAC,CAAC;gDAAC,SAAS,EAAC,wBAAwB;0DAAC,6BAA6B,EAAE,CAAC,CAAC;;;;;;;;;;;;oCAK1ED,IAAI,KAAK,aAAa,kBACrB,6LAAC,IAAI;wCAAC,QAAQ,CAAC,CAAC6I,oBAAoB,CAAC;wCAAC,SAAS,EAAC,WAAW;wCAAC,UAAU,CAAC;;0DACrE,6LAAC,CAAC;gDAAC,SAAS,EAAC,wBAAwB;;oDAAC;kEAA2B,6LAAC,MAAM,CAAC;;4DAAClI,OAAO,EAAErI,WAAW,IAAI,EAAE;4DAAC,CAAC;4DAAC4I,KAAK,CAAC,EAAE,MAAM,CAAC,EAAE,CAAC,CAAC;;;;;;;;;;;;;0DAE1H,6LAAC,KAAK;gDAAC,SAAS,EAAC,0CAA0C;0DAAC,QAAQ,EAAE,KAAK,CAAC;;;;;;0DAC5E,6LAAC,GAAG;gDAAC,SAAS,EAAC,YAAY,CAAC;0DACzBE,QAAQ,CAACrC,GAAG,CAAC,CAACmL,OAAK,EAAE1C,GAAC,iBACrB,6LAAC,KAAK,CACJ,GAAG,CAAC;wDACJ,EAAE,CAAC,CAAC,CAAA,UAAA,EAAaA,GAAC,EAAE,CAAC;wDACrB,QAAQ,IAAC,OAAO;wDAChB,SAAS,EAAC,SAAS;wDACnB,OAAO,EAAC,QAAQ;wDAChB,SAAS,CAAC,CAAC,CAAC,CAAC;wDACb,KAAK,CAAC,CAAC0C,OAAK,CAAC;wDACb,OAAO,CAAC,CAAE/P,IAAC,IAAK4M,cAAc,CAAC5M,IAAC,EAAEiH,QAAQ,EAAEC,WAAW,CAAC,CAAC;wDACzD,SAAS,CAAC,EAAElH,IAAC,GAAK6L,cAAc,CAAC7L,IAAC,EAAEqN,GAAC,EAAEpG,QAAQ,EAAEC,WAAW,CAAC,CAAC;wDAC9D,QAAQ,CAAC,CAAC,KAAO,CAAD,AAAE,CAAC;wDACnB,UAAU,CAAC,GAAC,CAAA,iBAAA,EAAoBmG,GAAC,GAAG,CAAC,EAAE,CAAC;wDACxC,SAAS,EAAC,kGAAkG,GAE/G,CAAC,CAAC;uDAbMA,GAAC,CAAC;;;;;;;;;;0DAgBb,6LAAC,GAAG;gDAAC,SAAS,EAAC,YAAY,CAAC;;kEAC1B,6LAAC,MAAM;wDAAC,IAAI,EAAC,QAAQ;wDAAC,QAAQ,CAAC,CAAC/E,OAAO,CAAC;wDAAC,SAAS,EAAC,mDAAmD,CAAC;kEACpGA,OAAO,GAAG,cAAc,GAAG,QAAQ,CAAC;;;;;;kEAEvC,6LAAC,MAAM;wDAAC,IAAI,EAAC,QAAQ;wDAAC,OAAO,CAAC,CAAC,IAAMxC,OAAO,CAAC,OAAO,CAAC,CAAC;wDAAC,SAAS,EAAC,0BAA0B;kEAAC;;;;;;;;;;;;0DAK9F,6LAAC,GAAG;gDAAC,SAAS,EAAC,0DAA0D,CAAC;;kEACxE,6LAAC,GAAG,CAAC;kEACFwF,eAAe,CAACzC,sBAAsB,CAAC,iBACtC,6LAAC,IAAI;;gEAAC,UAAU;gEAACyC,eAAe,CAACzC,sBAAsB,CAAC,CAAC,EAAE,IAAI,CAAC;;;;;;iFAEhE,6LAAC,MAAM;4DAAC,IAAI,EAAC,QAAQ;4DAAC,OAAO,CAAC,CAAC0G,iBAAiB,CAAC;4DAAC,SAAS,EAAC,2BAA2B;sEAAC;;;;;;;;;;;kEAK5F,6LAAC,GAAG;kEAAC,yCAAyC,EAAE,GAAG,CAAC;;;;;;;;;;;;;;;;;;oCAMzD1J,IAAI,KAAK,KAAK,kBACb,6LAAC,IAAI;wCAAC,QAAQ,CAAC,CAACmJ,cAAc,CAAC;wCAAC,SAAS,EAAC,WAAW;wCAAC,UAAU,CAAC;;0DAC/D,6LAAC,KAAK;gDAAC,SAAS,EAAC,0CAA0C;0DAAC,iBAAiB,EAAE,KAAK,CAAC;;;;;;0DACrF,6LAAC,KAAK;gDAAC,KAAK,CAAC,CAAC3H,OAAO,CAAC;gDAAC,WAAW,EAAC,gBAAgB;gDAAC,QAAQ,CAAC,EAAErH,IAAC,GAAKsH,UAAU,CAACtH,IAAC,CAACG,MAAM,CAACO,KAAK,CAAC,CAAC;gDAAC,SAAS,EAAC,uFAAuF,GAAG;;;;;;0DAErM,6LAAC,KAAK;gDAAC,SAAS,EAAC,0CAA0C;0DAAC,SAAS,EAAE,KAAK,CAAC;;;;;;0DAC7E,6LAAC,KAAK;gDAAC,KAAK,CAAC,CAACzC,IAAI,CAAC;gDAAC,QAAQ,CAAC,EAAE+B,IAAC,GAAK2H,OAAO,CAAC3H,IAAC,CAACG,MAAM,CAACO,KAAK,CAAC,CAAC;gDAAC,SAAS,EAAC,0EAA0E,GAAG;;;;;;0DAGrJ,6LAAC,KAAK;gDAAC,SAAS,EAAC,2CAA2C;0DAAC,QAAQ,EAAE,KAAK,CAAC;;;;;;0DAC7E,6LAAC,GAAG;gDAAC,SAAS,EAAC,UAAU,CAAC;;kEACxB,6LAAC,KAAK;wDACJ,IAAI,CAAC,CAACkH,YAAY,GAAG,MAAM,GAAG,UAAU,CAAC;wDACzC,KAAK,CAAC,CAACL,QAAQ,CAAC;wDAChB,QAAQ,CAAC,EAAEvH,IAAC,IAAK;4DACfiI,kBAAkB,CAAC,IAAI,CAAC;4DACxBT,WAAW,CAACxH,IAAC,CAACG,MAAM,CAACO,KAAK,CAAC;wDAC7B,CAAC,CAAC;wDACF,MAAM,CAAC,CAAC,IAAMuH,kBAAkB,CAAC,IAAI,CAAC,CAAC;wDACvC,WAAW,EAAC,0BAA0B;wDACtC,SAAS,CAAC,CAAC,CAAA,2FAAA,CAA6F,CAAC;wDACzG,eAAa,GACb;;;;;;kEACF,6LAAC,MAAM;wDACL,IAAI,EAAC,QAAQ;wDACb,OAAO,CAAC,CAAC,IAAMJ,eAAe,CAAEvC,CAAC,IAAK,CAACA,CAAC,CAAC,CAAC;wDAC1C,UAAU,CAAC,GAACsC,YAAY,GAAG,eAAe,GAAG,eAAe,CAAC;wDAC7D,SAAS,EAAC,0EAA0E,CACrF;kEACEA,YAAY,iBACX,6LAAC,GAAG;4DAAC,KAAK,EAAC,4BAA4B;4DAAC,SAAS,EAAC,wBAAwB;4DAAC,OAAO,EAAC,WAAW;4DAAC,IAAI,EAAC,MAAM;4DAAC,MAAM,EAAC,cAAc,CAAC;oFAC/H,6LAAC,IAAI;gEAAC,WAAW,EAAC,KAAK;gEAAC,aAAa,EAAC,OAAO;gEAAC,cAAc,EAAC,OAAO;gEAAC,CAAC,EAAC,qGAAqG,GAAG;;;;;;;;;;iFAGjL,6LAAC,GAAG;4DAAC,KAAK,EAAC,4BAA4B;4DAAC,SAAS,EAAC,wBAAwB;4DAAC,OAAO,EAAC,WAAW;4DAAC,IAAI,EAAC,MAAM;4DAAC,MAAM,EAAC,cAAc,CAAC;;8EAC/H,6LAAC,IAAI;oEAAC,WAAW,EAAC,KAAK;oEAAC,aAAa,EAAC,OAAO;oEAAC,cAAc,EAAC,OAAO;oEAAC,CAAC,EAAC,4DAA4D,GAAG;;;;;;8EACtI,6LAAC,MAAM;oEAAC,EAAE,EAAC,IAAI;oEAAC,EAAE,EAAC,IAAI;oEAAC,CAAC,EAAC,GAAG;oEAAC,WAAW,EAAC,KAAK,GAAG;;;;;;;;;;;;;;;;;;;;;;;0DAO1D,6LAAC,KAAK;gDAAC,SAAS,EAAC,0CAA0C;0DAAC,eAAe,EAAE,KAAK,CAAC;;;;;;0DACnF,6LAAC,GAAG;gDAAC,SAAS,EAAC,UAAU,CAAC;;kEACxB,6LAAC,KAAK;wDACJ,IAAI,CAAC,CAACE,mBAAmB,GAAG,MAAM,GAAG,UAAU,CAAC;wDAChD,KAAK,CAAC,CAACL,eAAe,CAAC;wDACvB,QAAQ,CAAC,EAAEzH,IAAC,GAAK0H,kBAAkB,CAAC1H,IAAC,CAACG,MAAM,CAACO,KAAK,CAAC,CAAC;wDACpD,MAAM,CAAC,CAAC,IAAMuH,kBAAkB,CAAC,IAAI,CAAC,CAAC;wDACvC,WAAW,EAAC,iBAAiB;wDAC7B,SAAS,CAAC,CAAC,CAAA,4FAAA,EAA+FD,eAAe,IAAI,CAACI,cAAc,GAAG,gBAAgB,GAAG,EAAE,EAAE,CAAC;wDACvK,eAAa,GACb;;;;;;kEACF,6LAAC,MAAM;wDACL,IAAI,EAAC,QAAQ;wDACb,OAAO,CAAC,CAAC,IAAML,sBAAsB,CAAEzC,GAAC,IAAK,CAACA,GAAC,CAAC,CAAC;wDACjD,UAAU,CAAC,GAACwC,mBAAmB,GAAG,eAAe,GAAG,eAAe,CAAC;wDACpE,SAAS,EAAC,0EAA0E,CACrF;kEACEA,mBAAmB,iBAClB,6LAAC,GAAG;4DAAC,KAAK,EAAC,4BAA4B;4DAAC,SAAS,EAAC,wBAAwB;4DAAC,OAAO,EAAC,WAAW;4DAAC,IAAI,EAAC,MAAM;4DAAC,MAAM,EAAC,cAAc,CAAC;oFAC/H,6LAAC,IAAI;gEAAC,WAAW,EAAC,KAAK;gEAAC,aAAa,EAAC,OAAO;gEAAC,cAAc,EAAC,OAAO;gEAAC,CAAC,EAAC,qGAAqG,GAAG;;;;;;;;;;iFAGjL,6LAAC,GAAG;4DAAC,KAAK,EAAC,4BAA4B;4DAAC,SAAS,EAAC,wBAAwB;4DAAC,OAAO,EAAC,WAAW;4DAAC,IAAI,EAAC,MAAM;4DAAC,MAAM,EAAC,cAAc,CAAC;;8EAC/H,6LAAC,IAAI;oEAAC,WAAW,EAAC,KAAK;oEAAC,aAAa,EAAC,OAAO;oEAAC,cAAc,EAAC,OAAO;oEAAC,CAAC,EAAC,4DAA4D,GAAG;;;;;;8EACtI,6LAAC,MAAM;oEAAC,EAAE,EAAC,IAAI;oEAAC,EAAE,EAAC,IAAI;oEAAC,CAAC,EAAC,GAAG;oEAAC,WAAW,EAAC,KAAK,GAAG;;;;;;;;;;;;;;;;;;;;;;;0DAO1D,6LAAC,GAAG;gDAAC,SAAS,EAAC,6BAA6B,CAAC;;kEAC3C,6LAAC,GAAG;wDAAC,SAAS,EAAC,MAAM;kEAAC,sBAAsB,EAAE,GAAG,CAAC;;;;;;kEAClD,6LAAC,EAAE;wDAAC,SAAS,EAAC,uCAAuC,CAAC;kEACnD;4DACC;gEAAEnK,EAAE,EAAE4J,QAAQ,CAACxE,MAAM,IAAI,CAAC;gEAAEiN,KAAK,EAAE;4DAAgB,CAAC;4DACpD;gEAAErS,EAAE,EAAE,OAAO,CAAC6O,IAAI,CAACjF,QAAQ,CAAC;gEAAEyI,KAAK,EAAE;4DAAmB,CAAC;4DACzD;gEAAErS,EAAE,EAAE,OAAO,CAAC6O,IAAI,CAACjF,QAAQ,CAAC;gEAAEyI,KAAK,EAAE;4DAAmB,CAAC;4DACzD;gEAAErS,EAAE,EAAE,OAAO,CAAC6O,IAAI,CAACjF,QAAQ,CAAC;gEAAEyI,KAAK,EAAE;4DAAS,CAAC;4DAC/C;gEAAErS,EAAE,EAAE,SAAS,CAAC6O,IAAI,CAACjF,QAAQ,CAAC;gEAAEyI,KAAK,EAAE;4DAAS,CAAC;yDAClD,CAACpL,GAAG,EAAEqL,CAAC,iBACN,6LAAC,EAAE,CAAC,GAAG,CAAC;gEAAU,SAAS,EAAC,qCAAqC,CAAC;;oEAC/DA,CAAC,CAACtS,EAAE,iBACH,6LAAC,GAAG;wEAAC,KAAK,EAAC,4BAA4B;wEAAC,SAAS,EAAC,0BAA0B;wEAAC,OAAO,EAAC,WAAW;wEAAC,IAAI,EAAC,cAAc,CAAC;gGACnH,6LAAC,IAAI;4EAAC,QAAQ,EAAC,SAAS;4EAAC,CAAC,EAAC,uGAAuG;4EAAC,QAAQ,EAAC,SAAS,GAAG;;;;;;;;;;6FAG1J,6LAAC,GAAG;wEAAC,KAAK,EAAC,4BAA4B;wEAAC,SAAS,EAAC,wBAAwB;wEAAC,OAAO,EAAC,WAAW;wEAAC,IAAI,EAAC,cAAc,CAAC;gGACjH,6LAAC,IAAI;4EAAC,CAAC,EAAC,gMAAgM,GAAG;;;;;;;;;;;kFAG/M,6LAAC,IAAI;wEAAC,SAAS,CAAC,CAAC,GAAGsS,CAAC,CAACtS,EAAE,GAAG,gBAAgB,GAAG,gBAAgB,EAAE,CAAC,CAAC;kFAACsS,CAAC,CAACD,KAAK,CAAC,EAAE,IAAI,CAAC;;;;;;;+DAV3EC,CAAC,CAACD,KAAK,CAAC;;;;;;;;;;oDAcpB,CAAC5H,cAAc,IAAIX,eAAe,CAAC1E,MAAM,GAAG,CAAC,kBAC5C,6LAAC,GAAG;wDAAC,SAAS,EAAC,2BAA2B;kEAAC,uBAAuB,EAAE,GAAG,CACxE,CAAC;;;;;;;;;;;;0DAGJ,6LAAC,GAAG;gDAAC,SAAS,EAAC,iBAAiB,CAAC;;kEAC/B,6LAAC,MAAM;wDACL,QAAQ,CAAC,CAACuF,OAAO,CAAC;wDAClB,SAAS,CAAC,CAAC,CAAA,yDAAA,EAA4DA,OAAO,GAAG,YAAY,GAAG,qBAAqB,EAAE,CAAC;wDACxH,IAAI,EAAC,QAAQ,CACd;kEACEA,OAAO,GAAG,aAAa,GAAG,qBAAqB,CAAC;;;;;;kEAEnD,6LAAC,MAAM;wDAAC,IAAI,EAAC,QAAQ;wDAAC,OAAO,CAAC,CAAC,IAAMxC,OAAO,CAAC,OAAO,CAAC,CAAC;wDAAC,SAAS,EAAC,0BAA0B;kEAAC;;;;;;;;;;;;;;;;;;oCAQjGD,IAAI,KAAK,MAAM,kBACd,6LAAC,GAAG;wCAAC,SAAS,EAAC,kBAAkB,CAAC;;0DAChC,6LAAC,EAAE;gDAAC,SAAS,EAAC,wCAAwC;0DAAC,OAAO,EAAE,EAAE,CAAC;;;;;;0DACnE,6LAAC,CAAC;gDAAC,SAAS,EAAC,6BAA6B,CAAC;0DAAC4C,OAAO,IAAI,qCAAqC,CAAC,EAAE,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8BAQ3G,6LAAC,GAAG;oBAAC,SAAS,EAAC,2EAA2E,CAAC;;sCACzF,6LAAC,GAAG;4BAAC,GAAG,EAAC,kBAAkB;4BAAC,GAAG,EAAC,aAAa;4BAAC,SAAS,EAAC,0CAA0C,GAAG;;;;;;sCACrG,6LAAC,GAAG;4BAAC,SAAS,EAAC,qGAAqG,GAAG;;;;;;;;;;;;;;;;;;;;;;;AAQjI;;;QAvyBiBhL,kJAAS,CAAC,CAAC;;;MADJ+H,UAAUA,CAAA,CAAE,EAAEC,GAAG,CAACC,OAAO,CAAC","ignoreList":[],"debugId":null}}]
}