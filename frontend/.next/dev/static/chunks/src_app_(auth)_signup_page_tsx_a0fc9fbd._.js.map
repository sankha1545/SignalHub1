{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["E:/Attack Capital/SignalHub/frontend/src/app/(auth)/signup/page.tsx"],"sourcesContent":["// File: app/(auth)/signup/page.tsx\r\n\"use client\";\r\n\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\n/* ---------- types ---------- */\r\ntype ApiResp = { ok?: boolean; tempToken?: string; sessionToken?: string; activated?: boolean; error?: string; reason?: string; [k: string]: any };\r\ntype Country = { name: string; cca2: string; callingCode: string; flag?: string };\r\n\r\n/* ---------- helpers ---------- */\r\nasync function postJSON(url: string, body: any): Promise<ApiResp> {\r\n  try {\r\n    const res = await fetch(url, {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(body),\r\n      credentials: \"include\",\r\n    });\r\n    try {\r\n      return await res.json();\r\n    } catch {\r\n      return { ok: res.ok, error: res.statusText || \"Unexpected response\" };\r\n    }\r\n  } catch (err: any) {\r\n    return { error: err?.message || String(err) };\r\n  }\r\n}\r\n\r\n/* ---------- CountryDropdown component ---------- */\r\nfunction useOnClickOutside(ref: React.RefObject<HTMLElement>, handler: () => void) {\r\n  useEffect(() => {\r\n    function listener(e: MouseEvent | TouchEvent) {\r\n      if (!ref.current || ref.current.contains(e.target as Node)) return;\r\n      handler();\r\n    }\r\n    document.addEventListener(\"mousedown\", listener);\r\n    document.addEventListener(\"touchstart\", listener);\r\n    return () => {\r\n      document.removeEventListener(\"mousedown\", listener);\r\n      document.removeEventListener(\"touchstart\", listener);\r\n    };\r\n  }, [ref, handler]);\r\n}\r\n\r\nfunction CountryDropdown({\r\n  countries,\r\n  value,\r\n  onChange,\r\n  disabled,\r\n  placeholder = \"Select country\",\r\n}: {\r\n  countries: Country[] | null;\r\n  value: Country | null;\r\n  onChange: (c: Country | null) => void;\r\n  disabled?: boolean;\r\n  placeholder?: string;\r\n}) {\r\n  const [open, setOpen] = useState(false);\r\n  const [query, setQuery] = useState(\"\");\r\n  const [highlight, setHighlight] = useState(0);\r\n  const rootRef = useRef<HTMLDivElement | null>(null);\r\n  const searchRef = useRef<HTMLInputElement | null>(null);\r\n  const listRef = useRef<HTMLUListElement | null>(null);\r\n\r\n  useOnClickOutside(rootRef, () => setOpen(false));\r\n\r\n  useEffect(() => {\r\n    setHighlight(0);\r\n  }, [query, open]);\r\n\r\n  const items = (countries || []).filter((c) => {\r\n    if (!query) return true;\r\n    const q = query.toLowerCase();\r\n    return c.name.toLowerCase().includes(q) || (c.callingCode || \"\").includes(q) || (c.cca2 || \"\").toLowerCase().includes(q);\r\n  });\r\n\r\n  function handleKeyDown(e: React.KeyboardEvent) {\r\n    if (!open && (e.key === \"ArrowDown\" || e.key === \"Enter\")) {\r\n      e.preventDefault();\r\n      setOpen(true);\r\n      setTimeout(() => searchRef.current?.focus(), 10);\r\n      return;\r\n    }\r\n    if (!open) return;\r\n\r\n    if (e.key === \"ArrowDown\") {\r\n      e.preventDefault();\r\n      setHighlight((h) => Math.min(h + 1, Math.max(0, items.length - 1)));\r\n      const nextIdx = Math.min(highlight + 1, items.length - 1);\r\n      listRef.current?.querySelectorAll(\"li\")[nextIdx]?.scrollIntoView({ block: \"nearest\" });\r\n    } else if (e.key === \"ArrowUp\") {\r\n      e.preventDefault();\r\n      setHighlight((h) => Math.max(h - 1, 0));\r\n      const prevIdx = Math.max(highlight - 1, 0);\r\n      listRef.current?.querySelectorAll(\"li\")[prevIdx]?.scrollIntoView({ block: \"nearest\" });\r\n    } else if (e.key === \"Enter\") {\r\n      e.preventDefault();\r\n      const pick = items[Math.min(highlight, items.length - 1)];\r\n      if (pick) {\r\n        onChange(pick);\r\n        setOpen(false);\r\n      }\r\n    } else if (e.key === \"Escape\") {\r\n      e.preventDefault();\r\n      setOpen(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"relative w-full\" ref={rootRef}>\r\n      <button\r\n        type=\"button\"\r\n        aria-haspopup=\"listbox\"\r\n        aria-expanded={open}\r\n        onClick={() => {\r\n          if (disabled) return;\r\n          setOpen((v) => !v);\r\n          setTimeout(() => searchRef.current?.focus(), 10);\r\n        }}\r\n        onKeyDown={handleKeyDown}\r\n        className={`w-full text-left px-3 py-2 rounded border flex items-center gap-3 bg-white ${disabled ? \"opacity-60 pointer-events-none\" : \"hover:shadow-sm\"} transition`}\r\n      >\r\n        <div className=\"flex items-center gap-3 min-w-0\">\r\n          {value?.flag ? (\r\n            <img src={value.flag} alt={`${value.name} flag`} className=\"w-6 h-4 object-cover rounded-sm shadow-sm flex-shrink-0\" />\r\n          ) : (\r\n            <div className=\"w-6 h-4 bg-slate-100 rounded-sm flex-shrink-0\" />\r\n          )}\r\n          <div className=\"truncate\">\r\n            <div className=\"font-medium text-sm truncate\">{value ? value.name : <span className=\"text-slate-400\">{placeholder}</span>}</div>\r\n            <div className=\"text-xs text-slate-500 truncate\">{value ? value.callingCode : \"Select country code\"}</div>\r\n          </div>\r\n        </div>\r\n        <div className=\"ml-auto text-slate-400 text-sm\">\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" className={`h-5 w-5 transition-transform ${open ? \"rotate-180\" : \"\"}`} viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n            <path fillRule=\"evenodd\" d=\"M5.23 7.21a.75.75 0 011.06.02L10 11.584l3.71-4.355a.75.75 0 011.14.976l-4.25 5a.75.75 0 01-1.14 0l-4.25-5a.75.75 0 01.02-1.06z\" clipRule=\"evenodd\" />\r\n          </svg>\r\n        </div>\r\n      </button>\r\n\r\n      {/* Dropdown panel */}\r\n      <div\r\n        className={`absolute z-50 mt-2 w-full bg-white rounded-lg shadow-lg border overflow-hidden transform transition-all duration-150 ${open ? \"opacity-100 scale-100\" : \"opacity-0 pointer-events-none scale-95\"}`}\r\n        role=\"dialog\"\r\n        aria-modal=\"false\"\r\n      >\r\n        <div className=\"p-2\">\r\n          <input\r\n            ref={searchRef}\r\n            value={query}\r\n            onChange={(e) => setQuery(e.target.value)}\r\n            placeholder=\"Search country name, code, or dial (+91)\"\r\n            onKeyDown={handleKeyDown}\r\n            className=\"w-full px-3 py-2 rounded border focus:ring-2 focus:ring-indigo-300 outline-none text-sm\"\r\n            aria-label=\"Search country\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"max-h-56 overflow-auto\">\r\n          <ul role=\"listbox\" ref={listRef} aria-label=\"Country options\" className=\"divide-y\">\r\n            {items.length === 0 ? (\r\n              <li className=\"px-4 py-3 text-sm text-slate-500\">No matches</li>\r\n            ) : (\r\n              items.map((c, idx) => {\r\n                const isActive = idx === highlight;\r\n                return (\r\n                  <li\r\n                    key={`${c.callingCode}-${c.cca2}-${c.name}`}\r\n                    role=\"option\"\r\n                    aria-selected={value?.callingCode === c.callingCode && value?.cca2 === c.cca2}\r\n                    onMouseEnter={() => setHighlight(idx)}\r\n                    onClick={() => {\r\n                      onChange(c);\r\n                      setOpen(false);\r\n                    }}\r\n                    className={`px-3 py-2 flex items-center gap-3 cursor-pointer hover:bg-slate-50 ${isActive ? \"bg-indigo-50\" : \"\"}`}\r\n                  >\r\n                    {c.flag ? <img src={c.flag} alt={`${c.name} flag`} className=\"w-6 h-4 object-cover rounded-sm shadow-sm flex-shrink-0\" /> : <div className=\"w-6 h-4 bg-slate-100 rounded-sm flex-shrink-0\" />}\r\n                    <div className=\"flex-1 min-w-0\">\r\n                      <div className=\"text-sm font-medium truncate\">{c.name}</div>\r\n                      <div className=\"text-xs text-slate-500 truncate\">{c.callingCode} • {c.cca2}</div>\r\n                    </div>\r\n                    <div className=\"text-sm text-slate-600\">{value?.callingCode === c.callingCode && value?.cca2 === c.cca2 ? \"Selected\" : \"\"}</div>\r\n                  </li>\r\n                );\r\n              })\r\n            )}\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n/* ---------- Signup page component ---------- */\r\nexport default function SignupPage(): JSX.Element {\r\n  const router = useRouter();\r\n\r\n  // Mode / flow\r\n  type Mode = \"choose\" | \"email\" | \"verifyEmail\" | \"phone\" | \"verifyPhone\" | \"org\" | \"done\";\r\n  const [mode, setMode] = useState<Mode>(\"choose\");\r\n\r\n  // Fields\r\n  const [email, setEmail] = useState(\"\");\r\n  const [emailOtp, setEmailOtp] = useState(Array(6).fill(\"\"));\r\n  const [emailCode, setEmailCode] = useState(\"\");\r\n  const [tempToken, setTempToken] = useState<string | null>(null);\r\n\r\n  const [country, setCountry] = useState<Country | null>(null);\r\n  const [countries, setCountries] = useState<Country[] | null>(null);\r\n  const [countryLoading, setCountryLoading] = useState(true);\r\n  const [countryError, setCountryError] = useState<string | null>(null);\r\n\r\n  const [phone, setPhone] = useState(\"\");\r\n  const [phoneOtp, setPhoneOtp] = useState(Array(6).fill(\"\"));\r\n  const [phoneCode, setPhoneCode] = useState(\"\");\r\n\r\n  const [orgName, setOrgName] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\r\n  const [name, setName] = useState(\"\");\r\n\r\n  // password visibility toggles\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\r\n\r\n  // password validation UI\r\n  const [passwordTouched, setPasswordTouched] = useState(false);\r\n  const [passwordErrors, setPasswordErrors] = useState<string[]>([]);\r\n  const [passwordsMatch, setPasswordsMatch] = useState(true);\r\n\r\n  // UI\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [success, setSuccess] = useState<string | null>(null);\r\n\r\n  // Resend timers\r\n  const [emailResendAvailableAt, setEmailResendAvailableAt] = useState<number | null>(null);\r\n  const [phoneResendAvailableAt, setPhoneResendAvailableAt] = useState<number | null>(null);\r\nconst [now, setNow] = useState<number>(0); // stable on server\r\nuseEffect(() => {\r\n  setNow(Date.now()); // now real client time\r\n  const id = window.setInterval(() => setNow(Date.now()), 1000);\r\n  return () => window.clearInterval(id);\r\n}, []);\r\n\r\n\r\n  function modeToStep(m: Mode) {\r\n    switch (m) {\r\n      case \"choose\":\r\n        return 1;\r\n      case \"email\":\r\n      case \"verifyEmail\":\r\n        return 2;\r\n      case \"phone\":\r\n      case \"verifyPhone\":\r\n        return 3;\r\n      case \"org\":\r\n      case \"done\":\r\n        return 4;\r\n      default:\r\n        return 1;\r\n    }\r\n  }\r\n  const step = modeToStep(mode);\r\n\r\n  /* ---------- Country fetch (robust) ---------- */\r\n\r\n  const BUILT_IN_FALLBACK: Country[] = [\r\n    { name: \"India\", cca2: \"IN\", callingCode: \"+91\", flag: \"https://flagcdn.com/w40/in.png\" },\r\n    { name: \"United States\", cca2: \"US\", callingCode: \"+1\", flag: \"https://flagcdn.com/w40/us.png\" },\r\n    { name: \"United Kingdom\", cca2: \"GB\", callingCode: \"+44\", flag: \"https://flagcdn.com/w40/gb.png\" },\r\n    { name: \"Canada\", cca2: \"CA\", callingCode: \"+1\", flag: \"https://flagcdn.com/w40/ca.png\" },\r\n    { name: \"Australia\", cca2: \"AU\", callingCode: \"+61\", flag: \"https://flagcdn.com/w40/au.png\" },\r\n  ];\r\n\r\n  function normalizeCallingCode(raw: any): string {\r\n    try {\r\n      if (!raw) return \"\";\r\n      if (typeof raw === \"string\") {\r\n        const s = raw.trim();\r\n        if (!s) return \"\";\r\n        if (s.startsWith(\"+\")) return s;\r\n        const digits = s.replace(/[^\\d]/g, \"\");\r\n        return digits ? `+${digits}` : \"\";\r\n      }\r\n      if (Array.isArray(raw) && raw.length > 0) return normalizeCallingCode(raw[0]);\r\n      if (typeof raw === \"object\") {\r\n        if (raw.root) {\r\n          const root = String(raw.root || \"\").trim();\r\n          const suffix = Array.isArray(raw.suffixes) && raw.suffixes.length > 0 ? String(raw.suffixes[0]) : \"\";\r\n          const combined = `${root}${suffix}`;\r\n          return combined.startsWith(\"+\") ? combined : combined ? `+${combined.replace(/[^\\d+]/g, \"\")}` : \"\";\r\n        }\r\n        if (raw.callingCodes && Array.isArray(raw.callingCodes) && raw.callingCodes[0]) {\r\n          return normalizeCallingCode(raw.callingCodes[0]);\r\n        }\r\n      }\r\n      return \"\";\r\n    } catch {\r\n      return \"\";\r\n    }\r\n  }\r\n\r\n  function extractFlag(raw: any, cca2?: string) {\r\n    try {\r\n      if (!raw) return cca2 ? `https://flagcdn.com/w40/${cca2.toLowerCase()}.png` : undefined;\r\n      if (raw.flag) return raw.flag;\r\n      if (raw.flags) {\r\n        if (typeof raw.flags === \"string\") return raw.flags;\r\n        if (raw.flags.svg) return raw.flags.svg;\r\n        if (raw.flags.png) return raw.flags.png;\r\n      }\r\n      if (raw.emoji) return raw.emoji;\r\n    } catch {}\r\n    return cca2 ? `https://flagcdn.com/w40/${(cca2 || \"\").toLowerCase()}.png` : undefined;\r\n  }\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    (async function loadCountries() {\r\n      setCountryLoading(true);\r\n      setCountryError(null);\r\n\r\n      try {\r\n        const res = await fetch(\"/api/countries\", { cache: \"no-store\" }).catch(() => null);\r\n        let rawList: any[] | null = null;\r\n\r\n        if (res && res.ok) {\r\n          const text = await res.text().catch(() => \"\");\r\n          let json: any = null;\r\n          try {\r\n            json = text ? JSON.parse(text) : null;\r\n          } catch {\r\n            json = null;\r\n          }\r\n\r\n          if (Array.isArray(json)) rawList = json;\r\n          else if (json && Array.isArray(json.countries)) rawList = json.countries;\r\n          else if (json && Array.isArray(json.data)) rawList = json.data;\r\n        }\r\n\r\n        // fallback to /api/meta/countries if /api/countries yields nothing\r\n        if ((!rawList || rawList.length === 0)) {\r\n          try {\r\n            const mres = await fetch(\"/api/meta/countries\", { cache: \"no-store\" }).catch(() => null);\r\n            if (mres && mres.ok) {\r\n              const mjson = await mres.json().catch(() => null);\r\n              if (Array.isArray(mjson)) rawList = mjson;\r\n              else if (mjson && Array.isArray(mjson.countries)) rawList = mjson.countries;\r\n            }\r\n          } catch (e) {\r\n            // ignore\r\n          }\r\n        }\r\n\r\n        // Map to Country shape\r\n        let parsed: Country[] = [];\r\n        if (Array.isArray(rawList) && rawList.length > 0) {\r\n          parsed = rawList\r\n            .map((c: any) => {\r\n              const cca2 = (c.cca2 || c.code || c.CCA2 || \"\").toString().toUpperCase();\r\n              const name = (typeof c.name === \"string\" ? c.name : (c.name && (c.name.common || c.name.official)) || c.common || c.country || c.name) || \"\";\r\n              const callingCode = String(c.callingCode || c.dialCode || c.callCode || c.phoneCode || normalizeCallingCode(c.callingCodes) || normalizeCallingCode(c.idd) || \"\").trim() || \"\";\r\n              const callingCodeNormalized = callingCode ? (callingCode.startsWith(\"+\") ? callingCode : `+${callingCode.replace(/[^\\d]/g, \"\")}`) : \"\";\r\n              const flag = extractFlag(c, cca2);\r\n              return {\r\n                name: name || (cca2 || \"\"),\r\n                cca2: cca2 || (name ? name.slice(0, 2).toUpperCase() : \"\"),\r\n                callingCode: callingCodeNormalized,\r\n                flag,\r\n              } as Country;\r\n            })\r\n            .filter((c: Country) => c.name && (c.callingCode || c.cca2));\r\n\r\n          // dedupe\r\n          const seen = new Map<string, Country>();\r\n          for (const it of parsed) {\r\n            const key = (it.cca2 || it.callingCode || it.name).toUpperCase();\r\n            if (!seen.has(key)) seen.set(key, it);\r\n          }\r\n          parsed = Array.from(seen.values()).sort((a, b) => a.name.localeCompare(b.name));\r\n        }\r\n\r\n        // final fallback\r\n        if (!Array.isArray(parsed) || parsed.length === 0) {\r\n          parsed = BUILT_IN_FALLBACK;\r\n          setCountryError(\"Country list unavailable — using fallback. You can type your country manually.\");\r\n        } else {\r\n          setCountryError(null);\r\n        }\r\n\r\n        if (!mounted) return;\r\n        setCountries(parsed);\r\n\r\n        // pick default by locale -> +91 -> +1 -> first\r\n        const locale = (navigator.language || (navigator.languages && navigator.languages[0]) || \"\").toLowerCase();\r\n        const match = locale.match(/-([a-z]{2})$/i);\r\n        let defaultCountry: Country | null = null;\r\n        if (match) {\r\n          const cca = match[1].toUpperCase();\r\n          defaultCountry = parsed.find((c) => c.cca2 === cca) || null;\r\n        }\r\n        if (!defaultCountry) defaultCountry = parsed.find((c) => c.callingCode === \"+91\") || parsed.find((c) => c.callingCode === \"+1\") || parsed[0] || null;\r\n        if (mounted) setCountry(defaultCountry);\r\n      } catch (err: any) {\r\n        if (!mounted) return;\r\n        setCountries(BUILT_IN_FALLBACK);\r\n        setCountryError(String(err?.message || err) || \"Failed to load countries\");\r\n      } finally {\r\n        if (mounted) setCountryLoading(false);\r\n      }\r\n    })();\r\n\r\n    return () => {\r\n      // cleanup\r\n      // eslint-disable-next-line react-hooks/exhaustive-deps\r\n      (mounted = false);\r\n    };\r\n  }, []);\r\n\r\n  // When user selects a country, ensure the prefix shows up in UI and assist placeholder\r\n  useEffect(() => {\r\n    if (!country) return;\r\n    // If phone is empty, prefill placeholder hint by setting phone to empty (placeholder uses country in UI)\r\n    // We avoid modifying a non-empty phone typed by user.\r\n    // This effect merely ensures UI shows prefix; logic to send uses buildFullPhone.\r\n  }, [country]);\r\n\r\n  // helpers: countdown formatter\r\n  function formatCountdown(unixMs: number | null) {\r\n    if (!unixMs) return null;\r\n    const s = Math.max(0, Math.ceil((unixMs - now) / 1000));\r\n    if (s <= 0) return null;\r\n    return `${s}s`;\r\n  }\r\n  function setResendDeadline(setter: (v: number | null) => void, seconds = 30) {\r\n    setter(Date.now() + seconds * 1000);\r\n  }\r\n\r\n  // OTP utils\r\n  function handleOtpInput(e: React.KeyboardEvent<HTMLInputElement>, idx: number, otpArr: string[], setOtpArr: (a: string[]) => void) {\r\n    const target = e.target as HTMLInputElement;\r\n    const key = e.key;\r\n    if (key === \"Backspace\") {\r\n      e.preventDefault();\r\n      const next = [...otpArr];\r\n      if (next[idx]) {\r\n        next[idx] = \"\";\r\n        setOtpArr(next);\r\n      } else {\r\n        const prev = Math.max(0, idx - 1);\r\n        const prevInput = document.getElementById(`otp-${target.dataset.for}-${prev}`) as HTMLInputElement | null;\r\n        if (prevInput) {\r\n          prevInput.focus();\r\n          const n = [...otpArr];\r\n          n[prev] = \"\";\r\n          setOtpArr(n);\r\n        }\r\n      }\r\n    } else if (/^[0-9]$/.test(key)) {\r\n      e.preventDefault();\r\n      const next = [...otpArr];\r\n      next[idx] = key;\r\n      setOtpArr(next);\r\n      const nextIdx = Math.min(next.length - 1, idx + 1);\r\n      const nextInput = document.getElementById(`otp-${target.dataset.for}-${nextIdx}`) as HTMLInputElement | null;\r\n      if (nextInput) nextInput.focus();\r\n    } else if (key === \"ArrowLeft\") {\r\n      e.preventDefault();\r\n      const prev = Math.max(0, idx - 1);\r\n      const prevInput = document.getElementById(`otp-${target.dataset.for}-${prev}`) as HTMLInputElement | null;\r\n      prevInput?.focus();\r\n    } else if (key === \"ArrowRight\") {\r\n      e.preventDefault();\r\n      const nxt = Math.min(otpArr.length - 1, idx + 1);\r\n      const nextInput = document.getElementById(`otp-${target.dataset.for}-${nxt}`) as HTMLInputElement | null;\r\n      nextInput?.focus();\r\n    }\r\n  }\r\n\r\n  function handleOtpPaste(e: React.ClipboardEvent<HTMLInputElement>, otpArr: string[], setOtpArr: (a: string[]) => void) {\r\n    e.preventDefault();\r\n    const paste = e.clipboardData.getData(\"text\").trim();\r\n    const digits = paste.replace(/\\D/g, \"\").slice(0, otpArr.length).split(\"\");\r\n    if (digits.length === 0) return;\r\n    const next = [...otpArr];\r\n    for (let i = 0; i < digits.length; i++) next[i] = digits[i];\r\n    setOtpArr(next);\r\n    const firstEmpty = next.findIndex((c) => !c);\r\n    const focusIdx = firstEmpty === -1 ? next.length - 1 : firstEmpty;\r\n    const el = document.getElementById(`otp-${(e.target as HTMLInputElement).dataset.for}-${focusIdx}`) as HTMLInputElement | null;\r\n    el?.focus();\r\n  }\r\n\r\n  useEffect(() => setEmailCode(emailOtp.join(\"\")), [emailOtp]);\r\n  useEffect(() => setPhoneCode(phoneOtp.join(\"\")), [phoneOtp]);\r\n\r\n  // password validation\r\n  function validatePassword(pw: string): string[] {\r\n    const errs: string[] = [];\r\n    if (!pw || pw.length < 8) errs.push(\"Password must be at least 8 characters.\");\r\n    if (!/[A-Z]/.test(pw)) errs.push(\"Include at least one uppercase letter.\");\r\n    if (!/[a-z]/.test(pw)) errs.push(\"Include at least one lowercase letter.\");\r\n    if (!/[0-9]/.test(pw)) errs.push(\"Include at least one number.\");\r\n    if (!/[^A-Za-z0-9]/.test(pw)) errs.push(\"Include at least one symbol (e.g. !@#$%).\");\r\n    return errs;\r\n  }\r\n\r\n  useEffect(() => {\r\n    const errs = validatePassword(password);\r\n    setPasswordErrors(errs);\r\n    setPasswordsMatch(password === confirmPassword || confirmPassword.length === 0);\r\n  }, [password, confirmPassword]);\r\n\r\n  // API actions\r\n  async function handleSendEmailOtp(e?: React.FormEvent) {\r\n    e?.preventDefault();\r\n    setError(null);\r\n    if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email)) {\r\n      setError(\"Please enter a valid email address.\");\r\n      return;\r\n    }\r\n    setLoading(true);\r\n    try {\r\n      const data = await postJSON(\"/api/auth/email/send\", { email });\r\n      if (data?.ok) {\r\n        setMode(\"verifyEmail\");\r\n        setResendDeadline(setEmailResendAvailableAt, 45);\r\n        setEmailOtp(Array(6).fill(\"\"));\r\n        setTimeout(() => document.getElementById(\"otp-email-0\")?.focus(), 120);\r\n      } else setError(data?.error || \"Failed to send OTP. Try again.\");\r\n    } catch (err: any) {\r\n      setError(err?.message || String(err));\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  async function handleVerifyEmailOtp(e?: React.FormEvent) {\r\n    e?.preventDefault();\r\n    setError(null);\r\n    if (emailCode.length < 4) {\r\n      setError(\"Enter the full code received by email.\");\r\n      return;\r\n    }\r\n    setLoading(true);\r\n    try {\r\n      const data = await postJSON(\"/api/auth/email/verify\", { email, code: emailCode, flow: \"signup\" });\r\n      if (data?.ok) {\r\n        if (data.activated && data.sessionToken) {\r\n          setSuccess(\"Email verified — signing you in...\");\r\n          setTimeout(() => router.push(\"/account\"), 700);\r\n          return;\r\n        }\r\n        if (data.tempToken) {\r\n          setTempToken(data.tempToken);\r\n          setMode(\"phone\");\r\n          setResendDeadline(setPhoneResendAvailableAt, 45);\r\n          setPhoneOtp(Array(6).fill(\"\"));\r\n          setTimeout(() => document.getElementById(\"otp-phone-0\")?.focus(), 120);\r\n          return;\r\n        }\r\n        setMode(\"phone\");\r\n        setTempToken(data.tempToken ?? null);\r\n      } else {\r\n        setError(data?.error || data?.reason || \"Invalid or expired code.\");\r\n      }\r\n    } catch (err: any) {\r\n      setError(err?.message || String(err));\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  async function handleSendPhoneOtp(e?: React.FormEvent) {\r\n    e?.preventDefault();\r\n    setError(null);\r\n    const full = buildFullPhone(phone, country);\r\n    if (!full || !/^\\+?[0-9]{7,20}$/.test(full)) {\r\n      setError(\"Please enter a valid phone number including country code (or select country).\");\r\n      return;\r\n    }\r\n    setLoading(true);\r\n    try {\r\n      const data = await postJSON(\"/api/auth/phone/send\", { phone: full });\r\n      if (data?.ok) {\r\n        setMode(\"verifyPhone\");\r\n        setResendDeadline(setPhoneResendAvailableAt, 45);\r\n        setPhoneOtp(Array(6).fill(\"\"));\r\n        setTimeout(() => document.getElementById(\"otp-phone-0\")?.focus(), 120);\r\n      } else {\r\n        // If Twilio trial fallback returns ok but with flags, handle it\r\n        if (data?.twilioTrialUnverified || data?.devOtpLogged) {\r\n          // treat as ok for dev/test\r\n          setMode(\"verifyPhone\");\r\n          setResendDeadline(setPhoneResendAvailableAt, 45);\r\n          setPhoneOtp(Array(6).fill(\"\"));\r\n          setTimeout(() => document.getElementById(\"otp-phone-0\")?.focus(), 120);\r\n          return;\r\n        }\r\n        setError(data?.error || \"Failed to send SMS OTP.\");\r\n      }\r\n    } catch (err: any) {\r\n      setError(String(err));\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  async function handleVerifyPhoneOtp(e?: React.FormEvent) {\r\n    e?.preventDefault();\r\n    setError(null);\r\n    if (phoneCode.length < 4) {\r\n      setError(\"Enter the full SMS code you received.\");\r\n      return;\r\n    }\r\n    setLoading(true);\r\n    try {\r\n      const full = buildFullPhone(phone, country);\r\n      const res = await postJSON(\"/api/auth/phone/verify\", { phone: full, code: phoneCode, tempToken });\r\n      if (res?.ok) {\r\n        if (res.activated && res.sessionToken) {\r\n          setSuccess(\"Phone verified — signing you in...\");\r\n          setTimeout(() => router.push(\"/account\"), 700);\r\n          return;\r\n        }\r\n        if (res.tempToken) {\r\n          setTempToken(res.tempToken);\r\n          setMode(\"org\");\r\n          return;\r\n        }\r\n        setMode(\"org\");\r\n      } else {\r\n        setError(res?.reason || res?.error || \"Phone verification failed.\");\r\n      }\r\n    } catch (err: any) {\r\n      setError(String(err));\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  function buildFullPhone(typed: string | undefined, country?: { callingCode?: string }) {\r\n    if (!typed) return null;\r\n    const raw = typed.trim();\r\n    if (raw.startsWith(\"+\")) {\r\n      const digits = raw.replace(/[^\\d+]/g, \"\");\r\n      return digits;\r\n    }\r\n    const cc = country?.callingCode ?? \"\";\r\n    const onlyDigits = raw.replace(/\\D/g, \"\");\r\n    if (!cc && !onlyDigits) return null;\r\n    const normalizedCc = cc.startsWith(\"+\") ? cc : cc ? `+${cc.replace(/[^\\d]/g, \"\")}` : \"\";\r\n    return `${normalizedCc}${onlyDigits}`;\r\n  }\r\n\r\n  async function handleFinalize(e?: React.FormEvent) {\r\n    e?.preventDefault();\r\n    setError(null);\r\n\r\n    setPasswordTouched(true);\r\n    const errs = validatePassword(password);\r\n    if (errs.length > 0) {\r\n      setPasswordErrors(errs);\r\n      setError(\"Please fix the password requirements.\");\r\n      return;\r\n    }\r\n    if (password !== confirmPassword) {\r\n      setPasswordsMatch(false);\r\n      setError(\"Passwords do not match.\");\r\n      return;\r\n    }\r\n    if (!orgName?.trim()) {\r\n      setError(\"Organization name is required.\");\r\n      return;\r\n    }\r\n    if (!name?.trim()) {\r\n      setError(\"Your name is required.\");\r\n      return;\r\n    }\r\n\r\n    const normalizedPhone = buildFullPhone(phone, country);\r\n\r\n    const payload: Record<string, any> = {\r\n      tempToken,\r\n      organizationName: orgName.trim(),\r\n      password,\r\n      name: name.trim(),\r\n    };\r\n    if (email) payload.email = email;\r\n    if (normalizedPhone) payload.phone = normalizedPhone;\r\n    if (country) payload.country = { name: country.name, cca2: country.cca2, callingCode: country.callingCode };\r\n\r\n    setLoading(true);\r\n    try {\r\n      const res = await postJSON(\"/api/auth/signup/finalize\", payload);\r\n\r\n      if (res?.ok) {\r\n        setSuccess(\"Account created — signing you in...\");\r\n        setMode(\"done\");\r\n        setTimeout(() => router.push(\"/account\"), 700);\r\n        return;\r\n      }\r\n\r\n      if (res?.activated === false && res?.tempToken) {\r\n        setTempToken(res.tempToken);\r\n        setError(\"Account created but not yet activated. Please complete verification.\");\r\n        setMode(res.tempToken ? \"org\" : \"verifyEmail\");\r\n        return;\r\n      }\r\n\r\n      setError(res?.error || res?.reason || \"Failed to finalize signup.\");\r\n    } catch (err: any) {\r\n      setError(String(err) || \"Unexpected error\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  async function handleResendEmail() {\r\n    if (emailResendAvailableAt && emailResendAvailableAt > Date.now()) return;\r\n    setError(null);\r\n    setLoading(true);\r\n    try {\r\n      const data = await postJSON(\"/api/auth/email/send\", { email, resend: true });\r\n      if (data?.ok) setResendDeadline(setEmailResendAvailableAt, 45);\r\n      else setError(data?.error || \"Unable to resend OTP.\");\r\n    } catch (err: any) {\r\n      setError(String(err));\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  async function handleResendPhone() {\r\n    if (phoneResendAvailableAt && phoneResendAvailableAt > Date.now()) return;\r\n    setError(null);\r\n    setLoading(true);\r\n    try {\r\n      const full = buildFullPhone(phone, country);\r\n      const data = await postJSON(\"/api/auth/phone/send\", { phone: full, resend: true });\r\n      if (data?.ok) setResendDeadline(setPhoneResendAvailableAt, 45);\r\n      else setError(data?.error || \"Unable to resend SMS OTP.\");\r\n    } catch (err: any) {\r\n      setError(String(err));\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  // compute fill percent (0..100)\r\n  function computeFillPercent() {\r\n    const s = step;\r\n    if (s <= 1) return 0;\r\n    return Math.round(((s - 1) / 3) * 100);\r\n  }\r\n  const fillPercent = computeFillPercent();\r\n\r\n  /* ---------- UI (responsive & accessible) ---------- */\r\n  return (\r\n    <div className=\"min-h-screen w-full bg-gradient-to-b from-slate-50 to-white flex items-center justify-center p-4 sm:p-6\">\r\n      <div className=\"w-full max-w-7xl bg-white/95 rounded-3xl shadow-2xl overflow-hidden grid grid-cols-1 md:grid-cols-2 ring-1 ring-slate-100\">\r\n        {/* LEFT: form/card */}\r\n        <div className=\"p-6 sm:p-10 flex items-start\">\r\n          <div className=\"w-full max-w-md mx-auto\">\r\n            {/* header */}\r\n            <div className=\"flex items-center gap-4 mb-6\">\r\n              <div className=\"w-12 h-12 sm:w-14 sm:h-14 rounded-2xl bg-gradient-to-tr from-indigo-600 to-violet-500 flex items-center justify-center text-white font-extrabold shadow-xl\">U</div>\r\n              <div>\r\n                <h1 className=\"text-2xl sm:text-3xl font-extrabold text-slate-900\">Welcome to SignalHub</h1>\r\n                <p className=\"text-sm text-slate-500 mt-1\">Create an admin account and organization — secure by default.</p>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Progress */}\r\n            <div className=\"mb-5\">\r\n              <div className=\"relative\">\r\n                <div className=\"absolute left-4 right-4 top-6 h-0.5 bg-slate-100 rounded\" />\r\n                <div\r\n                  className=\"absolute left-4 top-6 h-0.5 bg-gradient-to-r from-indigo-600 to-emerald-400 rounded transition-all duration-500 ease-out\"\r\n                  style={{ width: `${fillPercent}%` }}\r\n                />\r\n                <div className=\"relative flex items-center justify-between px-2\">\r\n                  {[1, 2, 3, 4].map((n) => {\r\n                    const isActive = n === step;\r\n                    const isCompleted = n < step;\r\n                    return (\r\n                      <div key={n} className=\"flex-1 flex flex-col items-center text-center px-1\">\r\n                        <div\r\n                          className={`w-9 h-9 sm:w-11 sm:h-11 rounded-full flex items-center justify-center text-sm font-semibold transition ${\r\n                            isCompleted ? \"bg-indigo-600 text-white shadow-lg scale-105\" : isActive ? \"bg-indigo-600 text-white ring-4 ring-indigo-100 animate-pulse\" : \"bg-white border border-slate-200 text-slate-600\"\r\n                          }`}\r\n                        >\r\n                          {n}\r\n                        </div>\r\n                        <div className=\"text-[11px] text-slate-500 mt-2\">{[\"Choose\", \"Email\", \"Phone\", \"Org\"][n - 1]}</div>\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* status */}\r\n            <div role=\"status\" aria-live=\"polite\" className=\"min-h-[1.4rem] mb-4\">\r\n              {error && <div className=\"text-sm text-red-600\">{error}</div>}\r\n              {success && <div className=\"text-sm text-emerald-600\">{success}</div>}\r\n            </div>\r\n\r\n            {/* Forms */}\r\n            <div>\r\n              {/* CHOOSE */}\r\n              {mode === \"choose\" && (\r\n                <div className=\"space-y-4\">\r\n                  <button onClick={() => (window.location.href = \"/api/auth/oauth/google/start?flow=signup\")} className=\"w-full p-3 border rounded-lg flex items-center gap-3 justify-center hover:shadow-lg transition\">\r\n                    <img src=\"/google.png\" alt=\"Google\" className=\"w-6 h-6\" />\r\n                    <span className=\"text-sm font-medium text-slate-700\">Continue with Google</span>\r\n                  </button>\r\n\r\n                  <div className=\"text-center text-sm text-slate-400\">or</div>\r\n\r\n                  <button onClick={() => setMode(\"email\")} className=\"w-full p-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition shadow-md\">\r\n                    Sign up with Email\r\n                  </button>\r\n                  <div className=\"text-sm mt-2\">Already have an account? <a className=\"text-blue-700 underline\" href=\"/login\">Login</a></div>\r\n                </div>\r\n              )}\r\n\r\n              {/* EMAIL - send */}\r\n              {mode === \"email\" && (\r\n                <form onSubmit={handleSendEmailOtp} className=\"space-y-3\" noValidate>\r\n                  <label className=\"block text-sm font-medium text-slate-600\">Email</label>\r\n                  <input value={email} onChange={(e) => setEmail(e.target.value)} className=\"w-full p-3 border rounded focus:ring-2 focus:ring-indigo-300 focus:outline-none\" placeholder=\"you@example.com\" type=\"email\" />\r\n                  <div className=\"flex gap-3 flex-wrap\">\r\n                    <button type=\"submit\" disabled={loading} className=\"flex-1 px-4 py-2 bg-indigo-600 text-white rounded\">\r\n                      {loading ? \"Sending...\" : \"Send code\"}\r\n                    </button>\r\n                    <button type=\"button\" onClick={() => setMode(\"choose\")} className=\"px-4 py-2 border rounded\">\r\n                      Back\r\n                    </button>\r\n                  </div>\r\n                  <p className=\"text-xs text-slate-400\">A one-time code will be sent to verify your email.</p>\r\n                </form>\r\n              )}\r\n\r\n              {/* EMAIL - verify */}\r\n              {mode === \"verifyEmail\" && (\r\n                <form onSubmit={handleVerifyEmailOtp} className=\"space-y-3\" noValidate>\r\n                  <p className=\"text-sm text-slate-600\">Enter the code sent to <strong>{email}</strong></p>\r\n                  <label className=\"block text-sm font-medium text-slate-600\">Code</label>\r\n                  <div className=\"flex gap-2\">\r\n                    {emailOtp.map((digit, i) => (\r\n                      <input\r\n                        key={i}\r\n                        id={`otp-email-${i}`}\r\n                        data-for=\"email\"\r\n                        inputMode=\"numeric\"\r\n                        pattern=\"[0-9]*\"\r\n                        maxLength={1}\r\n                        value={digit}\r\n                        onPaste={(e) => handleOtpPaste(e, emailOtp, setEmailOtp)}\r\n                        onKeyDown={(e) => handleOtpInput(e, i, emailOtp, setEmailOtp)}\r\n                        onChange={() => {}}\r\n                        aria-label={`Email code digit ${i + 1}`}\r\n                        className=\"w-12 h-12 text-center text-lg rounded border border-slate-200 focus:ring-2 focus:ring-indigo-300\"\r\n                      />\r\n                    ))}\r\n                  </div>\r\n\r\n                  <div className=\"flex gap-3\">\r\n                    <button type=\"submit\" disabled={loading} className=\"flex-1 px-4 py-2 bg-indigo-600 text-white rounded\">\r\n                      {loading ? \"Verifying...\" : \"Verify\"}\r\n                    </button>\r\n                    <button type=\"button\" onClick={() => setMode(\"email\")} className=\"px-4 py-2 border rounded\">\r\n                      Back\r\n                    </button>\r\n                  </div>\r\n\r\n                  <div className=\"flex items-center justify-between text-xs text-slate-500\">\r\n                    <div>\r\n                      {formatCountdown(emailResendAvailableAt) ? (\r\n                        <span>Resend in {formatCountdown(emailResendAvailableAt)}</span>\r\n                      ) : (\r\n                        <button type=\"button\" onClick={handleResendEmail} className=\"underline text-indigo-600\">\r\n                          Resend code\r\n                        </button>\r\n                      )}\r\n                    </div>\r\n                    <div className=\"text-right\">Didn't receive? Check spam.</div>\r\n                  </div>\r\n                </form>\r\n              )}\r\n\r\n              {/* PHONE - send */}\r\n              {mode === \"phone\" && (\r\n                <form onSubmit={handleSendPhoneOtp} className=\"space-y-3\" noValidate>\r\n                  <label className=\"block text-sm font-medium text-slate-600\">Phone</label>\r\n\r\n                  <div className=\"flex gap-2 items-start flex-col sm:flex-row\">\r\n                    <div className=\"w-full sm:w-44\">\r\n                      <CountryDropdown\r\n                        countries={countries}\r\n                        value={country}\r\n                        onChange={(c) => {\r\n                          setCountry(c);\r\n                          // if phone is empty, add calling code as hint to input (we don't auto-prepend to typed number)\r\n                          // we leave actual submission to buildFullPhone\r\n                        }}\r\n                        disabled={countryLoading || !!countryError}\r\n                        placeholder={countryLoading ? \"Loading...\" : countryError ? \"Unavailable\" : \"Select country\"}\r\n                      />\r\n                      <div className=\"text-xs text-slate-400 mt-2\">{countryLoading ? \"Loading dial codes...\" : countryError ? <span className=\"text-red-500\">Unable to load list</span> : \"Select country code\"}</div>\r\n                    </div>\r\n\r\n                    <div className=\"flex-1 min-w-0\">\r\n                      <div className=\"flex gap-2\">\r\n                        <div className=\"flex items-center px-3 border rounded bg-slate-50 text-sm whitespace-nowrap\">\r\n                          <span className=\"mr-2\">{country?.flag ? <img src={country.flag} alt={country.name} className=\"w-5 h-4 object-cover inline-block\" /> : null}</span>\r\n                          <span className=\"font-medium\">{country?.callingCode ?? \"+\"}</span>\r\n                        </div>\r\n                        <input\r\n                          value={phone}\r\n                          onChange={(e) => setPhone(e.target.value)}\r\n                          placeholder={country ? `${country.callingCode} 98765 43210` : \"98765 43210\"}\r\n                          className=\"flex-1 p-2 border rounded focus:ring-2 focus:ring-indigo-300 bg-indigo-50\"\r\n                          aria-label=\"Phone number\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"flex gap-3\">\r\n                    <button type=\"submit\" disabled={loading} className=\"flex-1 px-4 py-2 bg-indigo-600 text-white rounded\">\r\n                      {loading ? \"Sending...\" : \"Send SMS\"}\r\n                    </button>\r\n                    <button type=\"button\" onClick={() => setMode(\"verifyEmail\")} className=\"px-4 py-2 border rounded\">\r\n                      Back\r\n                    </button>\r\n                  </div>\r\n\r\n                  <p className=\"text-xs text-slate-400\">Standard SMS rates may apply.</p>\r\n                </form>\r\n              )}\r\n\r\n              {/* PHONE - verify */}\r\n              {mode === \"verifyPhone\" && (\r\n                <form onSubmit={handleVerifyPhoneOtp} className=\"space-y-3\" noValidate>\r\n                  <p className=\"text-sm text-slate-600\">Enter the SMS code sent to <strong>{country?.callingCode ?? \"\"} {phone}</strong></p>\r\n\r\n                  <label className=\"block text-sm font-medium text-slate-600\">SMS Code</label>\r\n                  <div className=\"flex gap-2\">\r\n                    {phoneOtp.map((digit, i) => (\r\n                      <input\r\n                        key={i}\r\n                        id={`otp-phone-${i}`}\r\n                        data-for=\"phone\"\r\n                        inputMode=\"numeric\"\r\n                        pattern=\"[0-9]*\"\r\n                        maxLength={1}\r\n                        value={digit}\r\n                        onPaste={(e) => handleOtpPaste(e, phoneOtp, setPhoneOtp)}\r\n                        onKeyDown={(e) => handleOtpInput(e, i, phoneOtp, setPhoneOtp)}\r\n                        onChange={() => {}}\r\n                        aria-label={`Phone code digit ${i + 1}`}\r\n                        className=\"w-12 h-12 text-center text-lg rounded border border-slate-200 focus:ring-2 focus:ring-indigo-300\"\r\n                      />\r\n                    ))}\r\n                  </div>\r\n\r\n                  <div className=\"flex gap-3\">\r\n                    <button type=\"submit\" disabled={loading} className=\"flex-1 px-4 py-2 bg-indigo-600 text-white rounded\">\r\n                      {loading ? \"Verifying...\" : \"Verify\"}\r\n                    </button>\r\n                    <button type=\"button\" onClick={() => setMode(\"phone\")} className=\"px-4 py-2 border rounded\">\r\n                      Back\r\n                    </button>\r\n                  </div>\r\n\r\n                  <div className=\"flex items-center justify-between text-xs text-slate-500\">\r\n                    <div>\r\n                      {formatCountdown(phoneResendAvailableAt) ? (\r\n                        <span>Resend in {formatCountdown(phoneResendAvailableAt)}</span>\r\n                      ) : (\r\n                        <button type=\"button\" onClick={handleResendPhone} className=\"underline text-indigo-600\">\r\n                          Resend SMS\r\n                        </button>\r\n                      )}\r\n                    </div>\r\n                    <div>Contact support if you don't receive SMS.</div>\r\n                  </div>\r\n                </form>\r\n              )}\r\n\r\n              {/* ORG finalize */}\r\n              {mode === \"org\" && (\r\n                <form onSubmit={handleFinalize} className=\"space-y-4\" noValidate>\r\n                  <label className=\"block text-sm font-medium text-slate-600\">Organization name</label>\r\n                  <input value={orgName} placeholder=\"Enter the name\" onChange={(e) => setOrgName(e.target.value)} className=\"w-full p-3 border rounded focus:ring-2 focus:ring-indigo-300\" />\r\n\r\n                  <label className=\"block text-sm font-medium text-slate-600\">Your name</label>\r\n                  <input value={name} onChange={(e) => setName(e.target.value)} className=\"w-full p-3 border rounded focus:ring-2 focus:ring-indigo-300\" />\r\n\r\n                  <label className=\"block text-sm font-medium text-slate-600\">Password</label>\r\n                  <div className=\"relative\">\r\n                    <input\r\n                      type={showPassword ? \"text\" : \"password\"}\r\n                      value={password}\r\n                      onChange={(e) => {\r\n                        setPasswordTouched(true);\r\n                        setPassword(e.target.value);\r\n                      }}\r\n                      onBlur={() => setPasswordTouched(true)}\r\n                      placeholder=\"Create a strong password\"\r\n                      className=\"w-full p-3 border rounded focus:ring-2 focus:ring-indigo-300 pr-12\"\r\n                      aria-required\r\n                    />\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => setShowPassword((v) => !v)}\r\n                      aria-label={showPassword ? \"Hide password\" : \"Show password\"}\r\n                      className=\"absolute right-2 top-1/2 -translate-y-1/2 p-2 rounded hover:bg-slate-100\"\r\n                    >\r\n                      {showPassword ? \"Hide\" : \"Show\"}\r\n                    </button>\r\n                  </div>\r\n\r\n                  <label className=\"block text-sm font-medium text-slate-600\">Retype password</label>\r\n                  <div className=\"relative\">\r\n                    <input\r\n                      type={showConfirmPassword ? \"text\" : \"password\"}\r\n                      value={confirmPassword}\r\n                      onChange={(e) => setConfirmPassword(e.target.value)}\r\n                      onBlur={() => setPasswordTouched(true)}\r\n                      placeholder=\"Retype password\"\r\n                      className={`w-full p-3 border rounded focus:ring-2 focus:ring-indigo-300 pr-12 ${passwordTouched && !passwordsMatch ? \"border-red-400\" : \"\"}`}\r\n                      aria-required\r\n                    />\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => setShowConfirmPassword((v) => !v)}\r\n                      aria-label={showConfirmPassword ? \"Hide password\" : \"Show password\"}\r\n                      className=\"absolute right-2 top-1/2 -translate-y-1/2 p-2 rounded hover:bg-slate-100\"\r\n                    >\r\n                      {showConfirmPassword ? \"Hide\" : \"Show\"}\r\n                    </button>\r\n                  </div>\r\n\r\n                  {/* Password requirements */}\r\n                  <div className=\"text-xs text-slate-500 mt-2\">\r\n                    <div className=\"mb-1\">Password must contain:</div>\r\n                    <ul className=\"grid grid-cols-1 sm:grid-cols-2 gap-1\">\r\n                      {[\r\n                        { ok: password.length >= 8, label: \"8+ characters\" },\r\n                        { ok: /[A-Z]/.test(password), label: \"Uppercase letter\" },\r\n                        { ok: /[a-z]/.test(password), label: \"Lowercase letter\" },\r\n                        { ok: /[0-9]/.test(password), label: \"Number\" },\r\n                        { ok: /[^\\w\\s]/.test(password), label: \"Symbol\" },\r\n                      ].map((r) => (\r\n                        <li key={r.label} className=\"flex items-center gap-2 text-[13px]\">\r\n                          <span className={`w-4 h-4 rounded-sm flex items-center justify-center ${r.ok ? \"bg-emerald-600 text-white\" : \"bg-slate-200 text-slate-400\"}`}>\r\n                            {r.ok ? \"✓\" : \"•\"}\r\n                          </span>\r\n                          <span className={`${r.ok ? \"text-slate-700\" : \"text-slate-400\"}`}>{r.label}</span>\r\n                        </li>\r\n                      ))}\r\n                    </ul>\r\n                    {!passwordsMatch && confirmPassword.length > 0 && (\r\n                      <div className=\"mt-2 text-sm text-red-600\">Passwords do not match.</div>\r\n                    )}\r\n                  </div>\r\n\r\n                  <div className=\"flex gap-3 pt-3\">\r\n                    <button disabled={loading} className={`flex-1 px-4 py-2 bg-indigo-600 text-white rounded ${loading ? \"opacity-70\" : \"hover:brightness-95\"}`} type=\"submit\">\r\n                      {loading ? \"Creating...\" : \"Create organization\"}\r\n                    </button>\r\n                    <button type=\"button\" onClick={() => setMode(\"phone\")} className=\"px-4 py-2 border rounded\">\r\n                      Back\r\n                    </button>\r\n                  </div>\r\n                </form>\r\n              )}\r\n\r\n              {/* DONE */}\r\n              {mode === \"done\" && (\r\n                <div className=\"text-center py-6\">\r\n                  <h3 className=\"text-lg font-semibold text-emerald-700\">Success</h3>\r\n                  <p className=\"text-sm text-slate-600 mt-2\">{success || \"Your organization has been created.\"}</p>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* RIGHT: hero/illustration */}\r\n        <div className=\"hidden md:block relative bg-gradient-to-br from-indigo-500 to-emerald-300\">\r\n          <img src=\"/signup-hero.jpg\" alt=\"Signup hero\" className=\"w-full h-full object-cover min-h-[520px]\" />\r\n          <div className=\"absolute inset-0 bg-gradient-to-tr from-transparent via-white/10 to-transparent pointer-events-none\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["c","_c","React","useEffect","useRef","useState","useRouter","ApiResp","ok","tempToken","sessionToken","activated","error","reason","k","Country","name","cca2","callingCode","flag","postJSON","url","body","Promise","res","fetch","method","headers","JSON","stringify","credentials","json","statusText","err","message","String","useOnClickOutside","ref","handler","$","$i","Symbol","for","t0","t1","useOnClickOutside[useEffect()]","listener","e","current","contains","target","Node","document","addEventListener","removeEventListener","CountryDropdown","countries","value","onChange","disabled","placeholder","undefined","open","setOpen","query","setQuery","highlight","setHighlight","rootRef","searchRef","listRef","t2","CountryDropdown[useOnClickOutside()]","t3","CountryDropdown[useEffect()]","t4","t5","t6","t7","q","toLowerCase","includes","filter","items","handleKeyDown","key","preventDefault","setTimeout","CountryDropdown[handleKeyDown > setTimeout()]","focus","h","Math","min","max","length","nextIdx","querySelectorAll","scrollIntoView","block","_CountryDropdownHandleKeyDownSetHighlight","prevIdx","pick","t8","CountryDropdown[<button>.onClick]","_CountryDropdownButtonOnClickSetOpen","CountryDropdown[<button>.onClick > setTimeout()]","t9","t10","t11","t12","t13","t14","t15","t16","t17","t18","t19","t20","t21","t22","e_0","t23","t24","map","CountryDropdown[items.map()]","c_0","idx","isActive","CountryDropdown[items.map() > <li>.onMouseEnter]","CountryDropdown[items.map() > <li>.onClick]","t25","t26","t27","v","h_0","SignupPage","JSX","Element","router","Mode","mode","setMode","email","setEmail","emailOtp","setEmailOtp","Array","fill","emailCode","setEmailCode","setTempToken","country","setCountry","setCountries","countryLoading","setCountryLoading","countryError","setCountryError","phone","setPhone","phoneOtp","setPhoneOtp","phoneCode","setPhoneCode","orgName","setOrgName","password","setPassword","confirmPassword","setConfirmPassword","setName","showPassword","setShowPassword","showConfirmPassword","setShowConfirmPassword","passwordTouched","setPasswordTouched","passwordErrors","setPasswordErrors","passwordsMatch","setPasswordsMatch","loading","setLoading","setError","success","setSuccess","emailResendAvailableAt","setEmailResendAvailableAt","phoneResendAvailableAt","setPhoneResendAvailableAt","now","setNow","Date","id","window","setInterval","clearInterval","modeToStep","m","step","BUILT_IN_FALLBACK","normalizeCallingCode","raw","s","trim","startsWith","digits","replace","isArray","root","suffix","suffixes","combined","callingCodes","extractFlag","flags","svg","png","emoji","mounted","loadCountries","cache","catch","rawList","text","parse","data","mres","mjson","parsed","code","CCA2","toString","toUpperCase","common","official","dialCode","callCode","idd","callingCodeNormalized","slice","seen","Map","it","has","set","from","values","sort","a","b","localeCompare","locale","navigator","language","languages","match","defaultCountry","cca","find","formatCountdown","unixMs","ceil","setResendDeadline","setter","seconds","handleOtpInput","KeyboardEvent","HTMLInputElement","otpArr","setOtpArr","next","prev","prevInput","getElementById","dataset","n","test","nextInput","nxt","handleOtpPaste","ClipboardEvent","paste","clipboardData","getData","split","i","firstEmpty","findIndex","focusIdx","el","join","validatePassword","pw","errs","push","handleSendEmailOtp","FormEvent","handleVerifyEmailOtp","flow","handleSendPhoneOtp","full","buildFullPhone","twilioTrialUnverified","devOtpLogged","handleVerifyPhoneOtp","typed","cc","onlyDigits","normalizedCc","handleFinalize","normalizedPhone","payload","Record","organizationName","handleResendEmail","resend","handleResendPhone","computeFillPercent","round","fillPercent","width","isCompleted","location","href","digit","label","r"],"mappings":"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","ignoreList":[],"debugId":null}}]
}