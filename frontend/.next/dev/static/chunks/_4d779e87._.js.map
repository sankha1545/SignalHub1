{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["E:/Attack Capital/SignalHub/frontend/src/components/chat/TeamChat.tsx"],"sourcesContent":["// src/app/dashboard/manager/TeamInbox/page.tsx\r\n\"use client\";\r\n\r\nimport React, { useEffect, useMemo, useState, useCallback } from \"react\";\r\nimport dynamic from \"next/dynamic\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport {\r\n  Search,\r\n  Star,\r\n  MoreVertical,\r\n  Clock,\r\n  Inbox as InboxIcon,\r\n  User,\r\n  Users,\r\n  UserCheck,\r\n} from \"lucide-react\";\r\nimport { useChatSocket } from \"@/app/dashboard/ChatSocketProvider\";\r\n\r\n/* ==========================\r\n   Dynamic imports (client only)\r\n   ========================== */\r\nconst TeamChat = dynamic(() => import(\"@/components/chat/TeamChat\").then((m) => m.default), { ssr: false });\r\n\r\n/* ==========================\r\n   Types\r\n   ========================== */\r\ntype FilterKey = \"all\" | \"assigned\" | \"unassigned\" | \"flagged\";\r\n\r\ntype ChatSummary = {\r\n  id: string;\r\n  name?: string | null;\r\n  type?: \"team\" | \"direct\" | string;\r\n  teamId?: string | null;\r\n  lastMessagePreview?: string | null;\r\n  lastMessageSender?: string | null;\r\n  unreadCount?: number;\r\n  meta?: any;\r\n  participants?: any[] | null; // optional participants array (may be ids or objects)\r\n};\r\n\r\ntype MinimalUser = { id: string; role?: string; name?: string; email?: string; organizationId?: string | null };\r\n\r\n/* ==========================\r\n   Local persistence & cross-tab events\r\n   ========================== */\r\nconst LOCAL_KEY_STATUS = \"chat_status_map_v1\";\r\nfunction readLocalStatusMap(): Record<string, { status: string; updatedAt: number }> {\r\n  try {\r\n    return JSON.parse(localStorage.getItem(LOCAL_KEY_STATUS) || \"{}\");\r\n  } catch {\r\n    return {};\r\n  }\r\n}\r\nfunction writeLocalStatusMap(m: Record<string, { status: string; updatedAt: number }>) {\r\n  try {\r\n    localStorage.setItem(LOCAL_KEY_STATUS, JSON.stringify(m));\r\n    try {\r\n      window.dispatchEvent(new CustomEvent(\"chatStatusUpdate\", { detail: { map: m } }));\r\n    } catch {}\r\n  } catch {}\r\n}\r\n\r\n/* ==========================\r\n   Small IconButton\r\n   ========================== */\r\nconst IconButton: React.FC<{\r\n  children: React.ReactNode;\r\n  ariaLabel?: string;\r\n  title?: string;\r\n  onClick?: (e: React.MouseEvent) => void;\r\n}> = ({ children, ariaLabel, title, onClick }) => (\r\n  <button\r\n    type=\"button\"\r\n    aria-label={ariaLabel}\r\n    title={title}\r\n    onClick={onClick}\r\n    className=\"p-1.5 rounded-lg hover:bg-slate-100 transition-colors focus:outline-none focus:ring-2 focus:ring-slate-200\"\r\n  >\r\n    {children}\r\n  </button>\r\n);\r\n\r\n/* ==========================\r\n   FilterButtons\r\n   ========================== */\r\nconst FilterButtons: React.FC<{ active: FilterKey; onChange: (v: FilterKey) => void }> = ({ active, onChange }) => {\r\n  const items: { key: FilterKey; label: string; Icon?: React.ComponentType<any> }[] = [\r\n    { key: \"all\", label: \"All\" },\r\n    { key: \"assigned\", label: \"Assigned\", Icon: UserCheck },\r\n    { key: \"unassigned\", label: \"Unassigned\", Icon: Users },\r\n    { key: \"flagged\", label: \"Flagged\", Icon: Star },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"flex items-center gap-2 overflow-x-auto pb-1\">\r\n      {items.map((it) => {\r\n        const isActive = active === it.key;\r\n        return (\r\n          <button\r\n            key={it.key}\r\n            onClick={() => onChange(it.key)}\r\n            type=\"button\"\r\n            aria-pressed={isActive}\r\n            className={`px-4 py-2 rounded-xl text-sm font-medium transition-all duration-200 flex items-center gap-2 whitespace-nowrap ${\r\n              isActive ? \"bg-gradient-to-br from-blue-500 to-cyan-500 text-white shadow-lg\" : \"bg-slate-50 text-slate-600 hover:bg-slate-100\"\r\n            }`}\r\n          >\r\n            {it.Icon && <it.Icon className=\"w-4 h-4\" />}\r\n            <span>{it.label}</span>\r\n          </button>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\n/* ==========================\r\n   Helper: derive display name for a chat (consistent with TeamChat)\r\n   - Prefer other participant's name for direct chat\r\n   - Fallback to meta/lastMessageSender/chat.name/id\r\n   ========================== */\r\nfunction deriveDisplayName(chat: ChatSummary, me: MinimalUser | null): string {\r\n  // If server provided a clear group name and it's not a direct, prefer it\r\n  if (chat.type !== \"direct\" && chat.name) return chat.name;\r\n\r\n  // candidates can live in many places - normalize\r\n  const candidates: any[] =\r\n    chat.participants ??\r\n    chat.meta?.participants ??\r\n    chat.meta?.members ??\r\n    chat.meta?.users ??\r\n    chat.meta?.participantIds ??\r\n    chat.meta?.membersList ??\r\n    [];\r\n\r\n  if (Array.isArray(candidates) && candidates.length > 0) {\r\n    const normalized = candidates\r\n      .map((p) => {\r\n        if (!p) return null;\r\n        if (typeof p === \"string\" || typeof p === \"number\") return { id: String(p), name: String(p) };\r\n        // object shape: attempt common fields\r\n        return {\r\n          id: p.id ?? p.userId ?? p._id ?? p.uid ?? (p.user && (p.user.id ?? p.user._id)) ?? null,\r\n          name: p.name ?? p.displayName ?? p.user?.name ?? (p.email ? p.email.split(\"@\")[0] : null) ?? null,\r\n        };\r\n      })\r\n      .filter(Boolean);\r\n\r\n    if (me && me.id != null) {\r\n      const other = normalized.find((n) => n.id && String(n.id) !== String(me.id));\r\n      if (other && other.name) return other.name;\r\n      if (other && other.id) return other.id;\r\n    }\r\n\r\n    // fallback to first named\r\n    const firstNamed = normalized.find((n) => n && n.name);\r\n    if (firstNamed) return firstNamed.name!;\r\n  }\r\n\r\n  // fallback to explicit lastMessageSender (if server provides)\r\n  if (chat.lastMessageSender) return chat.lastMessageSender;\r\n\r\n  // fallback to chat.name or very generic\r\n  return chat.name ?? `Chat ${chat.id}`;\r\n}\r\n\r\n/* ==========================\r\n   MessageCard (preview)\r\n   ========================== */\r\nconst MessageCard: React.FC<{\r\n  chat: ChatSummary;\r\n  isSelected: boolean;\r\n  onSelect: () => void;\r\n  delay?: number;\r\n  chatStatusMap: Record<string, { status: string; updatedAt: number }>;\r\n}> = ({ chat, isSelected, onSelect, delay = 0, chatStatusMap }) => {\r\n  const [hover, setHover] = useState(false);\r\n\r\n  const statusEntry = chatStatusMap?.[chat.id] ?? null;\r\n  const status = statusEntry?.status ?? null;\r\n  const isPending = !!status && status !== \"seen\";\r\n  const previewText = chat.lastMessagePreview ?? (chat.type === \"team\" ? \"Team chat — no messages yet\" : \"No messages yet\");\r\n  const senderName = chat.lastMessageSender ?? null;\r\n  const previewDisplay = senderName ? `${senderName}: ${previewText}` : previewText;\r\n\r\n  const RenderTicks: React.FC = () => {\r\n    if (!status) return null;\r\n    if (status === \"sent\") return <span title=\"Sent\" className=\"text-xs text-slate-500\">✓</span>;\r\n    if (status === \"delivered\") return <span title=\"Delivered\" className=\"text-xs text-slate-500\">✓✓</span>;\r\n    if (status === \"seen\") return <span title=\"Seen\" className=\"text-xs text-blue-500\">✓✓</span>;\r\n    return null;\r\n  };\r\n\r\n  return (\r\n    <motion.article\r\n      initial={{ opacity: 0, y: 8 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      transition={{ duration: 0.22, delay }}\r\n      onMouseEnter={() => setHover(true)}\r\n      onMouseLeave={() => setHover(false)}\r\n      onClick={onSelect}\r\n      tabIndex={0}\r\n      role=\"button\"\r\n      aria-pressed={isSelected}\r\n      className={`relative p-3 rounded-xl border transition-all duration-200 cursor-pointer group focus:outline-none focus:ring-2 focus:ring-blue-200 ${\r\n        isSelected ? \"bg-blue-50 border-blue-200 shadow-md\" : \"bg-white border-slate-200 hover:border-blue-200 hover:shadow-sm\"\r\n      }`}\r\n    >\r\n      <div className=\"flex items-start gap-3\">\r\n        <div className=\"w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0 bg-gradient-to-br from-slate-200 to-slate-300\">\r\n          <User className=\"w-5 h-5 text-slate-600\" />\r\n        </div>\r\n\r\n        <div className=\"flex-1 min-w-0\">\r\n          <div className=\"flex items-start justify-between gap-2 mb-1\">\r\n            <div className=\"flex items-center gap-2 min-w-0\">\r\n              <h3 className={`text-sm truncate ${isPending ? \"font-semibold text-slate-900\" : \"font-medium text-slate-800\"}`} title={chat.name}>\r\n                {chat.name}\r\n              </h3>\r\n\r\n              {isPending && <motion.span initial={{ scale: 0 }} animate={{ scale: 1 }} className=\"w-2 h-2 bg-blue-500 rounded-full flex-shrink-0\" />}\r\n            </div>\r\n\r\n            <div className=\"flex items-center gap-2 flex-shrink-0 text-xs text-slate-400\">\r\n              <Clock className=\"w-3 h-3\" />\r\n            </div>\r\n          </div>\r\n\r\n          <h4 className={`text-sm mb-1 truncate ${isPending ? \"font-semibold text-slate-700\" : \"text-slate-600\"}`} title={previewDisplay}>\r\n            {previewDisplay}\r\n          </h4>\r\n\r\n          <div className=\"flex items-center justify-between gap-3\">\r\n            <div className=\"flex items-center gap-2 text-xs text-slate-400\">\r\n              {chat.type === \"team\" ? (\r\n                <span className=\"inline-flex items-center gap-1 px-2 py-0.5 rounded-md text-xs bg-slate-50 text-slate-600\">Group</span>\r\n              ) : (\r\n                <span className=\"inline-flex items-center gap-1 px-2 py-0.5 rounded-md text-xs bg-slate-50 text-slate-600\">Direct</span>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"flex items-center gap-2 text-xs text-slate-400\">\r\n              {chat.unreadCount ? <span className=\"px-2 py-0.5 rounded-full bg-blue-100 text-blue-700 text-[11px] font-medium\">{chat.unreadCount}</span> : null}\r\n              <RenderTicks />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <motion.div initial={{ opacity: 0 }} animate={{ opacity: hover ? 1 : 0 }} className=\"flex items-center gap-1\">\r\n          <IconButton ariaLabel=\"More\" title=\"More\">\r\n            <MoreVertical className=\"w-4 h-4\" />\r\n          </IconButton>\r\n        </motion.div>\r\n      </div>\r\n\r\n      <AnimatePresence initial={false}>\r\n        {isSelected && (\r\n          <motion.div\r\n            layoutId=\"selectedIndicator-manager\"\r\n            className=\"absolute left-0 top-0 bottom-0 w-1 bg-gradient-to-b from-blue-500 to-cyan-500 rounded-r-full\"\r\n            initial={{ width: 0 }}\r\n            animate={{ width: 4 }}\r\n            exit={{ width: 0 }}\r\n            transition={{ type: \"spring\", stiffness: 300, damping: 30 }}\r\n          />\r\n        )}\r\n      </AnimatePresence>\r\n    </motion.article>\r\n  );\r\n};\r\n\r\n/* ==========================\r\n   Main TeamInbox Page\r\n   ========================== */\r\nexport default function TeamInboxPage(): JSX.Element {\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [selectedChatId, setSelectedChatId] = useState<string | null>(null);\r\n  const [filter, setFilter] = useState<FilterKey>(\"all\");\r\n  const [teamSelect, setTeamSelect] = useState<string>(\"Growth Team\");\r\n\r\n  const [chats, setChats] = useState<ChatSummary[]>([]);\r\n  const [loading, setLoading] = useState<boolean>(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const [currentUser, setCurrentUser] = useState<MinimalUser | null>(null);\r\n\r\n  const chatSocket = useChatSocket();\r\n\r\n  const [chatStatusMap, setChatStatusMap] = useState<Record<string, { status: string; updatedAt: number }>>(() => readLocalStatusMap());\r\n\r\n  /* -------------------------\r\n     API: load chats & normalize\r\n     ------------------------- */\r\n  const loadChats = useCallback(async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      const res = await fetch(\"/api/chats\", { credentials: \"same-origin\" });\r\n      if (!res.ok) throw new Error(`HTTP ${res.status}`);\r\n      const j = await res.json().catch(() => ({}));\r\n      const payload = (j?.chats ?? j?.items ?? j ?? []) as ChatSummary[];\r\n\r\n      const normalized = payload.map((c) => {\r\n        const participants = c.participants ?? c.meta?.participants ?? c.meta?.members ?? null;\r\n        const lastMessagePreview = c.lastMessagePreview ?? c.meta?.lastMessage?.content ?? c.meta?.lastMessage?.text ?? null;\r\n        const lastMessageSender = c.lastMessageSender ?? c.meta?.lastMessage?.senderName ?? c.meta?.lastMessage?.from ?? null;\r\n        const type = (c.type ?? c.meta?.type ?? (c.teamId ? \"team\" : \"direct\")) as any;\r\n        return {\r\n          ...c,\r\n          participants,\r\n          lastMessagePreview,\r\n          lastMessageSender,\r\n          type,\r\n        } as ChatSummary;\r\n      });\r\n\r\n      setChats(normalized);\r\n      if (!selectedChatId && normalized.length > 0) setSelectedChatId(normalized[0].id);\r\n    } catch (err: any) {\r\n      console.warn(\"Failed to load chats:\", err);\r\n      setError(\"Could not load chats\");\r\n      setChats([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [selectedChatId]);\r\n\r\n  /* -------------------------\r\n     API: load current user\r\n     ------------------------- */\r\n  const loadMe = useCallback(async () => {\r\n    try {\r\n      const res = await fetch(\"/api/me\", { credentials: \"include\" });\r\n      if (!res.ok) {\r\n        setCurrentUser(null);\r\n        return;\r\n      }\r\n      const j = await res.json().catch(() => ({}));\r\n      const u = j?.user ?? j ?? null;\r\n      if (u && u.id) {\r\n        setCurrentUser({ id: String(u.id), role: u.role ?? null, name: u.name ?? null, email: u.email ?? null, organizationId: u.organizationId ?? null });\r\n      } else {\r\n        setCurrentUser(null);\r\n      }\r\n    } catch (e) {\r\n      console.warn(\"Failed to load /api/me:\", e);\r\n      setCurrentUser(null);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    loadMe();\r\n    void loadChats();\r\n\r\n    const onStorage = (ev: StorageEvent) => {\r\n      if (ev.key === LOCAL_KEY_STATUS) setChatStatusMap(readLocalStatusMap());\r\n    };\r\n    window.addEventListener(\"storage\", onStorage);\r\n\r\n    const onCustom = () => setChatStatusMap(readLocalStatusMap());\r\n    window.addEventListener(\"chatStatusUpdate\", onCustom as EventListener);\r\n\r\n    // listen for external requests to open a direct chat (used by People -> Message button)\r\n    const openHandler = (ev: Event) => {\r\n      const d = (ev as CustomEvent).detail ?? {};\r\n      const memberId = d?.memberId ?? null;\r\n      if (!memberId) return;\r\n\r\n      // find existing direct chat for memberId\r\n      const found = chats.find((c) => {\r\n        if ((c.type ?? \"\").toString().toLowerCase() !== \"direct\") return false;\r\n        const parts = c.participants ?? c.meta?.participants ?? [];\r\n        if (!Array.isArray(parts)) return false;\r\n        return parts.some((p: any) => {\r\n          if (!p) return false;\r\n          if (typeof p === \"string\" || typeof p === \"number\") return String(p) === String(memberId);\r\n          const id = p.id ?? p.userId ?? p._id ?? (p.user && (p.user.id ?? p.user._id));\r\n          return id && String(id) === String(memberId);\r\n        });\r\n      });\r\n\r\n      if (found) {\r\n        // select the existing chat\r\n        setSelectedChatId(found.id);\r\n      } else {\r\n        // no existing chat — tell the caller to create one (caller should then create and server/socket will add it)\r\n        window.dispatchEvent(new CustomEvent(\"createDirectChat\", { detail: { memberId } }));\r\n      }\r\n    };\r\n    window.addEventListener(\"openDirectChat\", openHandler as EventListener);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"storage\", onStorage);\r\n      window.removeEventListener(\"chatStatusUpdate\", onCustom as EventListener);\r\n      window.removeEventListener(\"openDirectChat\", openHandler as EventListener);\r\n    };\r\n  }, [loadChats, loadMe, chats]);\r\n\r\n  /* -------------------------\r\n     When me becomes available: resolve direct chat display names\r\n     ------------------------- */\r\n  useEffect(() => {\r\n    if (!currentUser) return;\r\n    setChats((prev) =>\r\n      prev.map((c) => {\r\n        if ((c.type ?? \"\").toString().toLowerCase() === \"direct\") {\r\n          const name = deriveDisplayName(c, currentUser);\r\n          return { ...c, name };\r\n        }\r\n        return c;\r\n      })\r\n    );\r\n  }, [currentUser]);\r\n\r\n  /* -------------------------\r\n     Socket handlers (team created, chat message, delivered, read)\r\n     - keep chat list updated and update names when sender/participants appear\r\n     ------------------------- */\r\n  useEffect(() => {\r\n    if (!chatSocket) return;\r\n\r\n    const handleTeamCreated = (payload: any) => {\r\n      const newChat = payload?.chat ?? (payload?.team ? { id: payload.team.id, name: payload.team.name, teamId: payload.team.id } : null);\r\n      if (!newChat) return;\r\n      setChats((prev) => {\r\n        if (prev.find((c) => c.id === newChat.id)) return prev;\r\n        const inserted: ChatSummary = {\r\n          id: newChat.id,\r\n          name: newChat.name ?? `Team ${newChat.teamId ?? \"\"}`,\r\n          type: \"team\",\r\n          teamId: newChat.teamId ?? null,\r\n          lastMessagePreview: null,\r\n          lastMessageSender: null,\r\n          unreadCount: 0,\r\n          participants: newChat.participants ?? null,\r\n        };\r\n        return [inserted, ...prev];\r\n      });\r\n    };\r\n\r\n    const handleChatMessage = (payload: any) => {\r\n      const chatId = payload?.chatId ?? payload?.chat?.id ?? payload?.room ?? null;\r\n      if (!chatId) return;\r\n\r\n      const msg = payload?.message ?? payload;\r\n      const text = msg?.content ?? msg?.text ?? \"\";\r\n      const senderName = msg?.sender?.name ?? msg?.senderName ?? msg?.fromName ?? msg?.from ?? null;\r\n      const senderId = msg?.sender?.id ?? msg?.senderId ?? msg?.from ?? null;\r\n\r\n      setChats((prev) =>\r\n        prev.map((c) => {\r\n          if (c.id !== String(chatId)) return c;\r\n          const preview = text.length > 120 ? text.slice(0, 120) + \"…\" : text;\r\n          let name = c.name;\r\n          // if direct and no good name, try to set from participants or sender\r\n          if ((c.type ?? \"\").toString().toLowerCase() === \"direct\") {\r\n            if ((!name || name === \"Chat\" || name.startsWith(\"Chat \")) && senderName) name = senderName;\r\n            // try to inject participant info if present\r\n            const parts = c.participants ?? c.meta?.participants ?? c.meta?.members ?? null;\r\n            if (!name && Array.isArray(parts) && parts.length > 0 && currentUser?.id) {\r\n              const other = parts\r\n                .map((p: any) => {\r\n                  if (!p) return null;\r\n                  if (typeof p === \"string\" || typeof p === \"number\") return { id: String(p), name: String(p) };\r\n                  return { id: p.id ?? p.userId ?? p._id ?? null, name: p.name ?? p.displayName ?? p.user?.name ?? null };\r\n                })\r\n                .find((p: any) => p && p.id && String(p.id) !== String(currentUser.id));\r\n              if (other && other.name) name = other.name;\r\n            }\r\n          }\r\n\r\n          return {\r\n            ...c,\r\n            lastMessagePreview: preview,\r\n            lastMessageSender: senderName,\r\n            unreadCount: (c.unreadCount ?? 0) + 1,\r\n            name,\r\n          };\r\n        })\r\n      );\r\n    };\r\n\r\n    const handleDelivered = (payload: any) => {\r\n      const chatId = payload?.chatId ?? null;\r\n      if (!chatId) return;\r\n      const map = readLocalStatusMap();\r\n      map[chatId] = { status: \"delivered\", updatedAt: Date.now() };\r\n      writeLocalStatusMap(map);\r\n      setChatStatusMap({ ...map });\r\n    };\r\n\r\n    const handleRead = (payload: any) => {\r\n      const chatId = payload?.chatId ?? payload?.chat?.id ?? null;\r\n      if (!chatId) return;\r\n      const map = readLocalStatusMap();\r\n      map[chatId] = { status: \"seen\", updatedAt: Date.now() };\r\n      writeLocalStatusMap(map);\r\n      setChatStatusMap({ ...map });\r\n      setChats((prev) => prev.map((c) => (c.id === String(chatId) ? { ...c, unreadCount: 0 } : c)));\r\n    };\r\n\r\n    try {\r\n      chatSocket.on(\"team:created\", handleTeamCreated);\r\n      chatSocket.on(\"chat:message\", handleChatMessage);\r\n      chatSocket.on(\"chat:delivered\", handleDelivered);\r\n      chatSocket.on(\"chat:read\", handleRead);\r\n    } catch (e) {\r\n      console.warn(\"chatSocket registration failed:\", e);\r\n    }\r\n\r\n    return () => {\r\n      try {\r\n        chatSocket.off(\"team:created\", handleTeamCreated);\r\n        chatSocket.off(\"chat:message\", handleChatMessage);\r\n        chatSocket.off(\"chat:delivered\", handleDelivered);\r\n        chatSocket.off(\"chat:read\", handleRead);\r\n      } catch {}\r\n    };\r\n  }, [chatSocket, currentUser]);\r\n\r\n  /* -------------------------\r\n     When selecting a chat: optimistically clear unread + mark seen locally & server\r\n     ------------------------- */\r\n  useEffect(() => {\r\n    if (!selectedChatId) return;\r\n\r\n    // clear unread locally\r\n    setChats((prev) => prev.map((c) => (c.id === selectedChatId ? { ...c, unreadCount: 0 } : c)));\r\n\r\n    const map = readLocalStatusMap();\r\n    if (!map[selectedChatId] || map[selectedChatId].status !== \"seen\") {\r\n      map[selectedChatId] = { status: \"seen\", updatedAt: Date.now() };\r\n      writeLocalStatusMap(map);\r\n      setChatStatusMap({ ...map });\r\n    }\r\n\r\n    try {\r\n      void fetch(`/api/chats/${encodeURIComponent(selectedChatId)}/read`, { method: \"POST\", credentials: \"same-origin\" });\r\n    } catch {}\r\n  }, [selectedChatId]);\r\n\r\n  /* -------------------------\r\n     Search + filter\r\n     ------------------------- */\r\n  const filteredChats = useMemo(() => {\r\n    const q = searchQuery.trim().toLowerCase();\r\n    return chats.filter((c) => {\r\n      const matchesSearch =\r\n        q === \"\" ||\r\n        (c.name ?? \"\").toString().toLowerCase().includes(q) ||\r\n        (c.lastMessagePreview ?? \"\").toLowerCase().includes(q) ||\r\n        (c.lastMessageSender ?? \"\").toLowerCase().includes(q);\r\n      const matchesFilter =\r\n        filter === \"all\" ||\r\n        (filter === \"assigned\" && (c.meta?.assigned === true || (c.type === \"direct\" && c.meta?.assignedTo))) ||\r\n        (filter === \"unassigned\" && !(c.meta?.assigned === true || (c.type === \"direct\" && c.meta?.assignedTo))) ||\r\n        (filter === \"flagged\" && (c.meta?.flagged === true));\r\n      return matchesSearch && matchesFilter;\r\n    });\r\n  }, [chats, searchQuery, filter]);\r\n\r\n  const unreadCount = chats.reduce((acc, c) => acc + (c.unreadCount ?? 0), 0);\r\n\r\n  const handleArchive = (id: string) => {\r\n    console.log(\"Archive\", id);\r\n  };\r\n  const handleDelete = (id: string) => {\r\n    console.log(\"Delete\", id);\r\n  };\r\n\r\n  return (\r\n    <main className=\"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-50 p-4 sm:p-6 lg:p-8\">\r\n      <div className=\"max-w-6xl mx-auto\">\r\n        {/* header */}\r\n        <header className=\"mb-6\">\r\n          <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <h1 className=\"text-2xl sm:text-3xl md:text-4xl font-bold bg-gradient-to-r from-slate-800 to-slate-600 bg-clip-text text-transparent\">\r\n                Team Inbox\r\n              </h1>\r\n\r\n              {unreadCount > 0 && (\r\n                <motion.div initial={{ scale: 0 }} animate={{ scale: 1 }} className=\"px-3 py-1 bg-gradient-to-br from-blue-500 to-cyan-500 text-white text-sm font-bold rounded-full shadow-lg\">\r\n                  {unreadCount}\r\n                </motion.div>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"flex items-center gap-4\">\r\n              <div className=\"flex items-center gap-2 text-sm text-slate-500\">\r\n                <Users className=\"w-4 h-4\" />\r\n                <span>{teamSelect}</span>\r\n              </div>\r\n\r\n              <div className=\"flex items-center gap-2 text-sm text-slate-500\">\r\n                <UserCheck className=\"w-4 h-4\" />\r\n                <span>assigned</span>\r\n              </div>\r\n\r\n              <div className=\"flex items-center gap-2 text-sm text-slate-500\">\r\n                <InboxIcon className=\"w-4 h-4\" />\r\n                <span>total</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <p className=\"text-sm text-slate-500 mt-2\">Manage incoming customer messages for your team. Outgoing messages show a tick state and a blue-dot until seen.</p>\r\n        </header>\r\n\r\n        {/* layout */}\r\n        <section className=\"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden grid grid-cols-1 lg:grid-cols-[360px_1fr]\">\r\n          {/* left: chat list */}\r\n          <div className=\"p-4 border-b lg:border-b-0 lg:border-r border-slate-200\">\r\n            <div className=\"space-y-3\">\r\n              <div className=\"relative\">\r\n                <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400\" />\r\n                <input\r\n                  type=\"search\"\r\n                  aria-label=\"Search chats\"\r\n                  placeholder=\"Search chats...\"\r\n                  value={searchQuery}\r\n                  onChange={(e) => setSearchQuery(e.target.value)}\r\n                  className=\"w-full pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl text-sm placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all duration-150\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"flex items-center gap-2\">\r\n                <FilterButtons active={filter} onChange={(v) => setFilter(v as FilterKey)} />\r\n              </div>\r\n\r\n              <div className=\"text-xs text-slate-500\">Chats</div>\r\n\r\n              <div className=\"space-y-3 max-h-[60vh] overflow-auto pt-2\">\r\n                {loading ? (\r\n                  <div className=\"text-sm text-slate-500\">Loading chats…</div>\r\n                ) : error ? (\r\n                  <div className=\"text-sm text-rose-600\">{error}</div>\r\n                ) : filteredChats.length === 0 ? (\r\n                  <div className=\"py-8 text-center text-sm text-slate-500\">\r\n                    No chats found — create a team or start a direct chat to begin.\r\n                  </div>\r\n                ) : (\r\n                  filteredChats.map((c, idx) => {\r\n                    // ensure chat has a sensible name (derive when needed)\r\n                    const display = c.name ?? (currentUser ? deriveDisplayName(c, currentUser) : c.name ?? \"Chat\");\r\n                    const normalized = { ...c, name: display };\r\n                    return (\r\n                      <MessageCard\r\n                        key={c.id}\r\n                        chat={normalized}\r\n                        isSelected={selectedChatId === c.id}\r\n                        onSelect={() => setSelectedChatId(c.id)}\r\n                        delay={idx * 0.03}\r\n                        chatStatusMap={chatStatusMap}\r\n                      />\r\n                    );\r\n                  })\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* right: viewer */}\r\n          <div className=\"p-4 min-h-[60vh]\">\r\n            {selectedChatId ? (\r\n              <div className=\"h-full rounded-md border border-slate-100 overflow-hidden\">\r\n                {/* TeamChat will fetch message history for chatId and connect to socket; pass currentUser so optimistic messages/sender info works */}\r\n                {/* @ts-ignore */}\r\n                <TeamChat chatId={selectedChatId} currentUser={currentUser ?? { id: \"unknown\" }} />\r\n              </div>\r\n            ) : (\r\n              <div className=\"h-full flex flex-col items-center justify-center text-center text-slate-500\">\r\n                <div className=\"w-20 h-20 mb-4 rounded-2xl bg-gradient-to-br from-slate-100 to-slate-200 flex items-center justify-center\">\r\n                  <InboxIcon className=\"w-8 h-8 text-slate-400\" />\r\n                </div>\r\n                <h3 className=\"text-lg font-semibold text-slate-800 mb-1\">Select a chat to begin</h3>\r\n                <p className=\"text-sm\">Pick a team group chat or a direct thread to start messaging.</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </section>\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n"],"names":["c","_c","React","useEffect","useMemo","useState","useCallback","dynamic","motion","AnimatePresence","Search","Star","MoreVertical","Clock","Inbox","InboxIcon","User","Users","UserCheck","useChatSocket","TeamChat","then","m","default","ssr","FilterKey","ChatSummary","id","name","type","teamId","lastMessagePreview","lastMessageSender","unreadCount","meta","participants","MinimalUser","role","email","organizationId","LOCAL_KEY_STATUS","readLocalStatusMap","Record","status","updatedAt","JSON","parse","localStorage","getItem","writeLocalStatusMap","setItem","stringify","window","dispatchEvent","CustomEvent","detail","map","IconButton","FC","children","ReactNode","ariaLabel","title","onClick","e","MouseEvent","t0","$","$i","Symbol","for","t1","FilterButtons","active","onChange","v","key","label","Icon","items","t2","it","isActive","deriveDisplayName","chat","me","candidates","members","users","participantIds","membersList","Array","isArray","length","normalized","p","String","userId","_id","uid","user","displayName","split","filter","Boolean","other","find","n","firstNamed","MessageCard","isSelected","onSelect","delay","chatStatusMap","undefined","hover","setHover","statusEntry","isPending","previewText","senderName","previewDisplay","RenderTicks","t3","t4","opacity","y","t5","duration","t6","t7","t8","t9","t10","t11","t12","scale","t13","t14","t15","t16","t17","t18","t19","t20","t21","t22","t23","t24","t25","t26","t27","t28","t29","t30","width","stiffness","damping","t31","t32","TeamInboxPage","JSX","Element","searchQuery","setSearchQuery","selectedChatId","setSelectedChatId","setFilter","teamSelect","setTeamSelect","chats","setChats","loading","setLoading","error","setError","currentUser","setCurrentUser","chatSocket","setChatStatusMap","loadChats","res","fetch","credentials","ok","Error","j","json","catch","payload","lastMessage","content","text","from","err","console","warn","loadMe","u","onStorage","ev","StorageEvent","addEventListener","onCustom","EventListener","openHandler","Event","d","memberId","found","toString","toLowerCase","parts","some","removeEventListener","prev","handleTeamCreated","newChat","team","inserted","handleChatMessage","chatId","room","msg","message","sender","fromName","senderId","preview","slice","startsWith","handleDelivered","Date","now","handleRead","on","off","encodeURIComponent","method","filteredChats","q","trim","matchesSearch","includes","matchesFilter","assigned","assignedTo","flagged","reduce","acc","handleArchive","log","handleDelete","target","value","idx","display"],"mappings":"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","ignoreList":[],"debugId":null}},
    {"offset": {"line": 1482, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/lucide-react/dist/esm/icons/star.js","sources":["file:///E:/Attack%20Capital/SignalHub/frontend/node_modules/lucide-react/src/icons/star.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z',\n      key: 'r04s7s',\n    },\n  ],\n];\n\n/**\n * @component @name Star\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTEuNTI1IDIuMjk1YS41My41MyAwIDAgMSAuOTUgMGwyLjMxIDQuNjc5YTIuMTIzIDIuMTIzIDAgMCAwIDEuNTk1IDEuMTZsNS4xNjYuNzU2YS41My41MyAwIDAgMSAuMjk0LjkwNGwtMy43MzYgMy42MzhhMi4xMjMgMi4xMjMgMCAwIDAtLjYxMSAxLjg3OGwuODgyIDUuMTRhLjUzLjUzIDAgMCAxLS43NzEuNTZsLTQuNjE4LTIuNDI4YTIuMTIyIDIuMTIyIDAgMCAwLTEuOTczIDBMNi4zOTYgMjEuMDFhLjUzLjUzIDAgMCAxLS43Ny0uNTZsLjg4MS01LjEzOWEyLjEyMiAyLjEyMiAwIDAgMC0uNjExLTEuODc5TDIuMTYgOS43OTVhLjUzLjUzIDAgMCAxIC4yOTQtLjkwNmw1LjE2NS0uNzU1YTIuMTIyIDIuMTIyIDAgMCAwIDEuNTk3LTEuMTZ6IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/star\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Star = createLucideIcon('star', __iconNode);\n\nexport default Star;\n"],"names":[],"mappings":";;;;;;;;;;;;;AAGO,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,UAAA,CAAA,CAAA,CAAuB;IAClC;QACE,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QACA;YACE,CAAA,EAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YACH,GAAA,CAAA,CAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAA;KACP;CAEJ;AAaA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,IAAA,CAAA,CAAA,KAAO,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,iKAAA,EAAiB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAQ,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA","debugId":null}}]
}