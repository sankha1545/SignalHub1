{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["E:/Attack Capital/SignalHub/frontend/src/components/ui/modal.tsx"],"sourcesContent":["// components/ui/modal.tsx\r\n\"use client\";\r\n\r\nimport React, { useEffect, useRef } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport clsx from \"clsx\";\r\nimport { X } from \"lucide-react\";\r\n\r\n/**\r\n * Improved Modal primitive\r\n *\r\n * Props:\r\n *  - children: content inside modal (panel)\r\n *  - onClose: called when modal requests close (ESC, backdrop click, close button)\r\n *  - ariaLabel: string for aria-label on the dialog (default: \"Dialog\")\r\n *  - className: optional className to apply to panel (merged with defaults)\r\n *\r\n * Behavior:\r\n *  - renders into document.body using a portal\r\n *  - traps focus (Tab / Shift+Tab)\r\n *  - ESC closes modal\r\n *  - click on backdrop closes modal\r\n *  - locks body scroll while open\r\n *  - provides built-in animated close button and subtle entrance/exit animations\r\n */\r\n\r\ntype ModalProps = {\r\n  children: React.ReactNode;\r\n  onClose: () => void;\r\n  ariaLabel?: string;\r\n  className?: string;\r\n};\r\n\r\nconst FOCUSABLE_SELECTOR =\r\n  'a[href], area[href], input:not([disabled]):not([type=\"hidden\"]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex]:not([tabindex=\"-1\"]), [contenteditable]';\r\n\r\nconst getFocusableElements = (container: HTMLElement | null) => {\r\n  if (!container) return [];\r\n  try {\r\n    return Array.from(container.querySelectorAll<HTMLElement>(FOCUSABLE_SELECTOR)).filter(\r\n      (el) => !!(el.offsetWidth || el.offsetHeight || el.getClientRects().length)\r\n    );\r\n  } catch {\r\n    return [];\r\n  }\r\n};\r\n\r\nexport const Modal: React.FC<ModalProps> = ({ children, onClose, ariaLabel = \"Dialog\", className }) => {\r\n  const overlayRef = useRef<HTMLDivElement | null>(null);\r\n  const panelRef = useRef<HTMLDivElement | null>(null);\r\n  const lastFocused = useRef<HTMLElement | null>(null);\r\n\r\n  // ensure portal root exists\r\n  useEffect(() => {\r\n    let root = document.getElementById(\"modal-root\");\r\n    if (!root) {\r\n      root = document.createElement(\"div\");\r\n      root.id = \"modal-root\";\r\n      document.body.appendChild(root);\r\n    }\r\n  }, []);\r\n\r\n  // lock scroll + preserve/restore focus\r\n  useEffect(() => {\r\n    lastFocused.current = document.activeElement as HTMLElement | null;\r\n    const originalOverflow = document.body.style.overflow;\r\n    document.body.style.overflow = \"hidden\";\r\n\r\n    // focus the panel (or first focusable element) shortly after mount\r\n    const t = setTimeout(() => {\r\n      const focusable = getFocusableElements(panelRef.current);\r\n      if (focusable.length) focusable[0].focus();\r\n      else panelRef.current?.focus();\r\n    }, 30);\r\n\r\n    return () => {\r\n      clearTimeout(t);\r\n      document.body.style.overflow = originalOverflow;\r\n      try {\r\n        lastFocused.current?.focus();\r\n      } catch {\r\n        // ignore\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  // key handlers: ESC + focus trap (Tab / Shift+Tab)\r\n  useEffect(() => {\r\n    const onKey = (e: KeyboardEvent) => {\r\n      if (e.key === \"Escape\") {\r\n        e.preventDefault();\r\n        onClose();\r\n        return;\r\n      }\r\n      if (e.key === \"Tab\") {\r\n        const focusable = getFocusableElements(panelRef.current);\r\n        if (focusable.length === 0) {\r\n          e.preventDefault();\r\n          return;\r\n        }\r\n        const idx = focusable.indexOf(document.activeElement as HTMLElement);\r\n        if (e.shiftKey) {\r\n          if (idx === 0 || document.activeElement === panelRef.current) {\r\n            e.preventDefault();\r\n            focusable[focusable.length - 1].focus();\r\n          }\r\n        } else {\r\n          if (idx === focusable.length - 1) {\r\n            e.preventDefault();\r\n            focusable[0].focus();\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"keydown\", onKey);\r\n    return () => document.removeEventListener(\"keydown\", onKey);\r\n  }, [onClose]);\r\n\r\n  // backdrop click to close\r\n  const onBackdropMouseDown = (e: React.MouseEvent) => {\r\n    if (e.target === overlayRef.current) onClose();\r\n  };\r\n\r\n  // Motion variants for panel and backdrop\r\n  const backdropVariants = {\r\n    hidden: { opacity: 0 },\r\n    visible: { opacity: 0.5 },\r\n    exit: { opacity: 0 },\r\n  };\r\n\r\n  const panelVariants = {\r\n    hidden: { opacity: 0, y: 8, scale: 0.995 },\r\n    visible: { opacity: 1, y: 0, scale: 1 },\r\n    exit: { opacity: 0, y: 8, scale: 0.995 },\r\n  };\r\n\r\n  const modal = (\r\n    <AnimatePresence>\r\n      <div\r\n        ref={overlayRef}\r\n        onMouseDown={onBackdropMouseDown}\r\n        className=\"fixed inset-0 z-50 flex items-center justify-center p-4 sm:p-6\"\r\n        aria-hidden={false}\r\n      >\r\n        {/* Backdrop */}\r\n        <motion.div\r\n          key=\"backdrop\"\r\n          initial=\"hidden\"\r\n          animate=\"visible\"\r\n          exit=\"exit\"\r\n          variants={backdropVariants}\r\n          transition={{ duration: 0.18 }}\r\n          className=\"absolute inset-0 bg-black/60 backdrop-blur-sm\"\r\n        />\r\n\r\n        {/* Panel */}\r\n        <motion.div\r\n          key=\"panel\"\r\n          ref={panelRef}\r\n          role=\"dialog\"\r\n          aria-modal=\"true\"\r\n          aria-label={ariaLabel}\r\n          tabIndex={-1}\r\n          initial=\"hidden\"\r\n          animate=\"visible\"\r\n          exit=\"exit\"\r\n          variants={panelVariants}\r\n          transition={{ duration: 0.22, ease: \"easeOut\" }}\r\n          className={clsx(\r\n            // defaults: professional panel that matches team page design\r\n            \"relative z-10 w-full max-w-2xl rounded-2xl bg-white border border-slate-100 shadow-lg overflow-hidden outline-none\",\r\n            // safe max-height and internal scroll when needed\r\n            \"max-h-[90vh] overflow-auto\",\r\n            // allow consumer to pass additional width/padding overrides\r\n            className\r\n          )}\r\n          style={{ WebkitTapHighlightColor: \"transparent\" }}\r\n        >\r\n          {/* Panel inner: we provide a consistent padding layout for header/body/footer */}\r\n          <div className=\"relative\">\r\n            {/* Close button (top-right) */}\r\n            <button\r\n              aria-label=\"Close dialog\"\r\n              onClick={onClose}\r\n              className=\"absolute right-3 top-3 z-20 inline-flex items-center justify-center rounded-md p-1.5 text-slate-600 hover:bg-slate-100 hover:text-slate-800 transition\"\r\n              type=\"button\"\r\n            >\r\n              <X className=\"w-4 h-4\" />\r\n            </button>\r\n\r\n            {/* Content wrapper */}\r\n            <div className=\"p-4 sm:p-6\">\r\n              {/*\r\n                Children controls layout.\r\n                Consumers (e.g., Teams page) typically render their own header/body inside.\r\n                We provide consistent background and padding so the child's header fits perfectly.\r\n              */}\r\n              {children}\r\n            </div>\r\n          </div>\r\n        </motion.div>\r\n      </div>\r\n    </AnimatePresence>\r\n  );\r\n\r\n  const root = typeof window !== \"undefined\" ? document.getElementById(\"modal-root\") : null;\r\n  if (root) return createPortal(modal, root);\r\n\r\n  // Fallback inline render (shouldn't happen in client)\r\n  return modal as any;\r\n};\r\n\r\nexport default Modal;\r\n"],"names":["React","useEffect","useRef","createPortal","motion","AnimatePresence","clsx","X","ModalProps","children","ReactNode","onClose","ariaLabel","className","FOCUSABLE_SELECTOR","getFocusableElements","container","HTMLElement","Array","from","querySelectorAll","filter","el","offsetWidth","offsetHeight","getClientRects","length","Modal","FC","overlayRef","HTMLDivElement","panelRef","lastFocused","root","document","getElementById","createElement","id","body","appendChild","current","activeElement","originalOverflow","style","overflow","t","setTimeout","focusable","focus","clearTimeout","onKey","e","KeyboardEvent","key","preventDefault","idx","indexOf","shiftKey","addEventListener","removeEventListener","onBackdropMouseDown","MouseEvent","target","backdropVariants","hidden","opacity","visible","exit","panelVariants","y","scale","modal","duration","ease","WebkitTapHighlightColor","window"],"mappings":"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","ignoreList":[],"debugId":null}},
    {"offset": {"line": 259, "column": 0}, "map": {"version":3,"sources":["E:/Attack Capital/SignalHub/frontend/src/app/dashboard/manager/People/page.tsx"],"sourcesContent":["// src/app/dashboard/manager/People/page.tsx\r\n\"use client\";\r\n\r\nimport React, { useEffect, useMemo, useRef, useState } from \"react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport {\r\n  Search,\r\n  User as UserIcon,\r\n  Users,\r\n  CheckCircle2,\r\n  MoreVertical,\r\n  Mail as MailIcon,\r\n  Phone as PhoneIcon,\r\n  Calendar,\r\n  Globe,\r\n  UserCheck,\r\n  UserPlus,\r\n  X as XIcon,\r\n} from \"lucide-react\";\r\n\r\nimport { Modal } from \"@/components/ui/modal\";\r\nimport dynamic from \"next/dynamic\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\n// TeamChat is client-only (heavy + socket)\r\nconst TeamChat = dynamic(\r\n  () => import(\"@/components/chat/TeamChat\").then((m) => m.default),\r\n  { ssr: false }\r\n);\r\n\r\n/* ============================\r\n   Types\r\n   ============================ */\r\ntype Role = \"Manager\" | \"Team Lead\" | \"Engineer\" | \"Support\" | \"Sales\" | string;\r\ntype Presence = \"online\" | \"away\" | \"offline\" | string;\r\n\r\ntype Person = {\r\n  id: string;\r\n  name: string;\r\n  role: Role;\r\n  presence: Presence;\r\n  email?: string | null;\r\n  phone?: string | null;\r\n  location?: string | null;\r\n  tasksAssigned?: number;\r\n  respondRate?: number; // percentage\r\n  hiredAt?: string; // human readable mock\r\n  starred?: boolean;\r\n  label?: { text: string; colorClass: string } | null;\r\n};\r\n\r\n/* ============================\r\n   Small accessible IconButton\r\n   ============================ */\r\nconst IconButton: React.FC<{\r\n  children: React.ReactNode;\r\n  ariaLabel?: string;\r\n  title?: string;\r\n  onClick?: (e: React.MouseEvent) => void;\r\n  className?: string;\r\n}> = ({ children, ariaLabel, title, onClick, className = \"\" }) => (\r\n  <button\r\n    type=\"button\"\r\n    aria-label={ariaLabel}\r\n    title={title}\r\n    onClick={onClick}\r\n    className={`p-1.5 rounded-lg hover:bg-slate-100 transition-colors focus:outline-none focus:ring-2 focus:ring-slate-200 ${className}`}\r\n  >\r\n    {children}\r\n  </button>\r\n);\r\n\r\n/* ============================\r\n   Portrait Employee Card\r\n   - tall card: height > width\r\n   ============================ */\r\ntype EmployeeCardProps = {\r\n  person: Person;\r\n  onOpenDetails: (p: Person) => void;\r\n  onMessage: (p: Person) => void;\r\n};\r\n\r\nconst EmployeeCard = React.forwardRef<HTMLButtonElement, EmployeeCardProps>(\r\n  ({ person, onOpenDetails, onMessage }, ref) => {\r\n    const isOnline = person.presence === \"online\";\r\n\r\n    return (\r\n      <motion.button\r\n        ref={ref}\r\n        type=\"button\"\r\n        onClick={() => onOpenDetails(person)}\r\n        whileHover={{ y: -2, boxShadow: \"0 10px 25px rgba(15,23,42,0.12)\" }}\r\n        transition={{ type: \"spring\", stiffness: 260, damping: 20 }}\r\n        className=\"w-full max-w-[230px] min-h-[280px] bg-white rounded-2xl border border-slate-200 shadow-sm flex flex-col items-stretch text-left focus:outline-none focus:ring-2 focus:ring-blue-500/40 hover:border-blue-300\"\r\n      >\r\n        {/* Top: avatar + name + role */}\r\n        <div className=\"flex flex-col items-center px-4 pt-4\">\r\n          <div\r\n            className={`w-14 h-14 rounded-full flex items-center justify-center text-lg font-medium ${\r\n              isOnline\r\n                ? \"bg-gradient-to-br from-emerald-500 to-teal-400 text-white\"\r\n                : \"bg-slate-100 text-slate-600\"\r\n            }`}\r\n          >\r\n            {person.name?.[0] ?? \"U\"}\r\n          </div>\r\n\r\n          <div className=\"mt-3 text-center\">\r\n            <div className=\"text-sm font-semibold text-slate-900 truncate max-w-[200px]\">\r\n              {person.name}\r\n            </div>\r\n            <div className=\"text-xs text-slate-500 truncate max-w-[200px] mt-0.5\">\r\n              {person.role}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Presence pill */}\r\n          <div className=\"mt-2\">\r\n            <span\r\n              className={`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-[11px] font-medium ${\r\n                isOnline\r\n                  ? \"bg-emerald-50 text-emerald-700 border border-emerald-100\"\r\n                  : \"bg-slate-50 text-slate-500 border border-slate-100\"\r\n              }`}\r\n            >\r\n              <span\r\n                className={`w-1.5 h-1.5 rounded-full ${\r\n                  isOnline\r\n                    ? \"bg-emerald-500\"\r\n                    : person.presence === \"away\"\r\n                    ? \"bg-amber-400\"\r\n                    : \"bg-slate-400\"\r\n                }`}\r\n              />\r\n              <span className=\"capitalize\">{person.presence}</span>\r\n            </span>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Middle: small info */}\r\n        <div className=\"flex-1 px-4 pt-3 pb-2 text-xs text-slate-600 space-y-1.5\">\r\n          <div className=\"flex items-center gap-2 truncate\">\r\n            <MailIcon className=\"w-3 h-3 text-slate-400 shrink-0\" />\r\n            <span className=\"truncate\">{person.email ?? \"No email\"}</span>\r\n          </div>\r\n          {person.location && (\r\n            <div className=\"flex items-center gap-2 truncate\">\r\n              <Globe className=\"w-3 h-3 text-slate-400 shrink-0\" />\r\n              <span className=\"truncate\">{person.location}</span>\r\n            </div>\r\n          )}\r\n          {typeof person.tasksAssigned === \"number\" && (\r\n            <div className=\"flex items-center gap-2 truncate\">\r\n              <UserCheck className=\"w-3 h-3 text-slate-400 shrink-0\" />\r\n              <span>{person.tasksAssigned} tasks assigned</span>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Footer: actions */}\r\n        <div className=\"px-4 pb-4 pt-2 mt-auto flex items-center gap-2\">\r\n          <button\r\n            type=\"button\"\r\n            onClick={(e) => {\r\n              e.stopPropagation();\r\n              onOpenDetails(person);\r\n            }}\r\n            className=\"flex-1 px-2 py-1.5 rounded-lg bg-slate-50 hover:bg-slate-100 text-[11px] font-medium text-slate-700\"\r\n          >\r\n            View details\r\n          </button>\r\n\r\n          <button\r\n            type=\"button\"\r\n            onClick={(e) => {\r\n              e.stopPropagation();\r\n              onMessage(person);\r\n            }}\r\n            className=\"p-1.5 rounded-lg bg-blue-600 hover:bg-blue-700 text-white\"\r\n            aria-label={`Message ${person.name}`}\r\n          >\r\n            <MailIcon className=\"w-3.5 h-3.5\" />\r\n          </button>\r\n        </div>\r\n      </motion.button>\r\n    );\r\n  }\r\n);\r\n\r\nEmployeeCard.displayName = \"EmployeeCard\";\r\n\r\n/* ============================\r\n   Person Modal (details + actions)\r\n   ============================ */\r\nconst PersonModal: React.FC<{\r\n  person: Person | null;\r\n  open: boolean;\r\n  onClose: () => void;\r\n  onMessageClick: (person: Person) => void;\r\n  initialFocusRef?: React.RefObject<HTMLButtonElement | null>;\r\n}> = ({ person, open, onClose, onMessageClick, initialFocusRef }) => {\r\n  const closeButtonRef = useRef<HTMLButtonElement | null>(null);\r\n\r\n  useEffect(() => {\r\n    if (!open) return;\r\n    const onKey = (e: KeyboardEvent) => {\r\n      if (e.key === \"Escape\") onClose();\r\n    };\r\n    document.addEventListener(\"keydown\", onKey);\r\n    return () => document.removeEventListener(\"keydown\", onKey);\r\n  }, [open, onClose]);\r\n\r\n  useEffect(() => {\r\n    if (open) {\r\n      const t = setTimeout(\r\n        () => closeButtonRef.current?.focus(),\r\n        60\r\n      );\r\n      return () => clearTimeout(t);\r\n    }\r\n    if (initialFocusRef?.current) {\r\n      try {\r\n        initialFocusRef.current.focus();\r\n      } catch {\r\n        /* ignore */\r\n      }\r\n    }\r\n  }, [open, initialFocusRef]);\r\n\r\n  if (!person) return null;\r\n\r\n  return (\r\n    <AnimatePresence>\r\n      {open && (\r\n        <Modal\r\n          onClose={onClose}\r\n          ariaLabel={`Details for ${person.name}`}\r\n        >\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 8 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            exit={{ opacity: 0, y: 8 }}\r\n            transition={{ duration: 0.18 }}\r\n            className=\"max-w-2xl w-full bg-white rounded-2xl shadow-xl overflow-hidden\"\r\n          >\r\n            <div className=\"flex items-center justify-between p-4 border-b border-slate-100\">\r\n              <div className=\"flex items-center gap-3\">\r\n                <div\r\n                  className={`w-12 h-12 rounded-full flex items-center justify-center ${\r\n                    person.presence === \"online\"\r\n                      ? \"bg-gradient-to-br from-emerald-500 to-teal-400\"\r\n                      : \"bg-slate-100\"\r\n                  }`}\r\n                >\r\n                  <UserIcon\r\n                    className={`w-6 h-6 ${\r\n                      person.presence === \"online\"\r\n                        ? \"text-white\"\r\n                        : \"text-slate-500\"\r\n                    }`}\r\n                  />\r\n                </div>\r\n\r\n                <div>\r\n                  <div className=\"text-lg font-semibold text-slate-900\">\r\n                    {person.name}\r\n                  </div>\r\n                  <div className=\"text-sm text-slate-500\">\r\n                    {person.role}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"flex items-center gap-2\">\r\n                <IconButton\r\n                  ariaLabel=\"Close details\"\r\n                  title=\"Close\"\r\n                  onClick={onClose}\r\n                  className=\"bg-slate-50\"\r\n                >\r\n                  <XIcon className=\"w-4 h-4\" />\r\n                </IconButton>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"p-6 grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n              <div className=\"space-y-4\">\r\n                <div>\r\n                  <div className=\"text-xs text-slate-500\">\r\n                    Contact\r\n                  </div>\r\n                  <div className=\"mt-1 text-sm text-slate-800\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <MailIcon className=\"w-4 h-4 text-slate-400\" />\r\n                      <span>{person.email ?? \"—\"}</span>\r\n                    </div>\r\n                    <div className=\"mt-2 flex items-center gap-2\">\r\n                      <PhoneIcon className=\"w-4 h-4 text-slate-400\" />\r\n                      <span>{person.phone ?? \"—\"}</span>\r\n                    </div>\r\n                    <div className=\"mt-2 flex items-center gap-2\">\r\n                      <Globe className=\"w-4 h-4 text-slate-400\" />\r\n                      <span>{person.location ?? \"—\"}</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div>\r\n                  <div className=\"text-xs text-slate-500\">\r\n                    Work\r\n                  </div>\r\n                  <div className=\"mt-1 text-sm text-slate-800\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <Users className=\"w-4 h-4 text-slate-400\" />\r\n                      <span>{person.role}</span>\r\n                    </div>\r\n                    <div className=\"mt-2 flex items-center gap-2\">\r\n                      <Calendar className=\"w-4 h-4 text-slate-400\" />\r\n                      <span>Hired: {person.hiredAt ?? \"—\"}</span>\r\n                    </div>\r\n                    <div className=\"mt-2 flex items-center gap-2\">\r\n                      <UserCheck className=\"w-4 h-4 text-slate-400\" />\r\n                      <span>\r\n                        {person.tasksAssigned ?? 0} tasks assigned\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"space-y-4\">\r\n                <div>\r\n                  <div className=\"text-xs text-slate-500\">\r\n                    Activity & metrics\r\n                  </div>\r\n                  <div className=\"mt-1 text-sm text-slate-800 space-y-2\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <div className=\"text-sm text-slate-600\">\r\n                        Response rate\r\n                      </div>\r\n                      <div className=\"font-medium\">\r\n                        {person.respondRate ?? 0}%\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <div className=\"text-sm text-slate-600\">\r\n                        Presence\r\n                      </div>\r\n                      <div className=\"font-medium capitalize\">\r\n                        {person.presence}\r\n                      </div>\r\n                    </div>\r\n                    {person.label && (\r\n                      <div className=\"flex items-center justify-between\">\r\n                        <div className=\"text-sm text-slate-600\">\r\n                          Tag\r\n                        </div>\r\n                        <div\r\n                          className={`px-2 py-0.5 rounded-md text-xs font-medium ${person.label.colorClass}`}\r\n                        >\r\n                          {person.label.text}\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n\r\n                <div>\r\n                  <div className=\"text-xs text-slate-500\">\r\n                    Actions\r\n                  </div>\r\n                  <div className=\"mt-2 flex items-center gap-2\">\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => onMessageClick(person)}\r\n                      className=\"px-3 py-2 rounded-lg bg-slate-100 text-sm flex items-center gap-2 hover:bg-slate-200\"\r\n                    >\r\n                      <MailIcon className=\"w-4 h-4\" />\r\n                      Message\r\n                    </button>\r\n\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() =>\r\n                        console.log(\"Call\", person.id)\r\n                      }\r\n                      className=\"px-3 py-2 rounded-lg bg-slate-100 text-sm flex items-center gap-2 hover:bg-slate-200\"\r\n                    >\r\n                      <PhoneIcon className=\"w-4 h-4\" />\r\n                      Call\r\n                    </button>\r\n\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() =>\r\n                        console.log(\"More actions\", person.id)\r\n                      }\r\n                      className=\"p-2 rounded-lg bg-slate-50 hover:bg-slate-100\"\r\n                      aria-label=\"More\"\r\n                    >\r\n                      <MoreVertical className=\"w-4 h-4\" />\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"p-4 border-t border-slate-100 text-right\">\r\n              <button\r\n                ref={closeButtonRef}\r\n                type=\"button\"\r\n                onClick={onClose}\r\n                className=\"px-4 py-2 rounded-lg bg-gradient-to-br from-blue-500 to-cyan-500 text-white font-medium hover:opacity-95\"\r\n              >\r\n                Close\r\n              </button>\r\n            </div>\r\n          </motion.div>\r\n        </Modal>\r\n      )}\r\n    </AnimatePresence>\r\n  );\r\n};\r\n\r\n/* ============================\r\n   Message Modal: opens a TeamChat for a direct chat\r\n   ============================ */\r\nconst MessageModal: React.FC<{\r\n  open: boolean;\r\n  onClose: () => void;\r\n  memberId: string | null;\r\n  memberName?: string | null;\r\n  currentUser: { id: string; name?: string } | null;\r\n}> = ({\r\n  open,\r\n  onClose,\r\n  memberId,\r\n  memberName,\r\n  currentUser,\r\n}) => {\r\n  const [chatId, setChatId] = useState<string | null>(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [errorText, setErrorText] = useState<string | null>(\r\n    null\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (!open) {\r\n      setChatId(null);\r\n      setErrorText(null);\r\n      return;\r\n    }\r\n    if (!memberId) return;\r\n\r\n    let cancelled = false;\r\n\r\n    const ensureChat = async () => {\r\n      setLoading(true);\r\n      setErrorText(null);\r\n\r\n      try {\r\n        const meId = currentUser?.id\r\n          ? String(currentUser.id)\r\n          : null;\r\n\r\n        // 1) try to find an existing direct chat involving this member (and me if known)\r\n        try {\r\n          const qRes = await fetch(`/api/chats`, {\r\n            credentials: \"same-origin\",\r\n          });\r\n          if (!cancelled && qRes.ok) {\r\n            const j = await qRes.json().catch(() => ({}));\r\n            const list: any[] =\r\n              j?.chats ?? j?.items ?? j ?? [];\r\n\r\n            const found =\r\n              list.find((c) => {\r\n                if (!c) return false;\r\n\r\n                const t = (\r\n                  c.type ?? c.chatType ?? \"\"\r\n                )\r\n                  .toString()\r\n                  .toLowerCase();\r\n                const isDirectType =\r\n                  t.includes(\"direct\") ||\r\n                  t.includes(\"dm\") ||\r\n                  t.includes(\"one_to_one\") ||\r\n                  t.includes(\"private\");\r\n\r\n                const rawMembers =\r\n                  c.members ??\r\n                  c.participants ??\r\n                  c.users ??\r\n                  c.userIds ??\r\n                  c.memberIds ??\r\n                  c.participantIds ??\r\n                  [];\r\n\r\n                if (!Array.isArray(rawMembers))\r\n                  return false;\r\n\r\n                const ids = rawMembers\r\n                  .map((m: any) => {\r\n                    if (\r\n                      m === null ||\r\n                      m === undefined\r\n                    )\r\n                      return null;\r\n                    if (\r\n                      typeof m === \"string\" ||\r\n                      typeof m === \"number\"\r\n                    ) {\r\n                      return String(m);\r\n                    }\r\n                    // object: try common shapes\r\n                    return (\r\n                      (m.userId ??\r\n                        m.id ??\r\n                        m._id ??\r\n                        m.user?.id ??\r\n                        m.user?._id ??\r\n                        null) &&\r\n                      String(\r\n                        m.userId ??\r\n                          m.id ??\r\n                          m._id ??\r\n                          m.user?.id ??\r\n                          m.user?._id\r\n                      )\r\n                    );\r\n                  })\r\n                  .filter(Boolean) as string[];\r\n\r\n                const targetId = String(memberId);\r\n                const hasMember = ids.includes(targetId);\r\n                const hasMe =\r\n                  meId ? ids.includes(meId) : true;\r\n\r\n                // prefer 1:1-ish conversations\r\n                const isOneToOne = ids.length <= 2;\r\n\r\n                return (\r\n                  hasMember &&\r\n                  hasMe &&\r\n                  (isDirectType || isOneToOne)\r\n                );\r\n              }) ?? null;\r\n\r\n            if (found) {\r\n              const id =\r\n                found.id ??\r\n                found.chatId ??\r\n                found._id ??\r\n                null;\r\n              if (id && !cancelled) {\r\n                setChatId(String(id));\r\n                setLoading(false);\r\n                return;\r\n              }\r\n            }\r\n          }\r\n        } catch (e) {\r\n          console.warn(\"chat list check failed:\", e);\r\n        }\r\n\r\n        // 2) Try several possible payload shapes to create a new direct chat\r\n        const attempts = [\r\n          {\r\n            body: {\r\n              type: \"direct\",\r\n              memberId,\r\n              userIds: meId ? [meId, memberId] : [memberId],\r\n            },\r\n            label: \"type:direct + memberId + userIds\",\r\n          },\r\n          {\r\n            body: {\r\n              type: \"direct\",\r\n              userId: memberId,\r\n              userIds: meId ? [meId, memberId] : [memberId],\r\n            },\r\n            label: \"type:direct + userId + userIds\",\r\n          },\r\n          {\r\n            body: {\r\n              type: \"direct\",\r\n              userIds: meId ? [meId, memberId] : [memberId],\r\n            },\r\n            label: \"type:direct + userIds\",\r\n          },\r\n          {\r\n            body: {\r\n              userIds: meId ? [meId, memberId] : [memberId],\r\n            },\r\n            label: \"userIds: [me, member]\",\r\n          },\r\n          {\r\n            body: {\r\n              memberIds: meId ? [meId, memberId] : [memberId],\r\n            },\r\n            label: \"memberIds: [me, member]\",\r\n          },\r\n          {\r\n            body: {\r\n              participantIds: meId\r\n                ? [meId, memberId]\r\n                : [memberId],\r\n            },\r\n            label: \"participantIds: [me, member]\",\r\n          },\r\n          {\r\n            body: { directTo: memberId },\r\n            label: \"directTo: memberId\",\r\n          },\r\n        ];\r\n\r\n        for (const a of attempts) {\r\n          if (cancelled) return;\r\n\r\n          try {\r\n            const res = await fetch(\"/api/chats\", {\r\n              method: \"POST\",\r\n              credentials: \"same-origin\",\r\n              headers: {\r\n                \"Content-Type\": \"application/json\",\r\n              },\r\n              body: JSON.stringify(a.body),\r\n            });\r\n\r\n            if (cancelled) return;\r\n\r\n            if (res.ok) {\r\n              const j = await res\r\n                .json()\r\n                .catch(() => ({}));\r\n              const created =\r\n                j?.chat ?? j?.message ?? j ?? {};\r\n              const id =\r\n                created.id ??\r\n                created.chatId ??\r\n                created._id ??\r\n                null;\r\n              if (id) {\r\n                setChatId(String(id));\r\n                setLoading(false);\r\n                return;\r\n              }\r\n            } else {\r\n              const txt = await res\r\n                .text()\r\n                .catch(() => \"\");\r\n              console.warn(\r\n                `[create chat attempt \"${a.label}\" returned ${res.status}]`,\r\n                txt\r\n              );\r\n              setErrorText(\r\n                `Attempt \"${a.label}\" → ${res.status}: ${txt}`\r\n              );\r\n            }\r\n          } catch (e: any) {\r\n            console.warn(\r\n              `create attempt \"${a.label}\" failed:`,\r\n              e\r\n            );\r\n            setErrorText(\r\n              `Attempt \"${a.label}\" failed: ${String(\r\n                e?.message ?? e\r\n              )}`\r\n            );\r\n          }\r\n        }\r\n\r\n        if (!cancelled) {\r\n          setChatId(null);\r\n        }\r\n      } finally {\r\n        if (!cancelled) setLoading(false);\r\n      }\r\n    };\r\n\r\n    void ensureChat();\r\n\r\n    return () => {\r\n      cancelled = true;\r\n    };\r\n  }, [open, memberId, currentUser]);\r\n\r\n  return (\r\n    <AnimatePresence>\r\n      {open && (\r\n        <Modal\r\n          onClose={onClose}\r\n          ariaLabel={`Chat with ${memberName ?? \"member\"}`}\r\n        >\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 8 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            exit={{ opacity: 0, y: 8 }}\r\n            transition={{ duration: 0.14 }}\r\n            className=\"max-w-3xl w-full bg-white rounded-2xl shadow-xl overflow-hidden\"\r\n          >\r\n            <div className=\"flex items-center justify-between p-3 border-b border-slate-100\">\r\n              <div className=\"flex items-center gap-3\">\r\n                <div className=\"w-10 h-10 rounded-md bg-slate-100 flex items-center justify-center\">\r\n                  <UserIcon className=\"w-5 h-5 text-slate-600\" />\r\n                </div>\r\n                <div>\r\n                  <div className=\"text-sm font-medium text-slate-900\">\r\n                    Chat with {memberName ?? \"member\"}\r\n                  </div>\r\n                  <div className=\"text-xs text-slate-500\">\r\n                    {chatId\r\n                      ? `Chat: ${chatId}`\r\n                      : loading\r\n                      ? \"Preparing chat…\"\r\n                      : errorText\r\n                      ? \"Could not create chat\"\r\n                      : \"Preparing chat…\"}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"flex items-center gap-2\">\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={onClose}\r\n                  className=\"px-3 py-1 rounded-md bg-slate-50 hover:bg-slate-100\"\r\n                >\r\n                  Close\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"p-4 min-h-[320px]\">\r\n              {loading ? (\r\n                <div className=\"text-sm text-slate-500\">\r\n                  Preparing chat…\r\n                </div>\r\n              ) : chatId ? (\r\n                // render TeamChat for this chatId\r\n                // @ts-ignore (dynamic import client-only)\r\n                <div className=\"h-[60vh]\">\r\n                  <TeamChat\r\n                    chatId={chatId}\r\n                    currentUser={\r\n                      currentUser\r\n                        ? {\r\n                            id: currentUser.id,\r\n                            name: currentUser.name,\r\n                          }\r\n                        : { id: \"me\" }\r\n                    }\r\n                  />\r\n                </div>\r\n              ) : (\r\n                <div className=\"text-sm text-rose-600\">\r\n                  Couldn't create chat automatically. Please\r\n                  try again or contact your administrator.\r\n                  {errorText && (\r\n                    <div className=\"mt-2 text-xs text-slate-500 break-words max-h-32 overflow-auto border-t pt-2\">\r\n                      {errorText}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </motion.div>\r\n        </Modal>\r\n      )}\r\n    </AnimatePresence>\r\n  );\r\n};\r\n\r\n/* ============================\r\n   Main People Page\r\n   ============================ */\r\nexport default function ManagerPeoplePage(): JSX.Element {\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [filter, setFilter] = useState<\r\n    \"all\" | \"online\" | \"offline\" | \"role\"\r\n  >(\"all\");\r\n  const [team, setTeam] = useState<string>(\"Growth Team\");\r\n\r\n  const [people, setPeople] = useState<Person[]>([]);\r\n  const [loading, setLoading] = useState<boolean>(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const [selectedPerson, setSelectedPerson] =\r\n    useState<Person | null>(null);\r\n  const [isModalOpen, setIsModalOpen] =\r\n    useState(false);\r\n  const lastTriggerRef =\r\n    useRef<HTMLButtonElement | null>(null);\r\n\r\n  // message modal state\r\n  const [messageModalOpen, setMessageModalOpen] =\r\n    useState(false);\r\n  const [messageTargetId, setMessageTargetId] =\r\n    useState<string | null>(null);\r\n  const [messageTargetName, setMessageTargetName] =\r\n    useState<string | null>(null);\r\n\r\n  const router = useRouter();\r\n\r\n  // fetch current user (manager) to pass to TeamChat\r\n  const [me, setMe] = useState<{ id: string; name?: string } | null>(\r\n    null\r\n  );\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const r = await fetch(\"/api/me\", {\r\n          credentials: \"same-origin\",\r\n        });\r\n        if (!r.ok) return;\r\n        const j = await r.json().catch(() => ({}));\r\n        const user = j?.user ?? j ?? null;\r\n        if (user?.id)\r\n          setMe({\r\n            id: String(user.id),\r\n            name: user.name ?? undefined,\r\n          });\r\n      } catch {\r\n        // ignore\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  // load teams -> pick team by name -> fetch members\r\n  useEffect(() => {\r\n    let cancelled = false;\r\n\r\n    const load = async () => {\r\n      setLoading(true);\r\n      setError(null);\r\n      try {\r\n        // 1) fetch teams list\r\n        const res = await fetch(\"/api/teams\", {\r\n          credentials: \"same-origin\",\r\n        });\r\n        if (!res.ok)\r\n          throw new Error(`teams fetch failed ${res.status}`);\r\n        const j = await res.json().catch(() => ({}));\r\n        const list: any[] =\r\n          j?.teams ?? j?.items ?? j ?? [];\r\n\r\n        // 2) find team by name (fallback to first)\r\n        const foundTeam =\r\n          list.find(\r\n            (t: any) =>\r\n              String(t.name || \"\").toLowerCase() ===\r\n              team.toLowerCase()\r\n          ) ?? list[0] ?? null;\r\n        if (!foundTeam) {\r\n          if (!cancelled) setPeople([]);\r\n          return;\r\n        }\r\n\r\n        const teamId =\r\n          foundTeam.id ??\r\n          foundTeam.teamId ??\r\n          foundTeam._id ??\r\n          null;\r\n        if (!teamId) {\r\n          if (!cancelled) setPeople([]);\r\n          return;\r\n        }\r\n\r\n        // 3) fetch team details\r\n        const detailRes = await fetch(\r\n          `/api/teams/${encodeURIComponent(teamId)}`,\r\n          { credentials: \"same-origin\" }\r\n        );\r\n        if (!detailRes.ok) {\r\n          const errText = await detailRes\r\n            .text()\r\n            .catch(() => \"\");\r\n          throw new Error(\r\n            `team detail failed ${detailRes.status} ${errText}`\r\n          );\r\n        }\r\n        const dj = await detailRes\r\n          .json()\r\n          .catch(() => ({}));\r\n        const teamObj = dj?.team ?? dj ?? {};\r\n\r\n        // 4) map members to Person[]\r\n        const members = (teamObj.members ?? []).map(\r\n          (m: any) => {\r\n            const id =\r\n              m.userId ?? m.user?.id ?? m.id ?? null;\r\n            const name =\r\n              m.name ??\r\n              m.user?.name ??\r\n              (m.user ? `${m.user.name}` : null) ??\r\n              (id ? `User ${id}` : \"Unknown\");\r\n            return {\r\n              id: String(id ?? \"\"),\r\n              name: name ?? \"Unknown\",\r\n              role: (m.role ?? m.user?.role ?? \"Employee\") as Role,\r\n              presence: \"offline\" as Presence,\r\n              email:\r\n                m.email ?? m.user?.email ?? null,\r\n              phone: null,\r\n              location: null,\r\n              tasksAssigned: 0,\r\n              respondRate: 0,\r\n              hiredAt: null,\r\n              starred: false,\r\n              label: null,\r\n            } as Person;\r\n          }\r\n        );\r\n\r\n        if (!cancelled) setPeople(members);\r\n      } catch (err: any) {\r\n        console.warn(\"Failed to load people:\", err);\r\n        if (!cancelled)\r\n          setError(\"Failed to load team members\");\r\n      } finally {\r\n        if (!cancelled) setLoading(false);\r\n      }\r\n    };\r\n\r\n    void load();\r\n    return () => {\r\n      cancelled = true;\r\n    };\r\n  }, [team]);\r\n\r\n  // click handlers\r\n  const openPersonModal = (\r\n    person: Person,\r\n    triggerRef?: React.RefObject<HTMLButtonElement>\r\n  ) => {\r\n    setSelectedPerson(person);\r\n    setIsModalOpen(true);\r\n    if (triggerRef?.current)\r\n      lastTriggerRef.current = triggerRef.current;\r\n  };\r\n\r\n  const closePersonModal = () => {\r\n    setIsModalOpen(false);\r\n    setSelectedPerson(null);\r\n  };\r\n\r\n  const handleMessageClick = (person: Person) => {\r\n    setMessageTargetId(person.id);\r\n    setMessageTargetName(person.name);\r\n    setMessageModalOpen(true);\r\n  };\r\n\r\n  // search + filter\r\n  const filtered = useMemo(() => {\r\n    const q = searchQuery.trim().toLowerCase();\r\n    return people.filter((p) => {\r\n      const matchesSearch =\r\n        q === \"\" ||\r\n        p.name.toLowerCase().includes(q) ||\r\n        (p.email ?? \"\")\r\n          .toLowerCase()\r\n          .includes(q) ||\r\n        String(p.role ?? \"\")\r\n          .toLowerCase()\r\n          .includes(q);\r\n      const matchesFilter =\r\n        filter === \"all\" ||\r\n        (filter === \"online\" &&\r\n          p.presence === \"online\") ||\r\n        (filter === \"offline\" &&\r\n          p.presence === \"offline\") ||\r\n        (filter === \"role\" &&\r\n          p.role === \"Team Lead\");\r\n      return matchesSearch && matchesFilter;\r\n    });\r\n  }, [people, searchQuery, filter]);\r\n\r\n  const onlineCount = people.filter(\r\n    (p) => p.presence === \"online\"\r\n  ).length;\r\n  const totalCount = people.length;\r\n  const avgResponse =\r\n    Math.round(\r\n      (people.reduce(\r\n        (s, p) => s + (p.respondRate ?? 0),\r\n        0\r\n      ) /\r\n        (people.length || 1)) *\r\n        1\r\n    ) / 1;\r\n\r\n  // refs per person card to restore focus\r\n  const cardRefs =\r\n    useRef<\r\n      Map<string, React.RefObject<HTMLButtonElement>>\r\n    >(new Map());\r\n  people.forEach((p) => {\r\n    if (!cardRefs.current.has(p.id))\r\n      cardRefs.current.set(\r\n        p.id,\r\n        React.createRef<HTMLButtonElement>()\r\n      );\r\n  });\r\n\r\n  return (\r\n    <main className=\"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-50 p-4 sm:p-6 lg:p-8\">\r\n      <div className=\"max-w-6xl mx-auto\">\r\n        {/* header */}\r\n        <header className=\"mb-6\">\r\n          <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <h1 className=\"text-2xl sm:text-3xl md:text-4xl font-bold bg-gradient-to-r from-slate-800 to-slate-600 bg-clip-text text-transparent\">\r\n                People\r\n              </h1>\r\n\r\n              {onlineCount > 0 && (\r\n                <motion.div\r\n                  initial={{ scale: 0 }}\r\n                  animate={{ scale: 1 }}\r\n                  className=\"px-3 py-1 bg-gradient-to-br from-blue-500 to-cyan-500 text-white text-sm font-bold rounded-full shadow-lg\"\r\n                >\r\n                  {onlineCount}\r\n                </motion.div>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"flex items-center gap-4\">\r\n              <div className=\"flex items-center gap-2 text-sm text-slate-500\">\r\n                <Users className=\"w-4 h-4\" />\r\n                <span>{team}</span>\r\n              </div>\r\n\r\n              <div className=\"flex items-center gap-2 text-sm text-slate-500\">\r\n                <CheckCircle2 className=\"w-4 h-4\" />\r\n                <span>{avgResponse}% avg response</span>\r\n              </div>\r\n\r\n              <div className=\"flex items-center gap-2 text-sm text-slate-500\">\r\n                <UserPlus className=\"w-4 h-4\" />\r\n                <span>{totalCount} members</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <p className=\"text-sm text-slate-500 mt-2\">\r\n            Browse and message members of your team.\r\n            Click a card to view details or message\r\n            directly.\r\n          </p>\r\n        </header>\r\n\r\n        {/* container */}\r\n        <section className=\"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden\">\r\n          {/* controls */}\r\n          <div className=\"p-4 sm:p-6 border-b border-slate-200\">\r\n            <div className=\"flex flex-col sm:flex-row sm:items-center gap-3\">\r\n              <div className=\"relative flex-1 min-w-[160px]\">\r\n                <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400\" />\r\n                <input\r\n                  type=\"search\"\r\n                  aria-label=\"Search people\"\r\n                  placeholder=\"Search people, email, role...\"\r\n                  value={searchQuery}\r\n                  onChange={(e) =>\r\n                    setSearchQuery(e.target.value)\r\n                  }\r\n                  className=\"w-full pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl text-sm placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 focus:bg-white transition-all duration-150\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"flex items-center gap-2\">\r\n                <div className=\"flex items-center gap-2 overflow-x-auto\">\r\n                  <button\r\n                    onClick={() => setFilter(\"all\")}\r\n                    type=\"button\"\r\n                    className={`px-3 py-2 rounded-xl text-sm ${\r\n                      filter === \"all\"\r\n                        ? \"bg-gradient-to-br from-blue-500 to-cyan-500 text-white\"\r\n                        : \"bg-slate-50 text-slate-600 hover:bg-slate-100\"\r\n                    }`}\r\n                  >\r\n                    All\r\n                  </button>\r\n                  <button\r\n                    onClick={() => setFilter(\"online\")}\r\n                    type=\"button\"\r\n                    className={`px-3 py-2 rounded-xl text-sm ${\r\n                      filter === \"online\"\r\n                        ? \"bg-gradient-to-br from-blue-500 to-cyan-500 text-white\"\r\n                        : \"bg-slate-50 text-slate-600 hover:bg-slate-100\"\r\n                    }`}\r\n                  >\r\n                    Online\r\n                  </button>\r\n                  <button\r\n                    onClick={() => setFilter(\"offline\")}\r\n                    type=\"button\"\r\n                    className={`px-3 py-2 rounded-xl text-sm ${\r\n                      filter === \"offline\"\r\n                        ? \"bg-gradient-to-br from-blue-500 to-cyan-500 text-white\"\r\n                        : \"bg-slate-50 text-slate-600 hover:bg-slate-100\"\r\n                    }`}\r\n                  >\r\n                    Offline\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"ml-auto flex items-center gap-2\">\r\n                <label\r\n                  className=\"sr-only\"\r\n                  htmlFor=\"team-select-people\"\r\n                >\r\n                  Choose team\r\n                </label>\r\n                <select\r\n                  id=\"team-select-people\"\r\n                  value={team}\r\n                  onChange={(e) =>\r\n                    setTeam(e.target.value)\r\n                  }\r\n                  className=\"px-3 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20\"\r\n                >\r\n                  <option>Growth Team</option>\r\n                  <option>Support Team</option>\r\n                  <option>Product Team</option>\r\n                </select>\r\n\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"px-4 py-2 rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 text-white font-medium text-sm shadow-lg hover:opacity-95\"\r\n                  onClick={() => {\r\n                    console.log(\"Invite new member\");\r\n                    router.push(\"/auth/invite\"); // kept as-is\r\n                  }}\r\n                >\r\n                  Invite\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"mt-4 flex flex-col sm:flex-row sm:items-center sm:gap-6 gap-3 text-sm text-slate-600\">\r\n              <span className=\"flex items-center gap-2\">\r\n                <Users className=\"w-4 h-4\" />\r\n                {people.length} total\r\n              </span>\r\n              <span className=\"flex items-center gap-2\">\r\n                <UserCheck className=\"w-4 h-4 text-blue-500\" />\r\n                {onlineCount} online\r\n              </span>\r\n            </div>\r\n          </div>\r\n\r\n          {/* grid of tall cards */}\r\n          <div className=\"p-4 sm:p-6\">\r\n            {loading ? (\r\n              <div className=\"py-10 text-center text-sm text-slate-500\">\r\n                Loading members…\r\n              </div>\r\n            ) : error ? (\r\n              <div className=\"py-10 text-center text-sm text-rose-600\">\r\n                {error}\r\n              </div>\r\n            ) : filtered.length > 0 ? (\r\n              <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4 justify-items-center\">\r\n                {filtered.map((person) => {\r\n                  const ref =\r\n                    cardRefs.current.get(person.id) ??\r\n                    React.createRef<HTMLButtonElement>();\r\n                  cardRefs.current.set(person.id, ref);\r\n\r\n                  return (\r\n                    <EmployeeCard\r\n                      key={person.id}\r\n                      ref={ref}\r\n                      person={person}\r\n                      onOpenDetails={(p) =>\r\n                        openPersonModal(p, ref)\r\n                      }\r\n                      onMessage={handleMessageClick}\r\n                    />\r\n                  );\r\n                })}\r\n              </div>\r\n            ) : (\r\n              <div className=\"py-16 text-center\">\r\n                <div className=\"w-16 h-16 mx-auto mb-4 rounded-2xl bg-gradient-to-br from-slate-100 to-slate-200 flex items-center justify-center\">\r\n                  <Users className=\"w-8 h-8 text-slate-400\" />\r\n                </div>\r\n                <h3 className=\"text-lg font-semibold text-slate-800 mb-2\">\r\n                  No members found\r\n                </h3>\r\n                <p className=\"text-slate-500\">\r\n                  Try adjusting your search, filters, or team\r\n                  selection\r\n                </p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </section>\r\n      </div>\r\n\r\n      {/* Person details modal */}\r\n      <PersonModal\r\n        person={selectedPerson}\r\n        open={isModalOpen}\r\n        onClose={closePersonModal}\r\n        onMessageClick={handleMessageClick}\r\n        initialFocusRef={lastTriggerRef}\r\n      />\r\n\r\n      {/* Message modal (TeamChat) */}\r\n      <MessageModal\r\n        open={messageModalOpen}\r\n        onClose={() => setMessageModalOpen(false)}\r\n        memberId={messageTargetId}\r\n        memberName={messageTargetName ?? undefined}\r\n        currentUser={me}\r\n      />\r\n    </main>\r\n  );\r\n}\r\n"],"names":["c","_c","React","useEffect","useMemo","useRef","useState","motion","AnimatePresence","Search","User","UserIcon","Users","CheckCircle2","MoreVertical","Mail","MailIcon","Phone","PhoneIcon","Calendar","Globe","UserCheck","UserPlus","X","XIcon","Modal","dynamic","useRouter","TeamChat","then","m","default","ssr","Role","Presence","Person","id","name","role","presence","email","phone","location","tasksAssigned","respondRate","hiredAt","starred","label","text","colorClass","IconButton","FC","children","ReactNode","ariaLabel","title","onClick","e","MouseEvent","className","t0","$","$i","Symbol","for","t1","undefined","t2","t3","EmployeeCardProps","person","onOpenDetails","p","onMessage","EmployeeCard","forwardRef","HTMLButtonElement","ref","isOnline","y","boxShadow","type","stiffness","damping","t4","t5","t6","t7","t8","t9","t10","t11","t12","t13","t14","t15","t16","t17","t18","t19","t20","t21","t22","stopPropagation","t23","e_0","t24","t25","t26","t27","t28","displayName","PersonModal","open","onClose","onMessageClick","initialFocusRef","RefObject","closeButtonRef","onKey","key","document","addEventListener","removeEventListener","t","setTimeout","current","focus","clearTimeout","opacity","duration","console","log","MessageModal","memberId","memberName","currentUser","chatId","setChatId","loading","setLoading","errorText","setErrorText","cancelled","ensureChat","meId","String","qRes","fetch","credentials","ok","j","json","catch","list","chats","items","found","find","chatType","toString","toLowerCase","isDirectType","includes","rawMembers","members","participants","users","userIds","memberIds","participantIds","Array","isArray","ids","map","userId","_id","user","filter","Boolean","targetId","hasMember","hasMe","isOneToOne","length","warn","attempts","body","directTo","a","res","method","headers","JSON","stringify","created","chat","message","txt","status","ManagerPeoplePage","JSX","Element","searchQuery","setSearchQuery","setFilter","team","setTeam","people","setPeople","error","setError","selectedPerson","setSelectedPerson","isModalOpen","setIsModalOpen","lastTriggerRef","messageModalOpen","setMessageModalOpen","messageTargetId","setMessageTargetId","messageTargetName","setMessageTargetName","router","me","setMe","r","load","Error","teams","foundTeam","teamId","detailRes","encodeURIComponent","errText","dj","teamObj","err","openPersonModal","triggerRef","closePersonModal","handleMessageClick","filtered","q","trim","matchesSearch","matchesFilter","onlineCount","totalCount","avgResponse","Math","round","reduce","s","cardRefs","Map","forEach","has","set","createRef","scale","target","value","push","get"],"mappings":"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","ignoreList":[],"debugId":null}}]
}