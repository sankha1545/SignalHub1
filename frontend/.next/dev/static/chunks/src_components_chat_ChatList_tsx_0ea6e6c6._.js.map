{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["E:/Attack Capital/SignalHub/frontend/src/components/chat/ChatList.tsx"],"sourcesContent":["\"use client\";\r\n\r\n\r\nimport React, { useEffect, useState } from \"react\";\r\n\r\n\r\nexport default function ChatList({ onOpenChat }: { onOpenChat: (chatId: string) => void }) {\r\nconst [chats, setChats] = useState<any[]>([]);\r\n\r\n\r\nuseEffect(() => {\r\nfetch(`/api/chats`).then((r) => r.json()).then((data) => setChats(data.chats || []));\r\nconst onTeamCreated = (payload: any) => {\r\n// reload minimal list or optimistic push\r\nsetChats((c) => [payload.chat, ...c]);\r\n};\r\n// subscribe to socket event\r\nimport(\"@/lib/socketClient\").then((mod) => {\r\nconst socket = mod.default;\r\nsocket.on(\"team:created\", onTeamCreated);\r\n});\r\nreturn () => {\r\nimport(\"@/lib/socketClient\").then((mod) => mod.default.off(\"team:created\"));\r\n};\r\n}, []);\r\n\r\n\r\nreturn (\r\n<div className=\"divide-y\">\r\n{chats.map((c) => (\r\n<div key={c.id} className=\"p-3 hover:bg-muted cursor-pointer\" onClick={() => onOpenChat(c.id)}>\r\n<div className=\"font-medium\">{c.name}</div>\r\n<div className=\"text-sm text-muted-foreground\">{c.lastMessagePreview || \"No messages yet\"}</div>\r\n</div>\r\n))}\r\n</div>\r\n);\r\n}"],"names":["React","useEffect","useState","ChatList","onOpenChat","chatId","chats","setChats","fetch","then","r","json","data","onTeamCreated","payload","c","chat","mod","socket","default","on","off","map","id","name","lastMessagePreview"],"mappings":";;;;;AAGA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;;;AAHlD,YAAY;;AAMG,kBAAkB,EAAEE,UAAAA,EAAsD,EAAE;;IAC3F,MAAM,CAACE,KAAK,EAAEC,QAAQ,CAAC,OAAGL,yKAAQ,CAAC,CAAO,EAAJ,AAAM,CAAC,CAAL,CAAC;QAGzCD,0KAAS;8BAAC,MAAM;YAChBO,KAAK,CAAC,CAAA,UAAA,CAAY,CAAC,CAACC,IAAI;uCAAEC,CAAC,GAAKA,CAAC,CAACC,IAAI,CAAC,CAAC,CAAC;qCAACF,IAAI;uCAAEG,IAAI,GAAKL,QAAQ,CAACK,IAAI,CAACN,KAAK,IAAI,EAAE,CAAC,CAAC;;YACpF,MAAMO,aAAa;oDAAGA,CAACC,OAAO,EAAE,GAAG,KAAK;oBACxC,yCAAA;oBACAP,QAAQ;6DAAEQ,CAAC,GAAK;gCAACD,OAAO,CAACE,IAAI,EAAE;mCAAGD,CAAC;6BAAC,CAAC;;gBACrC,CAAC;;YACD,4BAAA;YACA,MAAM,CAAC,oBAAoB,CAAC,yEAACN,IAAI;uCAAEQ,GAAG,IAAK;oBAC3C,MAAMC,MAAM,GAAGD,GAAG,CAACE,OAAO;oBAC1BD,MAAM,CAACE,EAAE,CAAC,cAAc,EAAEP,aAAa,CAAC;gBACxC,CAAC,CAAC;;YACF;sCAAO,MAAM;oBACb,MAAM,CAAC,oBAAoB,CAAC,yEAACJ,IAAI;+CAAEQ,KAAG,GAAKA,KAAG,CAACE,OAAO,CAACE,GAAG,CAAC,cAAc,CAAC,CAAC;;gBAC3E,CAAC;;QACD,CAAC;6BAAE,EAAE,CAAC;IAGN,qBACA,6LAAC,GAAG;QAAC,SAAS,EAAC,UAAU,CAAC;kBACzBf,KAAK,CAACgB,GAAG,EAAEP,GAAC,iBACb,6LAAC,GAAG,CAAC,GAAG,CAAC;gBAAO,SAAS,EAAC,mCAAmC;gBAAC,OAAO,CAAC,CAAC,IAAMX,UAAU,CAACW,GAAC,CAACQ,EAAE,CAAC,CAAC,CAAC;;kCAC/F,6LAAC,GAAG;wBAAC,SAAS,EAAC,aAAa,CAAC;kCAACR,GAAC,CAACS,IAAI,CAAC,EAAE,GAAG,CAAC;;;;;;kCAC3C,6LAAC,GAAG;wBAAC,SAAS,EAAC,+BAA+B,CAAC;kCAACT,GAAC,CAACU,kBAAkB,IAAI,iBAAiB,CAAC,EAAE,GAAG,CAAC;;;;;;;eAFtFV,GAAC,CAACQ,EAAE,CAAC;;;;;;;;;;AAOf;;KA/BwBpB,QAAQA","ignoreList":[],"debugId":null}}]
}