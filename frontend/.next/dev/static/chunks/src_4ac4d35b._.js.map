{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["E:/Attack Capital/SignalHub/frontend/src/app/ui/forms/create-team/page.tsx"],"sourcesContent":["// src/app/ui/forms/create-team/page.tsx\r\n\"use client\";\r\n\r\nimport React, { useEffect, useMemo, useState } from \"react\";\r\nimport { motion } from \"framer-motion\";\r\nimport { X, Plus, UserPlus, Star, Trash2 } from \"lucide-react\";\r\nimport socketClient from \"@/lib/socketClient\";\r\n\r\ntype User = { id: string; name?: string; email?: string };\r\ntype TeamMemberShape = { id?: string; user?: { id?: string; name?: string; email?: string } };\r\n\r\ntype Team = {\r\n  id?: string;\r\n  name?: string;\r\n  description?: string | null;\r\n  manager?: { id?: string; name?: string };\r\n  managerId?: string | null;\r\n  featured?: boolean;\r\n  gradient?: string;\r\n  projects?: number;\r\n  completion?: number;\r\n  members?: TeamMemberShape[];\r\n};\r\n\r\ntype Props = {\r\n  managers?: User[]; // optional pre-provided lists (if parent fetched)\r\n  employees?: User[];\r\n  loadingUsers?: boolean;\r\n  initialTeam?: Team | null;\r\n  onCreate?: (teamOrResponse: any) => void;\r\n  onUpdate?: (id: string, payload: any) => void;\r\n  onDelete?: (id: string) => void;\r\n  onClose: () => void;\r\n};\r\n\r\n/* ---------- Helpers ---------- */\r\nfunction getInitialsFromName(name = \"\") {\r\n  const parts = name.trim().split(/\\s+/).filter(Boolean);\r\n  if (parts.length === 0) return \"\";\r\n  if (parts.length === 1) return parts[0].slice(0, 2).toUpperCase();\r\n  return (parts[0][0] + parts[parts.length - 1][0]).toUpperCase();\r\n}\r\n\r\n/**\r\n * Fetches a URL expecting a list or wrapper object { users: [...] } etc.\r\n * Returns array or throws on HTTP error.\r\n */\r\nasync function fetchJsonList(url: string) {\r\n  const res = await fetch(url, { credentials: \"same-origin\" });\r\n  if (!res.ok) throw new Error(`HTTP ${res.status}`);\r\n  const j = await res.json().catch(() => null);\r\n  if (!j) return [];\r\n  if (Array.isArray(j)) return j;\r\n  if (Array.isArray((j as any).users)) return (j as any).users;\r\n  if (Array.isArray((j as any).data)) return (j as any).data;\r\n  if (Array.isArray((j as any).teams)) return (j as any).teams;\r\n  return [];\r\n}\r\n\r\n/* ---------- Component ---------- */\r\nexport default function CreateTeamForm({\r\n  managers: managersProp,\r\n  employees: employeesProp,\r\n  loadingUsers: loadingUsersProp = false,\r\n  initialTeam = null,\r\n  onCreate,\r\n  onUpdate,\r\n  onDelete,\r\n  onClose,\r\n}: Props) {\r\n  const isEdit = Boolean(initialTeam?.id);\r\n\r\n  // Controlled form state (initialize from initialTeam if present)\r\n  const [name, setName] = useState(initialTeam?.name ?? \"\");\r\n  const [description, setDescription] = useState(initialTeam?.description ?? \"\");\r\n  const [managerId, setManagerId] = useState<string | \"\">(initialTeam?.manager?.id ?? initialTeam?.managerId ?? \"\");\r\n  const [featured, setFeatured] = useState<boolean>(initialTeam?.featured ?? false);\r\n  const [gradient, setGradient] = useState<string>(initialTeam?.gradient ?? \"from-blue-500 to-cyan-500\");\r\n  // Use number | \"\" pattern so empty field stays empty\r\n  const [projects, setProjects] = useState<number | \"\">(initialTeam?.projects ?? \"\");\r\n  const [completion, setCompletion] = useState<number | \"\">(initialTeam?.completion ?? \"\");\r\n  const [memberIds, setMemberIds] = useState<string[]>(\r\n    () =>\r\n      (initialTeam?.members ?? []).map((m: any) => String(m?.user?.id ?? m?.userId ?? m?.id ?? m)) ?? []\r\n  );\r\n\r\n  // Directory users (fetched or from props)\r\n  const [employees, setEmployees] = useState<User[]>(employeesProp ?? []);\r\n  const [managers, setManagers] = useState<User[]>(managersProp ?? []);\r\n  const [loadingManagers, setLoadingManagers] = useState<boolean>(!!loadingUsersProp);\r\n  const [loadingEmployees, setLoadingEmployees] = useState<boolean>(!!loadingUsersProp);\r\n\r\n  // UI\r\n  const [membersInput, setMembersInput] = useState(\"\");\r\n  const [submitting, setSubmitting] = useState(false);\r\n  const [deleting, setDeleting] = useState(false);\r\n  const [errorMsg, setErrorMsg] = useState<string | null>(null);\r\n\r\n  // Gradient choices\r\n  const gradientOptions = [\r\n    { id: \"blue\", label: \"Blue / Cyan\", value: \"from-blue-500 to-cyan-500\" },\r\n    { id: \"violet\", label: \"Violet / Purple\", value: \"from-violet-500 to-purple-500\" },\r\n    { id: \"orange\", label: \"Orange / Rose\", value: \"from-orange-500 to-rose-500\" },\r\n    { id: \"emerald\", label: \"Emerald / Teal\", value: \"from-emerald-500 to-teal-500\" },\r\n    { id: \"cyan\", label: \"Cyan / Blue\", value: \"from-cyan-500 to-blue-500\" },\r\n    { id: \"pink\", label: \"Pink / Rose\", value: \"from-pink-500 to-rose-500\" },\r\n  ];\r\n\r\n  // Fetch lists if parent didn't provide them\r\n  useEffect(() => {\r\n    let mounted = true;\r\n\r\n    if (!managersProp) {\r\n      setLoadingManagers(true);\r\n      fetchJsonList(\"/api/users?role=MANAGER\")\r\n        .then((list) => {\r\n          if (!mounted) return;\r\n          setManagers(list.map((u: any) => ({ id: String(u.id), name: u.name ?? u.email ?? u.id, email: u.email })));\r\n        })\r\n        .catch((err) => {\r\n          console.warn(\"Could not load managers:\", err);\r\n          if (mounted) setManagers([]);\r\n        })\r\n        .finally(() => {\r\n          if (mounted) setLoadingManagers(false);\r\n        });\r\n    } else {\r\n      setManagers(managersProp);\r\n      setLoadingManagers(false);\r\n    }\r\n\r\n    if (!employeesProp) {\r\n      setLoadingEmployees(true);\r\n      fetchJsonList(\"/api/users?role=EMPLOYEE\")\r\n        .then((list) => {\r\n          if (!mounted) return;\r\n          setEmployees(list.map((u: any) => ({ id: String(u.id), name: u.name ?? u.email ?? u.id, email: u.email })));\r\n        })\r\n        .catch((err) => {\r\n          console.warn(\"Could not load employees:\", err);\r\n          if (mounted) setEmployees([]);\r\n        })\r\n        .finally(() => {\r\n          if (mounted) setLoadingEmployees(false);\r\n        });\r\n    } else {\r\n      setEmployees(employeesProp);\r\n      setLoadingEmployees(false);\r\n    }\r\n\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, [managersProp, employeesProp]);\r\n\r\n  // Keep initialTeam changes in sync\r\n  useEffect(() => {\r\n    if (!initialTeam) return;\r\n    setName(initialTeam.name ?? \"\");\r\n    setDescription(initialTeam.description ?? \"\");\r\n    setManagerId(initialTeam.manager?.id ?? initialTeam.managerId ?? \"\");\r\n    setFeatured(initialTeam.featured ?? false);\r\n    setGradient(initialTeam.gradient ?? \"from-blue-500 to-cyan-500\");\r\n    setProjects(initialTeam.projects ?? \"\");\r\n    setCompletion(initialTeam.completion ?? \"\");\r\n    setMemberIds((initialTeam.members ?? []).map((m: any) => String(m?.user?.id ?? m?.userId ?? m?.id ?? m)));\r\n  }, [initialTeam]);\r\n\r\n  // Selected member objects for chips UI\r\n  const selectedMembers = useMemo(() => {\r\n    return memberIds\r\n      .map((id) => employees.find((e) => e.id === id))\r\n      .filter(Boolean)\r\n      .map((e: any) => ({ id: e.id, name: e.name, initials: getInitialsFromName(e.name ?? \"\") }));\r\n  }, [memberIds, employees]);\r\n\r\n  function toggleMember(id: string) {\r\n    setMemberIds((prev) => (prev.includes(id) ? prev.filter((x) => x !== id) : [...prev, id]));\r\n  }\r\n\r\n  // Add ad-hoc member (not in directory): create synthetic id and include in payload as adhocMembers\r\n  function addAdhocMember(nameStr: string) {\r\n    const trimmed = (nameStr || \"\").trim();\r\n    if (!trimmed) return;\r\n    const fakeId = `adhoc-${Date.now()}-${Math.random().toString(36).slice(2, 8)}`;\r\n    setEmployees((prev) => [{ id: fakeId, name: trimmed }, ...prev]);\r\n    setMemberIds((prev) => [...prev, fakeId]);\r\n    setMembersInput(\"\");\r\n  }\r\n\r\n  function buildPayload() {\r\n    // clamp completion to 0..100\r\n    const comp = typeof completion === \"number\" ? Math.max(0, Math.min(100, completion)) : 0;\r\n    const proj = typeof projects === \"number\" ? Math.max(0, projects) : 0;\r\n\r\n    return {\r\n      name: name.trim(),\r\n      description: description?.trim() || null,\r\n      managerId: managerId || null,\r\n      featured: !!featured,\r\n      gradient,\r\n      projects: proj,\r\n      completion: comp,\r\n      memberUserIds: memberIds.filter((id) => !id.startsWith(\"adhoc-\")),\r\n      adhocMembers: memberIds\r\n        .filter((id) => id.startsWith(\"adhoc-\"))\r\n        .map((id) => {\r\n          const u = employees.find((x) => x.id === id);\r\n          return { name: u?.name ?? \"\" };\r\n        }),\r\n    };\r\n  }\r\n\r\n  async function createTeamServer(payload: any) {\r\n    const res = await fetch(\"/api/teams\", {\r\n      method: \"POST\",\r\n      credentials: \"same-origin\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(payload),\r\n    });\r\n    const j = await res.json().catch(() => ({}));\r\n    if (!res.ok) throw new Error(j?.message || `Failed to create team (${res.status})`);\r\n    return j?.team ?? j;\r\n  }\r\n\r\n  // NEW: create team chat server-side (non-blocking, safe)\r\n  async function createTeamChatServer(team: any) {\r\n    if (!team?.id) return;\r\n    try {\r\n      await fetch(\"/api/chats\", {\r\n        method: \"POST\",\r\n        credentials: \"same-origin\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({\r\n          type: \"team\",\r\n          teamId: team.id,\r\n          name: team.name ?? `Team ${team.id}`,\r\n        }),\r\n      });\r\n    } catch (err) {\r\n      // do not surface to user — server-side can create later or admin can bootstrap\r\n      console.warn(\"Failed to create team chat:\", err);\r\n    }\r\n  }\r\n\r\n  async function handleSubmit(e?: React.FormEvent) {\r\n    e?.preventDefault();\r\n    setErrorMsg(null);\r\n    if (!name.trim()) {\r\n      setErrorMsg(\"Team name is required\");\r\n      return;\r\n    }\r\n    setSubmitting(true);\r\n    const payload = buildPayload();\r\n    try {\r\n      if (isEdit && initialTeam?.id) {\r\n        // update\r\n        if (onUpdate) {\r\n          await Promise.resolve(onUpdate(initialTeam.id as string, payload));\r\n        } else {\r\n          const res = await fetch(`/api/teams/${encodeURIComponent(String(initialTeam.id))}`, {\r\n            method: \"PUT\",\r\n            credentials: \"same-origin\",\r\n            headers: { \"Content-Type\": \"application/json\" },\r\n            body: JSON.stringify(payload),\r\n          });\r\n          const j = await res.json().catch(() => ({}));\r\n          if (!res.ok) throw new Error(j?.message || `Update failed (${res.status})`);\r\n        }\r\n      } else {\r\n        // create\r\n        if (onCreate) {\r\n          // call server and pass the server response (or optimistic) to parent\r\n          try {\r\n            const created = await createTeamServer(payload);\r\n\r\n            // try to create a team chat (best-effort, non-blocking)\r\n            createTeamChatServer(created).catch(() => { /* intentionally swallow */ });\r\n\r\n            // emit socket event so connected clients can react immediately\r\n            try {\r\n              if (socketClient && typeof socketClient.emit === \"function\") {\r\n                socketClient.emit(\"team:created\", { team: created });\r\n              }\r\n            } catch (err) {\r\n              console.warn(\"Socket emit failed (team:created):\", err);\r\n            }\r\n\r\n            await Promise.resolve(onCreate(created));\r\n          } catch (err) {\r\n            // server create failed — still return optimistic object to parent so UI reflects inputs\r\n            const optimistic = {\r\n              id: `tmp-${Date.now()}`,\r\n              ...payload,\r\n              manager: managers.find((m) => m.id === payload.managerId) ?? null,\r\n              members: memberIds.map((id) => {\r\n                const u = employees.find((e) => e.id === id);\r\n                return { id, user: u ? { id: u.id, name: u.name, email: u.email } : undefined, initials: u ? getInitialsFromName(u.name ?? \"\") : undefined };\r\n              }),\r\n            };\r\n            // Attempt to create a chat for optimistic team (best-effort - it's okay if it fails)\r\n            createTeamChatServer(optimistic).catch(() => { /* ignore */ });\r\n\r\n            try {\r\n              if (socketClient && typeof socketClient.emit === \"function\") {\r\n                socketClient.emit(\"team:created\", { team: optimistic });\r\n              }\r\n            } catch (err2) {\r\n              console.warn(\"Socket emit failed for optimistic team:\", err2);\r\n            }\r\n\r\n            console.warn(\"Create failed, returning optimistic:\", err);\r\n            await Promise.resolve(onCreate(optimistic));\r\n          }\r\n        } else {\r\n          // no parent handler — attempt server create and ignore response except errors\r\n          const created = await createTeamServer(payload);\r\n          createTeamChatServer(created).catch(() => {});\r\n          try {\r\n            if (socketClient && typeof socketClient.emit === \"function\") {\r\n              socketClient.emit(\"team:created\", { team: created });\r\n            }\r\n          } catch (err) {\r\n            console.warn(\"Socket emit failed (team:created):\", err);\r\n          }\r\n        }\r\n      }\r\n\r\n      onClose();\r\n    } catch (err: any) {\r\n      console.error(\"Create/Update team error:\", err);\r\n      setErrorMsg(err?.message || \"Operation failed\");\r\n    } finally {\r\n      setSubmitting(false);\r\n    }\r\n  }\r\n\r\n  async function handleDeleteClick() {\r\n    if (!initialTeam?.id) return;\r\n    const yes = window.confirm(`Delete team \"${initialTeam.name ?? initialTeam.id}\"? This cannot be undone.`);\r\n    if (!yes) return;\r\n    setDeleting(true);\r\n    setErrorMsg(null);\r\n    try {\r\n      if (onDelete) {\r\n        await Promise.resolve(onDelete(initialTeam.id as string));\r\n      } else {\r\n        const res = await fetch(`/api/teams/${encodeURIComponent(String(initialTeam.id))}`, {\r\n          method: \"DELETE\",\r\n          credentials: \"same-origin\",\r\n        });\r\n        const j = await res.json().catch(() => ({}));\r\n        if (!res.ok) throw new Error(j?.message || `Delete failed (${res.status})`);\r\n      }\r\n\r\n      // Inform socket listeners that a team was deleted so UIs can update (best-effort)\r\n      try {\r\n        if (socketClient && typeof socketClient.emit === \"function\") {\r\n          socketClient.emit(\"team:deleted\", { teamId: initialTeam.id });\r\n        }\r\n      } catch (err) {\r\n        console.warn(\"Socket emit failed (team:deleted):\", err);\r\n      }\r\n\r\n      onClose();\r\n    } catch (err: any) {\r\n      console.error(\"Delete team failed:\", err);\r\n      setErrorMsg(err?.message || \"Failed to delete team\");\r\n    } finally {\r\n      setDeleting(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0, scale: 0.98, y: 10 }}\r\n      animate={{ opacity: 1, scale: 1, y: 0 }}\r\n      exit={{ opacity: 0, scale: 0.98 }}\r\n      transition={{ duration: 0.18 }}\r\n      className=\"w-full max-w-2xl mx-4 bg-white rounded-2xl border border-slate-200 shadow-2xl p-6\"\r\n      role=\"dialog\"\r\n      aria-modal=\"true\"\r\n    >\r\n      <div className=\"flex items-start justify-between mb-4\">\r\n        <div>\r\n          <h3 className=\"text-xl font-bold text-slate-800 flex items-center gap-2\">\r\n            <UserPlus className=\"w-5 h-5\" />\r\n            {isEdit ? \"Edit Team\" : \"Create Team\"}\r\n          </h3>\r\n          <p className=\"text-sm text-slate-500\">{isEdit ? \"Update team details\" : \"Add a new team to your workspace\"}</p>\r\n        </div>\r\n\r\n        <div className=\"flex items-center gap-2\">\r\n          {isEdit && (\r\n            <button\r\n              onClick={handleDeleteClick}\r\n              disabled={deleting}\r\n              className=\"px-3 py-2 rounded-md hover:bg-red-50 text-rose-600 flex items-center gap-2\"\r\n              title=\"Delete team\"\r\n            >\r\n              <Trash2 className=\"w-4 h-4\" />\r\n              {deleting ? \"Deleting…\" : \"Delete\"}\r\n            </button>\r\n          )}\r\n\r\n          <button onClick={onClose} className=\"p-2 rounded-lg hover:bg-slate-100 transition-colors\" aria-label=\"Close\">\r\n            <X className=\"w-5 h-5 text-slate-600\" />\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n        {/* Name + Manager */}\r\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3\">\r\n          <label className=\"flex flex-col\">\r\n            <span className=\"text-xs font-medium text-slate-600 mb-1\">Team name</span>\r\n            <input\r\n              required\r\n              value={name}\r\n              onChange={(e) => setName(e.target.value)}\r\n              className=\"px-3 py-3 rounded-xl border border-slate-200 focus:outline-none\"\r\n              placeholder=\"Product Development\"\r\n              aria-label=\"Team name\"\r\n            />\r\n          </label>\r\n\r\n          <label className=\"flex flex-col\">\r\n            <span className=\"text-xs font-medium text-slate-600 mb-1\">Team lead (manager)</span>\r\n            {loadingManagers ? (\r\n              <div className=\"px-3 py-3 rounded-xl border border-slate-200 text-sm text-slate-500\">Loading managers…</div>\r\n            ) : managers.length === 0 ? (\r\n              <input\r\n                value={managerId}\r\n                onChange={(e) => setManagerId(e.target.value)}\r\n                placeholder=\"No managers found — type manager id\"\r\n                className=\"px-3 py-3 rounded-xl border border-slate-200\"\r\n                aria-label=\"Manager id\"\r\n              />\r\n            ) : (\r\n              <select value={managerId} onChange={(e) => setManagerId(e.target.value)} className=\"px-3 py-3 rounded-xl border border-slate-200\" aria-label=\"Manager select\">\r\n                <option value=\"\">— Select manager —</option>\r\n                {managers.map((m) => (\r\n                  <option key={m.id} value={m.id}>\r\n                    {m.name ?? m.email ?? m.id}\r\n                    {m.email ? ` — ${m.email}` : \"\"}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            )}\r\n          </label>\r\n        </div>\r\n\r\n        {/* Description */}\r\n        <label className=\"flex flex-col\">\r\n          <span className=\"text-xs font-medium text-slate-600 mb-1\">Description</span>\r\n          <textarea value={description ?? \"\"} onChange={(e) => setDescription(e.target.value)} rows={3} placeholder=\"Short description...\" className=\"px-3 py-3 rounded-xl border border-slate-200\" aria-label=\"Description\" />\r\n        </label>\r\n\r\n        {/* Projects, completion, featured */}\r\n        <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-3 items-end\">\r\n          <label className=\"flex flex-col\">\r\n            <span className=\"text-xs font-medium text-slate-600 mb-1\">Projects</span>\r\n            <input\r\n              type=\"number\"\r\n              min={0}\r\n              value={projects}\r\n              onChange={(e) => {\r\n                const v = e.target.value;\r\n                setProjects(v === \"\" ? \"\" : Math.max(0, Number(v)));\r\n              }}\r\n              className=\"px-3 py-3 rounded-xl border border-slate-200\"\r\n              placeholder=\"0\"\r\n              aria-label=\"Projects count\"\r\n            />\r\n          </label>\r\n\r\n          <label className=\"flex flex-col\">\r\n            <span className=\"text-xs font-medium text-slate-600 mb-1\">Completion (%)</span>\r\n            <input\r\n              type=\"number\"\r\n              min={0}\r\n              max={100}\r\n              value={completion}\r\n              onChange={(e) => {\r\n                const v = e.target.value;\r\n                if (v === \"\") return setCompletion(\"\");\r\n                const n = Math.max(0, Math.min(100, Number(v)));\r\n                setCompletion(Number.isNaN(n) ? 0 : n);\r\n              }}\r\n              className=\"px-3 py-3 rounded-xl border border-slate-200\"\r\n              placeholder=\"0\"\r\n              aria-label=\"Completion percent\"\r\n            />\r\n          </label>\r\n\r\n          <label className=\"flex items-center gap-3\">\r\n            <input id=\"featured\" type=\"checkbox\" checked={featured} onChange={() => setFeatured((f) => !f)} className=\"w-4 h-4 rounded\" aria-label=\"Featured\" />\r\n            <div className=\"flex flex-col\">\r\n              <span className=\"text-sm font-medium text-slate-700\">Featured</span>\r\n              <span className=\"text-xs text-slate-500 flex items-center gap-1\">\r\n                <Star className=\"w-3.5 h-3.5\" />\r\n                Highlight in the UI\r\n              </span>\r\n            </div>\r\n          </label>\r\n        </div>\r\n\r\n        {/* Gradient selector */}\r\n        <div>\r\n          <span className=\"text-xs font-medium text-slate-600 mb-2 block\">Accent gradient</span>\r\n          <div className=\"flex flex-wrap gap-2\" role=\"radiogroup\" aria-label=\"Accent gradient\">\r\n            {gradientOptions.map((g) => (\r\n              <button\r\n                key={g.id}\r\n                type=\"button\"\r\n                onClick={() => setGradient(g.value)}\r\n                className={`flex items-center gap-2 px-3 py-2 rounded-xl border ${g.value === gradient ? \"border-blue-500 ring-2 ring-blue-200\" : \"border-slate-200\"}`}\r\n                aria-pressed={g.value === gradient}\r\n              >\r\n                <div className={`w-8 h-8 rounded-lg bg-gradient-to-br ${g.value}`} />\r\n                <span className=\"text-sm text-slate-700\">{g.label}</span>\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Members selection + ad-hoc input */}\r\n        <div>\r\n          <div className=\"flex items-center justify-between mb-2\">\r\n            <div>\r\n              <span className=\"text-xs font-medium text-slate-600\">Members</span>\r\n              <p className=\"text-xs text-slate-500\">Select existing employees or add a name</p>\r\n            </div>\r\n            <div className=\"text-xs text-slate-400\">{memberIds.length} selected</div>\r\n          </div>\r\n\r\n          <div className=\"grid grid-cols-1 gap-2 max-h-40 overflow-auto p-2 border rounded-md bg-white\">\r\n            {loadingEmployees ? (\r\n              <div className=\"text-sm text-slate-500\">Loading employees…</div>\r\n            ) : employees.length === 0 ? (\r\n              <div className=\"text-sm text-slate-500\">No employees found</div>\r\n            ) : (\r\n              employees.map((u) => (\r\n                <label key={u.id} className=\"flex items-center gap-2 py-1 px-2 rounded hover:bg-slate-50\">\r\n                  <input type=\"checkbox\" checked={memberIds.includes(u.id)} onChange={() => toggleMember(u.id)} className=\"w-4 h-4\" />\r\n                  <div className=\"text-sm text-slate-700\">{u.name ?? u.email ?? u.id}{u.email ? ` — ${u.email}` : \"\"}</div>\r\n                </label>\r\n              ))\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"mt-3 flex gap-2\">\r\n            <input\r\n              value={membersInput}\r\n              onChange={(e) => setMembersInput(e.target.value)}\r\n              onKeyDown={(e) => {\r\n                if (e.key === \"Enter\") {\r\n                  e.preventDefault();\r\n                  addAdhocMember(membersInput);\r\n                }\r\n              }}\r\n              placeholder=\"Type a name and press Enter to add someone not in directory\"\r\n              className=\"flex-1 px-3 py-3 rounded-xl border border-slate-200\"\r\n              aria-label=\"Add ad-hoc member\"\r\n            />\r\n            <button type=\"button\" onClick={() => addAdhocMember(membersInput)} className=\"px-4 py-2 rounded-xl bg-slate-100 hover:bg-slate-200\" aria-label=\"Add member\">\r\n              <Plus className=\"w-4 h-4\" />\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"mt-3 flex flex-wrap gap-2\">\r\n            {selectedMembers.map((m) => (\r\n              <div key={m.id} className=\"flex items-center gap-2 bg-slate-50 border border-slate-200 px-3 py-2 rounded-xl\">\r\n                <div className=\"w-8 h-8 rounded-full bg-gradient-to-br from-slate-200 to-slate-300 flex items-center justify-center text-xs font-semibold text-slate-700\">\r\n                  {m.initials}\r\n                </div>\r\n                <div className=\"text-sm text-slate-700\">{m.name}</div>\r\n                <button type=\"button\" onClick={() => toggleMember(m.id)} className=\"ml-2 p-1 rounded-md hover:bg-slate-100\" aria-label={`Remove ${m.name}`}>\r\n                  ✕\r\n                </button>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {errorMsg && <div className=\"text-sm text-rose-600\" role=\"alert\">{errorMsg}</div>}\r\n\r\n        <div className=\"flex items-center gap-3 justify-end pt-2\">\r\n          <button type=\"button\" onClick={onClose} className=\"px-4 py-2 rounded-xl bg-slate-100 hover:bg-slate-200\">\r\n            Cancel\r\n          </button>\r\n\r\n          <motion.button\r\n            whileHover={{ scale: 1.02 }}\r\n            whileTap={{ scale: 0.98 }}\r\n            type=\"submit\"\r\n            disabled={submitting}\r\n            className=\"px-5 py-2.5 bg-gradient-to-br from-blue-500 to-cyan-500 text-white rounded-xl font-medium shadow-md disabled:opacity-60\"\r\n            aria-disabled={submitting}\r\n          >\r\n            <div className=\"flex items-center gap-2\">\r\n              <Plus className=\"w-4 h-4\" />\r\n              {submitting ? (isEdit ? \"Updating…\" : \"Creating…\") : isEdit ? \"Update Team\" : \"Create Team\"}\r\n            </div>\r\n          </motion.button>\r\n        </div>\r\n      </form>\r\n    </motion.div>\r\n  );\r\n}\r\n"],"names":["React","useEffect","useMemo","useState","motion","X","Plus","UserPlus","Star","Trash2","socketClient","User","id","name","email","TeamMemberShape","user","Team","description","manager","managerId","featured","gradient","projects","completion","members","Props","managers","employees","loadingUsers","initialTeam","onCreate","teamOrResponse","onUpdate","payload","onDelete","onClose","getInitialsFromName","parts","trim","split","filter","Boolean","length","slice","toUpperCase","fetchJsonList","url","res","fetch","credentials","ok","Error","status","j","json","catch","Array","isArray","users","data","teams","CreateTeamForm","managersProp","employeesProp","loadingUsersProp","isEdit","setName","setDescription","setManagerId","setFeatured","setGradient","setProjects","setCompletion","memberIds","setMemberIds","map","m","String","userId","setEmployees","setManagers","loadingManagers","setLoadingManagers","loadingEmployees","setLoadingEmployees","membersInput","setMembersInput","submitting","setSubmitting","deleting","setDeleting","errorMsg","setErrorMsg","gradientOptions","label","value","mounted","then","list","u","err","console","warn","finally","selectedMembers","find","e","initials","toggleMember","prev","includes","x","addAdhocMember","nameStr","trimmed","fakeId","Date","now","Math","random","toString","buildPayload","comp","max","min","proj","memberUserIds","startsWith","adhocMembers","createTeamServer","method","headers","body","JSON","stringify","message","team","createTeamChatServer","type","teamId","handleSubmit","FormEvent","preventDefault","Promise","resolve","encodeURIComponent","created","emit","optimistic","undefined","err2","error","handleDeleteClick","yes","window","confirm","opacity","scale","y","duration","target","v","Number","n","isNaN","f","g","key"],"mappings":"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","ignoreList":[],"debugId":null}},
    {"offset": {"line": 1131, "column": 0}, "map": {"version":3,"sources":["E:/Attack Capital/SignalHub/frontend/src/app/ui/forms/Schedule-meeting/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useMemo, useState } from \"react\";\r\nimport { motion } from \"framer-motion\";\r\nimport { X, Clock, Calendar, User, Bell } from \"lucide-react\";\r\n\r\n/**\r\n * ScheduleMeetingForm\r\n *\r\n * Props:\r\n * - team: the team object (contains members array)\r\n * - onClose: () => void\r\n * - onSchedule: (meeting) => void  // meeting contains organizer, meetingTime (ISO), reminderBefore (minutes), inviteTime (ISO), teamId\r\n *\r\n * Behavior:\r\n * - User selects organizer name, meeting date-time (datetime-local), reminder before (select)\r\n * - The component computes inviteTime = meetingTime - reminderBefore (minutes)\r\n * - On submit, calls onSchedule with meeting object including inviteTime\r\n *\r\n * Note: This is a client-side form. For real invites, hook onSchedule to an API that will persist & schedule notifications.\r\n */\r\n\r\ntype Member = { name: string; initials?: string };\r\n\r\nexport default function ScheduleMeetingForm({\r\n  team,\r\n  onClose,\r\n  onSchedule,\r\n}: {\r\n  team: any;\r\n  onClose: () => void;\r\n  onSchedule: (meeting: any) => void;\r\n}) {\r\n  const [organizer, setOrganizer] = useState(\"\");\r\n  const [meetingTime, setMeetingTime] = useState<string>(() => {\r\n    // default: next hour rounded to next 30 minutes in local time (helps UX)\r\n    const d = new Date();\r\n    d.setMinutes(0, 0, 0);\r\n    d.setHours(d.getHours() + 1);\r\n    // format to yyyy-MM-ddTHH:mm for input value\r\n    const pad = (n: number) => (n < 10 ? `0${n}` : `${n}`);\r\n    const yyyy = d.getFullYear();\r\n    const mm = pad(d.getMonth() + 1);\r\n    const dd = pad(d.getDate());\r\n    const hh = pad(d.getHours());\r\n    const min = pad(d.getMinutes());\r\n    return `${yyyy}-${mm}-${dd}T${hh}:${min}`;\r\n  });\r\n\r\n  const reminderOptions = [10, 20, 30, 40, 50, 60]; // minutes\r\n  const [reminderBefore, setReminderBefore] = useState<number>(20);\r\n\r\n  // compute invite time (Date object) whenever meetingTime or reminderBefore changes\r\n  const inviteTime = useMemo(() => {\r\n    if (!meetingTime) return null;\r\n    // meetingTime is local ISO without timezone (datetime-local). Construct Date using local parts.\r\n    const dt = new Date(meetingTime);\r\n    if (Number.isNaN(dt.getTime())) return null;\r\n    const invite = new Date(dt.getTime() - reminderBefore * 60 * 1000);\r\n    return invite;\r\n  }, [meetingTime, reminderBefore]);\r\n\r\n  function formatToIST(date: Date | null) {\r\n    if (!date) return \"\";\r\n    try {\r\n      // Use Asia/Kolkata as requested — browser may support timeZone in toLocaleString\r\n      return date.toLocaleString(\"en-IN\", {\r\n        timeZone: \"Asia/Kolkata\",\r\n        year: \"numeric\",\r\n        month: \"short\",\r\n        day: \"numeric\",\r\n        hour: \"numeric\",\r\n        minute: \"2-digit\",\r\n        hour12: true,\r\n      });\r\n    } catch (e) {\r\n      // fallback to simple locale representation\r\n      return date.toLocaleString();\r\n    }\r\n  }\r\n\r\n  function handleSubmit(e: React.FormEvent) {\r\n    e.preventDefault();\r\n    if (!organizer.trim()) {\r\n      alert(\"Please enter the meeting organizer's name.\");\r\n      return;\r\n    }\r\n    if (!meetingTime) {\r\n      alert(\"Please pick a meeting time.\");\r\n      return;\r\n    }\r\n    if (!inviteTime) {\r\n      alert(\"Invalid meeting time.\");\r\n      return;\r\n    }\r\n\r\n    const meeting = {\r\n      teamId: team?.id,\r\n      teamName: team?.name,\r\n      organizer: organizer.trim(),\r\n      meetingTimeISO: new Date(meetingTime).toISOString(),\r\n      reminderBeforeMinutes: reminderBefore,\r\n      inviteTimeISO: inviteTime.toISOString(),\r\n      // include list of invitees (team members)\r\n      invitees: (team?.members || []).map((m: Member) => ({ name: m.name, initials: m.initials })),\r\n    };\r\n\r\n    // callback to parent\r\n    onSchedule(meeting);\r\n    // no local persistence here; parent should handle persisting/scheduling\r\n  }\r\n\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0, scale: 0.98, y: 8 }}\r\n      animate={{ opacity: 1, scale: 1, y: 0 }}\r\n      exit={{ opacity: 0, scale: 0.98 }}\r\n      transition={{ duration: 0.16 }}\r\n      className=\"w-full max-w-2xl mx-4 bg-white rounded-2xl border border-slate-200 shadow-2xl p-6\"\r\n      role=\"dialog\"\r\n      aria-modal=\"true\"\r\n    >\r\n      <div className=\"flex items-start justify-between mb-4\">\r\n        <div>\r\n          <h3 className=\"text-xl font-bold text-slate-800 flex items-center gap-2\">\r\n            <Calendar className=\"w-5 h-5\" />\r\n            Schedule Meeting\r\n          </h3>\r\n          <p className=\"text-sm text-slate-500\">\r\n            Invite all members of <span className=\"font-medium text-slate-700\">{team?.name}</span>\r\n          </p>\r\n        </div>\r\n\r\n        <button\r\n          onClick={onClose}\r\n          className=\"p-2 rounded-lg hover:bg-slate-100 transition-colors\"\r\n          aria-label=\"Close schedule meeting\"\r\n        >\r\n          <X className=\"w-5 h-5 text-slate-600\" />\r\n        </button>\r\n      </div>\r\n\r\n      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n        {/* Organizer */}\r\n        <label className=\"flex flex-col\">\r\n          <span className=\"text-xs font-medium text-slate-600 mb-1\">Meeting Organizer</span>\r\n          <div className=\"flex items-center gap-2\">\r\n            <User className=\"w-4 h-4 text-slate-400\" />\r\n            <input\r\n              value={organizer}\r\n              onChange={(e) => setOrganizer(e.target.value)}\r\n              placeholder=\"Organizer name (e.g., Sarah Chen)\"\r\n              className=\"flex-1 px-3 py-3 rounded-xl border border-slate-200 focus:outline-none focus:ring-2 focus:ring-emerald-500/20\"\r\n            />\r\n          </div>\r\n        </label>\r\n\r\n        {/* Meeting time */}\r\n        <label className=\"flex flex-col\">\r\n          <span className=\"text-xs font-medium text-slate-600 mb-1\">Meeting time</span>\r\n          <div className=\"flex items-center gap-2\">\r\n            <Clock className=\"w-4 h-4 text-slate-400\" />\r\n            <input\r\n              type=\"datetime-local\"\r\n              value={meetingTime}\r\n              onChange={(e) => setMeetingTime(e.target.value)}\r\n              className=\"flex-1 px-3 py-3 rounded-xl border border-slate-200 focus:outline-none\"\r\n            />\r\n          </div>\r\n          <p className=\"text-xs text-slate-500 mt-1\">\r\n            Time shown & calculated in your browser's local timezone. Invite times are displayed in IST below.\r\n          </p>\r\n        </label>\r\n\r\n        {/* Reminder before */}\r\n        <div>\r\n          <span className=\"text-xs font-medium text-slate-600 mb-2 block\">Reminder before</span>\r\n          <div className=\"flex flex-wrap gap-2\">\r\n            {reminderOptions.map((mins) => (\r\n              <button\r\n                key={mins}\r\n                type=\"button\"\r\n                onClick={() => setReminderBefore(mins)}\r\n                className={`px-3 py-2 rounded-xl border ${\r\n                  mins === reminderBefore ? \"border-emerald-500 ring-2 ring-emerald-200\" : \"border-slate-200\"\r\n                }`}\r\n              >\r\n                {mins} mins\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Computed invite time preview */}\r\n        <div className=\"p-3 rounded-lg bg-slate-50 border border-slate-100\">\r\n          <p className=\"text-sm text-slate-600\">\r\n            <span className=\"font-medium text-slate-800\">Invite time:</span>{\" \"}\r\n            {inviteTime ? (\r\n              <>\r\n                {formatToIST(inviteTime)}{\" \"}\r\n                <span className=\"text-xs text-slate-400\">({reminderBefore} min before meeting)</span>\r\n              </>\r\n            ) : (\r\n              <span className=\"text-slate-400\">Pick a meeting time</span>\r\n            )}\r\n          </p>\r\n          <p className=\"text-xs text-slate-500 mt-1\">\r\n            Invitations will be sent to the team's members at this time (local IST shown).\r\n          </p>\r\n        </div>\r\n\r\n        {/* Invitees preview */}\r\n        <div>\r\n          <div className=\"flex items-center justify-between mb-2\">\r\n            <div>\r\n              <span className=\"text-xs font-medium text-slate-600\">Invitees</span>\r\n              <p className=\"text-xs text-slate-500\">Team members who will receive the invite</p>\r\n            </div>\r\n            <div className=\"text-xs text-slate-400\">{(team?.members || []).length} members</div>\r\n          </div>\r\n\r\n          <div className=\"flex flex-wrap gap-2\">\r\n            {(team?.members || []).map((m: Member, i: number) => (\r\n              <div\r\n                key={`${m.name}-${i}`}\r\n                className=\"flex items-center gap-2 bg-white border border-slate-100 px-3 py-2 rounded-xl shadow-sm\"\r\n              >\r\n                <div className=\"w-8 h-8 rounded-full bg-gradient-to-br from-slate-200 to-slate-300 flex items-center justify-center text-xs font-semibold text-slate-700\">\r\n                  {m.initials ?? (m.name ? m.name.split(\" \").map((p) => p[0]).join(\"\").slice(0, 2).toUpperCase() : \"\")}\r\n                </div>\r\n                <div className=\"text-sm text-slate-700\">{m.name}</div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Actions */}\r\n        <div className=\"flex items-center gap-3 justify-end pt-2\">\r\n          <button\r\n            type=\"button\"\r\n            onClick={onClose}\r\n            className=\"px-4 py-2 rounded-xl bg-slate-100 hover:bg-slate-200 text-slate-700\"\r\n          >\r\n            Cancel\r\n          </button>\r\n\r\n          <motion.button\r\n            whileHover={{ scale: 1.02 }}\r\n            whileTap={{ scale: 0.98 }}\r\n            type=\"submit\"\r\n            className=\"px-5 py-2.5 bg-gradient-to-br from-blue-500 to-cyan-500 text-white rounded-xl font-medium shadow-md flex items-center gap-2\"\r\n          >\r\n            <Bell className=\"w-4 h-4\" />\r\n            Schedule & Invite\r\n          </motion.button>\r\n        </div>\r\n      </form>\r\n    </motion.div>\r\n  );\r\n}\r\n"],"names":["c","_c","React","useMemo","useState","motion","X","Clock","Calendar","User","Bell","Member","name","initials","ScheduleMeetingForm","t0","$","$i","Symbol","for","team","onClose","onSchedule","organizer","setOrganizer","meetingTime","setMeetingTime","_ScheduleMeetingFormUseState","t1","reminderOptions","reminderBefore","setReminderBefore","t2","bb0","dt","Date","Number","isNaN","getTime","t3","t4","invite","inviteTime","formatToIST","date","toLocaleString","timeZone","year","month","day","hour","minute","hour12","id","members","handleSubmit","e_0","e","preventDefault","trim","alert","meeting","teamId","teamName","meetingTimeISO","toISOString","reminderBeforeMinutes","inviteTimeISO","invitees","map","_ScheduleMeetingFormHandleSubmitAnonymous","t5","t6","t7","t8","opacity","scale","y","duration","t9","t10","t11","t12","t13","t14","t15","t16","t17","e_1","target","value","t18","t19","t20","t21","e_2","t22","t23","t24","t25","t26","mins","ScheduleMeetingForm[reminderOptions.map() > <button>.onClick]","t27","t28","t29","t30","t31","t32","t33","length","t34","t35","_ScheduleMeetingFormAnonymous","t36","t37","t38","t39","t40","t41","t42","t43","t44","m_0","i","m","split","_ScheduleMeetingFormAnonymousAnonymous","join","slice","toUpperCase","p","d","setMinutes","setHours","getHours","pad","_ScheduleMeetingFormUseStatePad","yyyy","getFullYear","mm","getMonth","dd","getDate","hh","min","getMinutes","n"],"mappings":"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","ignoreList":[],"debugId":null}},
    {"offset": {"line": 2037, "column": 0}, "map": {"version":3,"sources":["E:/Attack Capital/SignalHub/frontend/src/components/ui/modal.tsx"],"sourcesContent":["// components/ui/modal.tsx\r\n\"use client\";\r\n\r\nimport React, { useEffect, useRef } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport clsx from \"clsx\";\r\nimport { X } from \"lucide-react\";\r\n\r\n/**\r\n * Improved Modal primitive\r\n *\r\n * Props:\r\n *  - children: content inside modal (panel)\r\n *  - onClose: called when modal requests close (ESC, backdrop click, close button)\r\n *  - ariaLabel: string for aria-label on the dialog (default: \"Dialog\")\r\n *  - className: optional className to apply to panel (merged with defaults)\r\n *\r\n * Behavior:\r\n *  - renders into document.body using a portal\r\n *  - traps focus (Tab / Shift+Tab)\r\n *  - ESC closes modal\r\n *  - click on backdrop closes modal\r\n *  - locks body scroll while open\r\n *  - provides built-in animated close button and subtle entrance/exit animations\r\n */\r\n\r\ntype ModalProps = {\r\n  children: React.ReactNode;\r\n  onClose: () => void;\r\n  ariaLabel?: string;\r\n  className?: string;\r\n};\r\n\r\nconst FOCUSABLE_SELECTOR =\r\n  'a[href], area[href], input:not([disabled]):not([type=\"hidden\"]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex]:not([tabindex=\"-1\"]), [contenteditable]';\r\n\r\nconst getFocusableElements = (container: HTMLElement | null) => {\r\n  if (!container) return [];\r\n  try {\r\n    return Array.from(container.querySelectorAll<HTMLElement>(FOCUSABLE_SELECTOR)).filter(\r\n      (el) => !!(el.offsetWidth || el.offsetHeight || el.getClientRects().length)\r\n    );\r\n  } catch {\r\n    return [];\r\n  }\r\n};\r\n\r\nexport const Modal: React.FC<ModalProps> = ({ children, onClose, ariaLabel = \"Dialog\", className }) => {\r\n  const overlayRef = useRef<HTMLDivElement | null>(null);\r\n  const panelRef = useRef<HTMLDivElement | null>(null);\r\n  const lastFocused = useRef<HTMLElement | null>(null);\r\n\r\n  // ensure portal root exists\r\n  useEffect(() => {\r\n    let root = document.getElementById(\"modal-root\");\r\n    if (!root) {\r\n      root = document.createElement(\"div\");\r\n      root.id = \"modal-root\";\r\n      document.body.appendChild(root);\r\n    }\r\n  }, []);\r\n\r\n  // lock scroll + preserve/restore focus\r\n  useEffect(() => {\r\n    lastFocused.current = document.activeElement as HTMLElement | null;\r\n    const originalOverflow = document.body.style.overflow;\r\n    document.body.style.overflow = \"hidden\";\r\n\r\n    // focus the panel (or first focusable element) shortly after mount\r\n    const t = setTimeout(() => {\r\n      const focusable = getFocusableElements(panelRef.current);\r\n      if (focusable.length) focusable[0].focus();\r\n      else panelRef.current?.focus();\r\n    }, 30);\r\n\r\n    return () => {\r\n      clearTimeout(t);\r\n      document.body.style.overflow = originalOverflow;\r\n      try {\r\n        lastFocused.current?.focus();\r\n      } catch {\r\n        // ignore\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  // key handlers: ESC + focus trap (Tab / Shift+Tab)\r\n  useEffect(() => {\r\n    const onKey = (e: KeyboardEvent) => {\r\n      if (e.key === \"Escape\") {\r\n        e.preventDefault();\r\n        onClose();\r\n        return;\r\n      }\r\n      if (e.key === \"Tab\") {\r\n        const focusable = getFocusableElements(panelRef.current);\r\n        if (focusable.length === 0) {\r\n          e.preventDefault();\r\n          return;\r\n        }\r\n        const idx = focusable.indexOf(document.activeElement as HTMLElement);\r\n        if (e.shiftKey) {\r\n          if (idx === 0 || document.activeElement === panelRef.current) {\r\n            e.preventDefault();\r\n            focusable[focusable.length - 1].focus();\r\n          }\r\n        } else {\r\n          if (idx === focusable.length - 1) {\r\n            e.preventDefault();\r\n            focusable[0].focus();\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"keydown\", onKey);\r\n    return () => document.removeEventListener(\"keydown\", onKey);\r\n  }, [onClose]);\r\n\r\n  // backdrop click to close\r\n  const onBackdropMouseDown = (e: React.MouseEvent) => {\r\n    if (e.target === overlayRef.current) onClose();\r\n  };\r\n\r\n  // Motion variants for panel and backdrop\r\n  const backdropVariants = {\r\n    hidden: { opacity: 0 },\r\n    visible: { opacity: 0.5 },\r\n    exit: { opacity: 0 },\r\n  };\r\n\r\n  const panelVariants = {\r\n    hidden: { opacity: 0, y: 8, scale: 0.995 },\r\n    visible: { opacity: 1, y: 0, scale: 1 },\r\n    exit: { opacity: 0, y: 8, scale: 0.995 },\r\n  };\r\n\r\n  const modal = (\r\n    <AnimatePresence>\r\n      <div\r\n        ref={overlayRef}\r\n        onMouseDown={onBackdropMouseDown}\r\n        className=\"fixed inset-0 z-50 flex items-center justify-center p-4 sm:p-6\"\r\n        aria-hidden={false}\r\n      >\r\n        {/* Backdrop */}\r\n        <motion.div\r\n          key=\"backdrop\"\r\n          initial=\"hidden\"\r\n          animate=\"visible\"\r\n          exit=\"exit\"\r\n          variants={backdropVariants}\r\n          transition={{ duration: 0.18 }}\r\n          className=\"absolute inset-0 bg-black/60 backdrop-blur-sm\"\r\n        />\r\n\r\n        {/* Panel */}\r\n        <motion.div\r\n          key=\"panel\"\r\n          ref={panelRef}\r\n          role=\"dialog\"\r\n          aria-modal=\"true\"\r\n          aria-label={ariaLabel}\r\n          tabIndex={-1}\r\n          initial=\"hidden\"\r\n          animate=\"visible\"\r\n          exit=\"exit\"\r\n          variants={panelVariants}\r\n          transition={{ duration: 0.22, ease: \"easeOut\" }}\r\n          className={clsx(\r\n            // defaults: professional panel that matches team page design\r\n            \"relative z-10 w-full max-w-2xl rounded-2xl bg-white border border-slate-100 shadow-lg overflow-hidden outline-none\",\r\n            // safe max-height and internal scroll when needed\r\n            \"max-h-[90vh] overflow-auto\",\r\n            // allow consumer to pass additional width/padding overrides\r\n            className\r\n          )}\r\n          style={{ WebkitTapHighlightColor: \"transparent\" }}\r\n        >\r\n          {/* Panel inner: we provide a consistent padding layout for header/body/footer */}\r\n          <div className=\"relative\">\r\n            {/* Close button (top-right) */}\r\n            <button\r\n              aria-label=\"Close dialog\"\r\n              onClick={onClose}\r\n              className=\"absolute right-3 top-3 z-20 inline-flex items-center justify-center rounded-md p-1.5 text-slate-600 hover:bg-slate-100 hover:text-slate-800 transition\"\r\n              type=\"button\"\r\n            >\r\n              <X className=\"w-4 h-4\" />\r\n            </button>\r\n\r\n            {/* Content wrapper */}\r\n            <div className=\"p-4 sm:p-6\">\r\n              {/*\r\n                Children controls layout.\r\n                Consumers (e.g., Teams page) typically render their own header/body inside.\r\n                We provide consistent background and padding so the child's header fits perfectly.\r\n              */}\r\n              {children}\r\n            </div>\r\n          </div>\r\n        </motion.div>\r\n      </div>\r\n    </AnimatePresence>\r\n  );\r\n\r\n  const root = typeof window !== \"undefined\" ? document.getElementById(\"modal-root\") : null;\r\n  if (root) return createPortal(modal, root);\r\n\r\n  // Fallback inline render (shouldn't happen in client)\r\n  return modal as any;\r\n};\r\n\r\nexport default Modal;\r\n"],"names":["React","useEffect","useRef","createPortal","motion","AnimatePresence","clsx","X","ModalProps","children","ReactNode","onClose","ariaLabel","className","FOCUSABLE_SELECTOR","getFocusableElements","container","HTMLElement","Array","from","querySelectorAll","filter","el","offsetWidth","offsetHeight","getClientRects","length","Modal","FC","overlayRef","HTMLDivElement","panelRef","lastFocused","root","document","getElementById","createElement","id","body","appendChild","current","activeElement","originalOverflow","style","overflow","t","setTimeout","focusable","focus","clearTimeout","onKey","e","KeyboardEvent","key","preventDefault","idx","indexOf","shiftKey","addEventListener","removeEventListener","onBackdropMouseDown","MouseEvent","target","backdropVariants","hidden","opacity","visible","exit","panelVariants","y","scale","modal","duration","ease","WebkitTapHighlightColor","window"],"mappings":"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","ignoreList":[],"debugId":null}},
    {"offset": {"line": 2292, "column": 0}, "map": {"version":3,"sources":["E:/Attack Capital/SignalHub/frontend/src/app/dashboard/admin/teams/page.tsx"],"sourcesContent":["// src/app/dashboard/admin/teams/page.tsx\r\n\"use client\";\r\n\r\nimport React, { useEffect, useMemo, useState } from \"react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport {\r\n  Search,\r\n  Users,\r\n  Plus,\r\n  MoreVertical,\r\n  Mail,\r\n  Crown,\r\n  Star,\r\n  Settings,\r\n  TrendingUp,\r\n  Activity,\r\n  Award,\r\n  Target,\r\n  Edit,\r\n  Trash2,\r\n  MessageSquare,\r\n  X,\r\n  Minimize2,\r\n  Maximize2,\r\n} from \"lucide-react\";\r\nimport CreateTeamForm from \"@/app/ui/forms/create-team/page\";\r\nimport ScheduleMeetingForm from \"@/app/ui/forms/Schedule-meeting/page\";\r\nimport Modal from \"@/components/ui/modal\"; // shared Modal (backdrop + panel)\r\n\r\n/* ----------------- Helpers ----------------- */\r\nfunction safeParseListResponse(j: any) {\r\n  if (!j) return [];\r\n  if (Array.isArray(j)) return j;\r\n  if (Array.isArray(j.teams)) return j.teams;\r\n  if (Array.isArray(j.users)) return j.users;\r\n  if (Array.isArray(j.data)) return j.data;\r\n  return [];\r\n}\r\nfunction uidFromTeam(team: any, idx: number) {\r\n  return team?.id ?? `team_tmp_${idx}_${(team?.name ?? \"unknown\").slice(0, 6)}`;\r\n}\r\n\r\n/* ==================== ChatWidget component ====================\r\n   - single admin widget instance (one open at a time)\r\n   - minimized floating panel with Close / Maximize\r\n   - maximized overlay with full chat + members pane\r\n   - responsive for small and large screens\r\n*/\r\nfunction ChatWidget({\r\n  state,\r\n  onClose,\r\n  onUpdateState,\r\n}: {\r\n  state: { opened: boolean; maximized: boolean; team: any | null } | null;\r\n  onClose: () => void;\r\n  onUpdateState: (s: { opened: boolean; maximized: boolean; team: any | null } | null) => void;\r\n}) {\r\n  const [messages, setMessages] = useState<any[]>([]);\r\n  const [input, setInput] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const team = state?.team ?? null;\r\n  const opened = !!state?.opened;\r\n  const maximized = !!state?.maximized;\r\n\r\n  // Load recent messages when opened or when maximized/team changes\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    async function load() {\r\n      if (!opened || !team) {\r\n        setMessages([]);\r\n        return;\r\n      }\r\n      setLoading(true);\r\n      try {\r\n        // Try API: /api/chats?teamId=...\r\n        const q = new URLSearchParams({ teamId: team.id });\r\n        const res = await fetch(`/api/chats?${q.toString()}`, { credentials: \"same-origin\" });\r\n        if (res.ok) {\r\n          const j = await res.json().catch(() => null);\r\n          // accept several shapes: { ok:true, chats:[{messages:[]}] } or { ok:true, messages: [] }\r\n          if (j?.ok && Array.isArray(j.chats) && j.chats.length > 0) {\r\n            const chat = j.chats[0];\r\n            if (mounted) setMessages((chat.messages ?? []).slice(-200));\r\n          } else if (j?.ok && Array.isArray(j.messages)) {\r\n            if (mounted) setMessages(j.messages.slice(-200));\r\n          } else {\r\n            // fallback empty\r\n            if (mounted) setMessages([]);\r\n          }\r\n        } else {\r\n          if (mounted) setMessages([]);\r\n        }\r\n      } catch (e) {\r\n        console.warn(\"Chat load failed:\", e);\r\n        if (mounted) setMessages([]);\r\n      } finally {\r\n        if (mounted) setLoading(false);\r\n      }\r\n    }\r\n    load();\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, [opened, team]);\r\n\r\n  if (!opened || !team) return null;\r\n\r\n  async function sendMessage() {\r\n    const body = input.trim();\r\n    if (!body) return;\r\n    // optimistic append\r\n    const optimistic = {\r\n      id: `tmp-${Date.now()}`,\r\n      body,\r\n      createdAt: new Date().toISOString(),\r\n      sender: { id: \"admin\", name: \"You\" },\r\n      direction: \"OUTBOUND\",\r\n    };\r\n    setMessages((m) => [...m, optimistic]);\r\n    setInput(\"\");\r\n\r\n    try {\r\n      const res = await fetch(`/api/chats`, {\r\n        method: \"POST\",\r\n        credentials: \"same-origin\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ teamId: team.id, body }),\r\n      });\r\n      if (res.ok) {\r\n        const j = await res.json().catch(() => null);\r\n        // if server returns message or messages merge them\r\n        if (j?.message) {\r\n          setMessages((m) => [...m.slice(0, -1), j.message]);\r\n        } else if (Array.isArray(j?.messages)) {\r\n          setMessages((m) => [...m.slice(0, -1), ...j.messages]);\r\n        }\r\n      } else {\r\n        // try alternative POST to /api/chats/:chatId if team id is used as chatId\r\n        await fetch(`/api/chats/${encodeURIComponent(team.id)}`, {\r\n          method: \"POST\",\r\n          credentials: \"same-origin\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify({ body }),\r\n        }).catch(() => null);\r\n      }\r\n    } catch (e) {\r\n      console.warn(\"send failed:\", e);\r\n    }\r\n  }\r\n\r\n  // UI pieces\r\n  const MinimizedWidget = (\r\n    <motion.div\r\n      initial={{ opacity: 0, y: 20, scale: 0.98 }}\r\n      animate={{ opacity: 1, y: 0, scale: 1 }}\r\n      exit={{ opacity: 0, y: 12, scale: 0.98 }}\r\n      className=\"fixed right-4 bottom-4 z-50 w-80 sm:w-[360px] md:w-96\"\r\n    >\r\n      <div className=\"bg-white rounded-2xl shadow-2xl border border-slate-200 overflow-hidden\">\r\n        <div className=\"flex items-center justify-between px-3 py-2 bg-gradient-to-r from-slate-50 to-white\">\r\n          <div className=\"flex items-center gap-3 min-w-0\">\r\n            <div className=\"w-8 h-8 rounded-md bg-gradient-to-br from-blue-500 to-cyan-500 flex items-center justify-center text-white\">\r\n              <MessageSquare className=\"w-4 h-4\" />\r\n            </div>\r\n            <div className=\"min-w-0\">\r\n              <div className=\"text-sm font-medium truncate\">{team.name}</div>\r\n              <div className=\"text-xs text-slate-500\">Team chat</div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex items-center gap-1\">\r\n            <button\r\n              onClick={() => onUpdateState({ opened: true, maximized: true, team })}\r\n              title=\"Maximize\"\r\n              className=\"p-2 rounded hover:bg-slate-100\"\r\n            >\r\n              <Maximize2 className=\"w-4 h-4\" />\r\n            </button>\r\n            <button\r\n              onClick={() => onClose()}\r\n              title=\"Close\"\r\n              className=\"p-2 rounded hover:bg-slate-100\"\r\n            >\r\n              <X className=\"w-4 h-4\" />\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"p-3 max-h-48 overflow-auto bg-white\">\r\n          {loading ? (\r\n            <div className=\"text-xs text-slate-500\">Loading messages…</div>\r\n          ) : messages.length === 0 ? (\r\n            <div className=\"text-xs text-slate-500\">No recent messages</div>\r\n          ) : (\r\n            <ul className=\"space-y-2\">\r\n              {messages.slice(-6).map((m, idx) => (\r\n                <li key={m.id ?? idx} className={`text-sm ${m.direction === \"INBOUND\" ? \"text-slate-700\" : \"text-right text-slate-800\"}`}>\r\n                  <div className=\"inline-block max-w-[80%] break-words bg-slate-50 px-3 py-1.5 rounded-md text-xs\">\r\n                    {m.body ?? m.preview ?? m.text}\r\n                  </div>\r\n                  <div className=\"text-[10px] text-slate-400 mt-0.5\">{new Date(m.createdAt || Date.now()).toLocaleTimeString()}</div>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"p-3 border-t border-slate-100 bg-white\">\r\n          <div className=\"flex gap-2\">\r\n            <input\r\n              value={input}\r\n              onChange={(e) => setInput(e.target.value)}\r\n              onKeyDown={(e) => {\r\n                if (e.key === \"Enter\") {\r\n                  e.preventDefault();\r\n                  sendMessage();\r\n                }\r\n              }}\r\n              placeholder=\"Write a message...\"\r\n              className=\"flex-1 px-3 py-2 rounded-md border border-slate-200 text-sm focus:outline-none\"\r\n            />\r\n            <button onClick={sendMessage} className=\"px-3 py-2 rounded-md bg-blue-500 text-white text-sm\">Send</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </motion.div>\r\n  );\r\n\r\n  const MaximizedOverlay = (\r\n    <motion.div\r\n      initial={{ opacity: 0 }}\r\n      animate={{ opacity: 1 }}\r\n      exit={{ opacity: 0 }}\r\n      className=\"fixed inset-0 z-60 flex items-end sm:items-center justify-center p-4\"\r\n    >\r\n      <div className=\"absolute inset-0 bg-black/40\" onClick={() => onUpdateState({ opened: true, maximized: false, team })} />\r\n      <motion.div\r\n        initial={{ y: 20, scale: 0.98 }}\r\n        animate={{ y: 0, scale: 1 }}\r\n        exit={{ y: 12, scale: 0.98 }}\r\n        transition={{ duration: 0.12 }}\r\n        className=\"relative z-70 w-full max-w-5xl h-[80vh] bg-white rounded-2xl shadow-2xl border overflow-hidden flex flex-col\"\r\n      >\r\n        <div className=\"flex items-center justify-between px-4 py-3 border-b\">\r\n          <div className=\"flex items-center gap-3 min-w-0\">\r\n            <div className=\"w-10 h-10 rounded-md bg-gradient-to-br from-blue-500 to-cyan-500 flex items-center justify-center text-white\">\r\n              <MessageSquare className=\"w-5 h-5\" />\r\n            </div>\r\n            <div className=\"min-w-0\">\r\n              <div className=\"text-sm font-semibold truncate\">{team.name}</div>\r\n              <div className=\"text-xs text-slate-500\">Team chat — Admin</div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex items-center gap-2\">\r\n            <button\r\n              onClick={() => onUpdateState({ opened: true, maximized: false, team })}\r\n              title=\"Minimize\"\r\n              className=\"p-2 rounded hover:bg-slate-100\"\r\n            >\r\n              <Minimize2 className=\"w-4 h-4\" />\r\n            </button>\r\n            <button onClick={() => onClose()} title=\"Close\" className=\"p-2 rounded hover:bg-slate-100\">\r\n              <X className=\"w-4 h-4\" />\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"flex-1 grid grid-cols-1 md:grid-cols-3 gap-4 p-4 overflow-hidden\">\r\n          <div className=\"md:col-span-2 flex flex-col border rounded-lg overflow-hidden\">\r\n            <div className=\"flex-1 overflow-auto p-4\" style={{ minHeight: 0 }}>\r\n              {messages.length === 0 ? (\r\n                <div className=\"text-sm text-slate-500\">No messages yet. Use the composer to send the first message.</div>\r\n              ) : (\r\n                <ul className=\"space-y-3\">\r\n                  {messages.map((m) => (\r\n                    <li key={m.id} className={`flex ${m.direction === \"INBOUND\" ? \"justify-start\" : \"justify-end\"}`}>\r\n                      <div className={`${m.direction === \"INBOUND\" ? \"bg-slate-50 text-slate-800\" : \"bg-blue-500 text-white\"} px-4 py-2 rounded-lg max-w-[80%]`}>\r\n                        {m.body ?? m.text ?? m.preview}\r\n                      </div>\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"p-4 border-t bg-white\">\r\n              <div className=\"flex gap-2 items-center\">\r\n                <textarea\r\n                  rows={2}\r\n                  value={input}\r\n                  onChange={(e) => setInput(e.target.value)}\r\n                  placeholder=\"Write a message to the team...\"\r\n                  className=\"flex-1 p-3 rounded-lg border border-slate-200 resize-none focus:outline-none\"\r\n                />\r\n                <div className=\"flex flex-col gap-2\">\r\n                  <button onClick={sendMessage} className=\"px-4 py-2 rounded-lg bg-blue-600 text-white\">Send</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <aside className=\"md:col-span-1 border rounded-lg p-3 overflow-auto\">\r\n            <h4 className=\"text-sm font-semibold mb-2\">Members</h4>\r\n            <ul className=\"space-y-2\">\r\n              {(team.members ?? []).map((m: any, idx: number) => {\r\n                const user = m?.user ?? {};\r\n                return (\r\n                  <li key={m.id ?? user.id ?? idx} className=\"flex items-center justify-between\">\r\n                    <div className=\"min-w-0\">\r\n                      <div className=\"text-sm truncate\">{user.name ?? m.name}</div>\r\n                      {user.email && <div className=\"text-xs text-slate-500 truncate\">{user.email}</div>}\r\n                    </div>\r\n                    <div className=\"text-xs text-slate-500\">{m.role ?? \"Member\"}</div>\r\n                  </li>\r\n                );\r\n              })}\r\n            </ul>\r\n          </aside>\r\n        </div>\r\n      </motion.div>\r\n    </motion.div>\r\n  );\r\n\r\n  return (\r\n    <AnimatePresence>\r\n      {!maximized ? MinimizedWidget : MaximizedOverlay}\r\n    </AnimatePresence>\r\n  );\r\n}\r\n\r\n/* ----------------- TeamCard ----------------- */\r\n/* - includes Message button that opens chat widget (through props) */\r\n/* ----------------- TeamCard (responsive actions + overflow fix) ----------------- */\r\nconst TeamCard = ({ team, delay = 0, onOpenSchedule, onEdit, onDelete, onViewMembers, onMessage }: any) => {\r\n  const [isHovered, setIsHovered] = useState(false);\r\n  const [menuOpen, setMenuOpen] = useState(false);\r\n\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0, y: 20 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      transition={{ duration: 0.36, delay }}\r\n      onMouseEnter={() => setIsHovered(true)}\r\n      onMouseLeave={() => {\r\n        setIsHovered(false);\r\n        setMenuOpen(false);\r\n      }}\r\n      className=\"relative p-6 pb-8 bg-white rounded-2xl flex flex-col justify-between shadow-md overflow-visible\"\r\n      role=\"group\"\r\n    >\r\n      {/* top-right actions menu */}\r\n      <div className=\"absolute right-4 top-3 z-40\">\r\n        <div className=\"relative\">\r\n          <button\r\n            type=\"button\"\r\n            aria-label=\"Open team menu\"\r\n            className=\"p-2 rounded-md hover:bg-slate-100 focus:outline-none focus:ring-2 focus:ring-slate-200\"\r\n            onClick={(e) => {\r\n              e.stopPropagation();\r\n              setMenuOpen((s) => !s);\r\n            }}\r\n          >\r\n            <MoreVertical className=\"w-5 h-5 text-slate-600\" />\r\n          </button>\r\n\r\n          {menuOpen && (\r\n            <motion.div\r\n              initial={{ opacity: 0, scale: 0.98 }}\r\n              animate={{ opacity: 1, scale: 1 }}\r\n              exit={{ opacity: 0, scale: 0.98 }}\r\n              transition={{ duration: 0.12 }}\r\n              className=\"absolute right-0 mt-2 w-44 bg-white rounded-lg shadow-lg z-50\"\r\n              onClick={(e) => e.stopPropagation()}\r\n            >\r\n              <button\r\n                type=\"button\"\r\n                className=\"w-full text-left px-3 py-2 hover:bg-slate-50 flex items-center gap-2\"\r\n                onClick={(e) => {\r\n                  e.stopPropagation();\r\n                  setMenuOpen(false);\r\n                  onEdit?.(team);\r\n                }}\r\n              >\r\n                <Edit className=\"w-4 h-4\" /> Edit\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                className=\"w-full text-left px-3 py-2 hover:bg-slate-50 flex items-center gap-2 text-rose-600\"\r\n                onClick={(e) => {\r\n                  e.stopPropagation();\r\n                  setMenuOpen(false);\r\n                  onDelete?.(team);\r\n                }}\r\n              >\r\n                <Trash2 className=\"w-4 h-4\" /> Delete\r\n              </button>\r\n            </motion.div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* content */}\r\n      <div className=\"relative\">\r\n        <div className=\"flex items-start gap-4 mb-4\">\r\n          <motion.div\r\n            className={`w-14 h-14 rounded-xl bg-gradient-to-br ${team.gradient ?? \"from-blue-500 to-cyan-500\"} flex items-center justify-center shadow-md flex-shrink-0`}\r\n            animate={isHovered ? { scale: 1.03, rotate: 4 } : { scale: 1, rotate: 0 }}\r\n            transition={{ duration: 0.22 }}\r\n            aria-hidden\r\n          >\r\n            <Users className=\"w-7 h-7 text-white\" />\r\n          </motion.div>\r\n\r\n          <div className=\"min-w-0 flex-1\">\r\n            <h3 className=\"text-lg font-semibold text-slate-800 leading-tight truncate\">{team.name}</h3>\r\n            <p className=\"text-sm text-slate-500 mt-1 truncate\">{team.description ?? \"\"}</p>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"flex flex-wrap items-center gap-2 mb-4\">\r\n          {team.manager?.name && (\r\n            <div className=\"flex items-center gap-1.5 px-3 py-1.5 bg-amber-50 text-amber-700 rounded-lg text-xs font-medium\">\r\n              <Crown className=\"w-3.5 h-3.5\" />\r\n              {team.manager.name}\r\n            </div>\r\n          )}\r\n          {team.featured && (\r\n            <div className=\"flex items-center gap-1.5 px-3 py-1.5 bg-blue-50 text-blue-700 rounded-lg text-xs font-medium\">\r\n              <Star className=\"w-3.5 h-3.5\" />\r\n              Featured\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"flex -space-x-2 mb-4 flex-wrap\">\r\n          {(team.members ?? []).slice(0, 5).map((member: any, idx: number) => {\r\n            const key = member?.user?.id ?? member?.id ?? `m_${idx}`;\r\n            const title = member?.user?.name ?? member?.name ?? \"\";\r\n            const initials =\r\n              member?.user?.name\r\n                ? member.user.name.split(\" \").map((p: string) => p[0]).slice(0, 2).join(\"\")\r\n                : (title ? title.slice(0, 2).toUpperCase() : \"U\");\r\n            return (\r\n              <div\r\n                key={key}\r\n                title={title}\r\n                className=\"w-10 h-10 rounded-full bg-slate-100 border-2 border-white flex items-center justify-center text-xs font-semibold text-slate-700 shadow-sm\"\r\n              >\r\n                {initials}\r\n              </div>\r\n            );\r\n          })}\r\n          {(team.members ?? []).length > 5 && (\r\n            <div className=\"w-10 h-10 rounded-full bg-slate-100 border-2 border-white flex items-center justify-center text-xs font-semibold text-slate-600\">\r\n              +{team.members.length - 5}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"grid grid-cols-3 gap-4 mb-4 text-center\">\r\n          <div>\r\n            <p className=\"text-2xl font-bold text-slate-800\">{team.members?.length ?? 0}</p>\r\n            <p className=\"text-xs text-slate-500\">Members</p>\r\n          </div>\r\n          <div>\r\n            <p className=\"text-2xl font-bold text-slate-800\">{team.projects ?? 0}</p>\r\n            <p className=\"text-xs text-slate-500\">Projects</p>\r\n          </div>\r\n          <div>\r\n            <p className=\"text-2xl font-bold text-emerald-600\">{team.completion ?? 0}%</p>\r\n            <p className=\"text-xs text-slate-500\">Complete</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* actions area — responsive grid so each action has its own cell (no overlap) */}\r\n      <div className=\"mt-2 pt-2\">\r\n        <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-2 items-stretch\">\r\n          {/* Primary action: Schedule Meeting */}\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => onOpenSchedule?.(team)}\r\n            className=\"w-full inline-flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 text-white text-sm font-medium shadow-md hover:brightness-95 focus:outline-none focus:ring-2 focus:ring-blue-300\"\r\n          >\r\n            <Mail className=\"w-4 h-4\" /> Schedule Meeting\r\n          </button>\r\n\r\n          {/* Secondary: View Members */}\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => onViewMembers?.(team)}\r\n            className=\"w-full inline-flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl bg-slate-100 text-slate-700 text-sm font-medium hover:bg-slate-200 focus:outline-none focus:ring-2 focus:ring-slate-200\"\r\n          >\r\n            <Settings className=\"w-4 h-4\" /> View Members\r\n          </button>\r\n\r\n          {/* Message action */}\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => onMessage?.(team)}\r\n            className=\"w-full inline-flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl bg-white border border-slate-200 text-slate-700 text-sm font-medium hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-slate-200\"\r\n          >\r\n            <MessageSquare className=\"w-4 h-4\" /> Message\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </motion.div>\r\n  );\r\n};\r\n\r\n\r\n\r\n/* ----------------- StatCard ----------------- */\r\nconst StatCard = ({ icon: Icon, label, value, subtitle, gradient, delay }: any) => (\r\n  <motion.div\r\n    initial={{ opacity: 0, scale: 0.98 }}\r\n    animate={{ opacity: 1, scale: 1 }}\r\n    transition={{ duration: 0.3, delay }}\r\n    className=\"p-6 bg-white rounded-2xl border border-slate-200 hover:shadow-lg transition\"\r\n  >\r\n    <div className=\"flex items-start justify-between mb-4\">\r\n      <div className={`w-12 h-12 rounded-xl bg-gradient-to-br ${gradient} flex items-center justify-center shadow-md`}>\r\n        <Icon className=\"w-6 h-6 text-white\" />\r\n      </div>\r\n      <TrendingUp className=\"w-5 h-5 text-emerald-500\" />\r\n    </div>\r\n    <h3 className=\"text-3xl font-bold text-slate-800 mb-1\">{value}</h3>\r\n    <p className=\"text-sm font-medium text-slate-600 mb-1\">{label}</p>\r\n    <p className=\"text-xs text-slate-500\">{subtitle}</p>\r\n  </motion.div>\r\n);\r\n\r\n/* ----------------- Members Modal (unchanged) ----------------- */\r\nfunction MembersModal({\r\n  open,\r\n  onClose,\r\n  team,\r\n  onRemove,\r\n}: {\r\n  open: boolean;\r\n  onClose: () => void;\r\n  team: any | null;\r\n  onRemove: (memberId: string, isManager?: boolean) => Promise<void>;\r\n}) {\r\n  if (!team) return null;\r\n\r\n  const members = team.members ?? [];\r\n  const manager = team.manager ?? null;\r\n  const total = (members?.length ?? 0) + (manager ? 1 : 0);\r\n\r\n  return (\r\n    <Modal open={open} onClose={onClose} ariaLabel={`Members of ${team.name}`} className=\"max-w-2xl\">\r\n      <div className=\"w-full bg-transparent\">\r\n        <div className=\"bg-white rounded-2xl shadow-sm overflow-hidden\">\r\n          <div className=\"px-6 py-4 border-none\">\r\n            <div className=\"flex items-start justify-between gap-4\">\r\n              <div>\r\n                <h2 className=\"text-lg font-semibold text-slate-900\">{team.name ?? \"Team members\"}</h2>\r\n                <p className=\"text-sm text-slate-500 mt-1\">{total} member{total !== 1 ? \"s\" : \"\"}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"p-4 space-y-3 max-h-[60vh] overflow-auto\">\r\n            {manager && (\r\n              <div className=\"flex items-center justify-between gap-4 bg-white rounded-lg p-3 border-none shadow-md\">\r\n                <div className=\"flex items-center gap-3 min-w-0\">\r\n                  <div className=\"w-10 h-10 rounded-full bg-gradient-to-br from-slate-200 to-slate-300 border-2 border-white flex items-center justify-center text-xs font-semibold text-slate-700\">\r\n                    {String((manager.name || \"\").split(\" \").map((p: string) => p[0]).slice(0, 2).join(\"\")).toUpperCase() || \"M\"}\r\n                  </div>\r\n                  <div className=\"min-w-0\">\r\n                    <div className=\"text-sm font-medium text-slate-800 truncate\">{manager.name ?? \"Manager\"}</div>\r\n                    {manager.email && <div className=\"text-xs text-slate-500 truncate\">{manager.email}</div>}\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"flex items-center gap-2\">\r\n                  <div className=\"text-xs font-medium px-2 py-1 rounded-full bg-amber-50 text-amber-700\">MANAGER</div>\r\n                  <button\r\n                    onClick={() => {\r\n                      if (!confirm(`Remove ${manager.name ?? \"this manager\"} from team \"${team.name}\"?`)) return;\r\n                      onRemove(manager.id ?? manager.user?.id ?? manager.userId, true);\r\n                    }}\r\n                    type=\"button\"\r\n                    className=\"px-3 py-1 rounded-md bg-rose-600 text-white hover:bg-rose-700 flex items-center gap-2\"\r\n                  >\r\n                    <Trash2 className=\"w-4 h-4\" /> Remove\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {members.length === 0 ? (\r\n              <div className=\"p-4 bg-slate-50 rounded-lg text-sm text-slate-600\">No members assigned to this team.</div>\r\n            ) : (\r\n              <ul className=\"space-y-3\">\r\n                {members.map((m: any, idx: number) => {\r\n                  const user = m?.user ?? {};\r\n                  const name = user?.name ?? m?.name ?? `Member ${idx + 1}`;\r\n                  const email = user?.email ?? m?.email ?? \"\";\r\n                  const role = m?.role ?? m?.assignedRole ?? \"Member\";\r\n                  const memberId = m?.id ?? user?.id ?? m?.userId ?? String(idx);\r\n                  return (\r\n                    <li key={memberId} className=\"flex items-center justify-between gap-4 bg-white rounded-lg p-3 border-none shadow-md\">\r\n                      <div className=\"flex items-center gap-3 min-w-0\">\r\n                        <div className=\"w-10 h-10 rounded-full bg-gradient-to-br from-slate-200 to-slate-300 border-2 border-white flex items-center justify-center text-xs font-semibold text-slate-700 \">\r\n                          {String(name.split(\" \").map((p: string) => p[0]).slice(0, 2).join(\"\")).toUpperCase()}\r\n                        </div>\r\n                        <div className=\"min-w-0\">\r\n                          <div className=\"text-sm font-medium text-slate-800 truncate\">{name}</div>\r\n                          {email && <div className=\"text-xs text-slate-500 truncate\">{email}</div>}\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"flex items-center gap-3\">\r\n                        <div className=\"text-sm text-slate-600 px-3 py-1 rounded-md bg-slate-50\">{role}</div>\r\n                        <button\r\n                          onClick={() => {\r\n                            if (!confirm(`Remove ${name} from team \"${team.name}\"?`)) return;\r\n                            onRemove(memberId);\r\n                          }}\r\n                          type=\"button\"\r\n                          className=\"px-3 py-1 rounded-md bg-rose-600 text-white hover:bg-rose-700 flex items-center gap-2\"\r\n                        >\r\n                          <Trash2 className=\"w-4 h-4\" /> Remove\r\n                        </button>\r\n                      </div>\r\n                    </li>\r\n                  );\r\n                })}\r\n              </ul>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\n/* ----------------- Main Page ----------------- */\r\nexport default function TeamsPage() {\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [showCreate, setShowCreate] = useState(false);\r\n  const [editTeam, setEditTeam] = useState<any | null>(null);\r\n  const [confirmDelete, setConfirmDelete] = useState<any | null>(null);\r\n\r\n  // schedule modal state\r\n  const [showSchedule, setShowSchedule] = useState(false);\r\n  const [selectedTeamForSchedule, setSelectedTeamForSchedule] = useState<any | null>(null);\r\n\r\n  // members modal state\r\n  const [showMembersModal, setShowMembersModal] = useState(false);\r\n  const [selectedTeamForMembers, setSelectedTeamForMembers] = useState<any | null>(null);\r\n\r\n  // chat widget (single instance)\r\n  const [chatState, setChatState] = useState<{ opened: boolean; maximized: boolean; team: any | null } | null>(null);\r\n\r\n  // data\r\n  const [teams, setTeams] = useState<any[]>([]);\r\n  const [teamsLoading, setTeamsLoading] = useState(true);\r\n  const [teamsError, setTeamsError] = useState<string | null>(null);\r\n\r\n  const [managers, setManagers] = useState<any[]>([]);\r\n  const [employees, setEmployees] = useState<any[]>([]);\r\n  const [usersLoading, setUsersLoading] = useState(true);\r\n\r\n  /* -- fetch teams -- */\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    (async () => {\r\n      setTeamsLoading(true);\r\n      setTeamsError(null);\r\n      try {\r\n        const res = await fetch(\"/api/teams\", { credentials: \"same-origin\" });\r\n        if (!res.ok) {\r\n          const alt = await fetch(\"/api/dashboard/teams\", { credentials: \"same-origin\" });\r\n          if (!alt.ok) throw new Error(\"Failed to load teams\");\r\n          const altJson = await alt.json().catch(() => null);\r\n          const list = safeParseListResponse(altJson);\r\n          if (mounted) setTeams(list);\r\n        } else {\r\n          const j = await res.json().catch(() => null);\r\n          const list = safeParseListResponse(j);\r\n          if (mounted) setTeams(list);\r\n        }\r\n      } catch (err: any) {\r\n        if (mounted) setTeamsError(err?.message || \"Could not fetch teams\");\r\n        console.error(\"[teams] fetch error:\", err);\r\n      } finally {\r\n        if (mounted) setTeamsLoading(false);\r\n      }\r\n    })();\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, []);\r\n\r\n  /* -- fetch users for selectors -- */\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    (async () => {\r\n      setUsersLoading(true);\r\n      try {\r\n        const [mRes, eRes] = await Promise.all([\r\n          fetch(\"/api/users?role=MANAGER\", { credentials: \"same-origin\" }),\r\n          fetch(\"/api/users?role=EMPLOYEE\", { credentials: \"same-origin\" }),\r\n        ]);\r\n\r\n        if (mRes.ok) {\r\n          const j = await mRes.json().catch(() => null);\r\n          const list = safeParseListResponse(j);\r\n          if (mounted) setManagers(list);\r\n        } else {\r\n          if (mounted) setManagers([]);\r\n        }\r\n\r\n        if (eRes.ok) {\r\n          const j = await eRes.json().catch(() => null);\r\n          const list = safeParseListResponse(j);\r\n          if (mounted) setEmployees(list);\r\n        } else {\r\n          if (mounted) setEmployees([]);\r\n        }\r\n      } catch (err) {\r\n        console.warn(\"[users] fetch failed:\", err);\r\n        if (mounted) {\r\n          setManagers([]);\r\n          setEmployees([]);\r\n        }\r\n      } finally {\r\n        if (mounted) setUsersLoading(false);\r\n      }\r\n    })();\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, []);\r\n\r\n  /* -- filtering -- */\r\n  const filteredTeams = useMemo(() => {\r\n    const q = searchQuery.trim().toLowerCase();\r\n    if (!q) return teams;\r\n    return teams.filter((team) =>\r\n      (team.name ?? \"\").toLowerCase().includes(q) ||\r\n      (team.description ?? \"\").toLowerCase().includes(q) ||\r\n      (team.manager?.name ?? \"\").toLowerCase().includes(q)\r\n    );\r\n  }, [teams, searchQuery]);\r\n\r\n  /* -- create / update handler: accepts either server object (with id) or payload -- */\r\n  async function handleCreateOrUpdateTeam(payloadOrCreated: any, opts?: { isEdit?: boolean; id?: string }) {\r\n    try {\r\n      if (opts?.isEdit && opts.id) {\r\n        const res = await fetch(`/api/teams/${encodeURIComponent(opts.id)}`, {\r\n          method: \"PUT\",\r\n          credentials: \"same-origin\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify(payloadOrCreated),\r\n        });\r\n        if (!res.ok) {\r\n          const err = await res.json().catch(() => ({}));\r\n          throw new Error(err?.message || `Failed to update team (${res.status})`);\r\n        }\r\n        const json = await res.json().catch(() => null);\r\n        const updated = json?.team ?? json;\r\n        setTeams((prev) =>\r\n          prev.map((t) => (t.id === opts.id ? (updated ? { ...t, ...updated } : { ...t, ...payloadOrCreated }) : t))\r\n        );\r\n        setEditTeam(null);\r\n        setShowCreate(false);\r\n        return;\r\n      }\r\n\r\n      if (payloadOrCreated && payloadOrCreated.id) {\r\n        setTeams((prev) => [payloadOrCreated, ...prev]);\r\n        setShowCreate(false);\r\n        return;\r\n      }\r\n\r\n      const res = await fetch(\"/api/teams\", {\r\n        method: \"POST\",\r\n        credentials: \"same-origin\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(payloadOrCreated),\r\n      });\r\n      if (!res.ok) {\r\n        const err = await res.json().catch(() => ({}));\r\n        throw new Error(err?.message || `Failed to create team (${res.status})`);\r\n      }\r\n      const json = await res.json().catch(() => null);\r\n      const created = json?.team ?? json;\r\n      if (created && created.id) {\r\n        setTeams((prev) => [created, ...prev]);\r\n      } else {\r\n        setTeams((prev) => [\r\n          {\r\n            id: `tmp_${Date.now()}`,\r\n            ...payloadOrCreated,\r\n            manager: managers.find((m) => m.id === payloadOrCreated.managerId) ?? null,\r\n            members: (payloadOrCreated.memberUserIds ?? []).map((id: string) => {\r\n              const u = employees.find((e) => e.id === id);\r\n              return { id, user: u ? { id: u.id, name: u.name, email: u.email } : undefined };\r\n            }),\r\n          },\r\n          ...prev,\r\n        ]);\r\n      }\r\n      setShowCreate(false);\r\n    } catch (err: any) {\r\n      console.error(\"Create/update team error:\", err);\r\n      alert(\"Error: \" + (err?.message || \"Unknown error\"));\r\n    }\r\n  }\r\n\r\n  /* -- open create / edit -- */\r\n  function openCreate() {\r\n    setEditTeam(null);\r\n    setShowCreate(true);\r\n  }\r\n  function handleEdit(team: any) {\r\n    setEditTeam(team);\r\n    setShowCreate(true);\r\n  }\r\n\r\n  /* -- delete flow -- */\r\n  function handleDeleteRequest(team: any) {\r\n    setConfirmDelete(team);\r\n  }\r\n  async function confirmDeleteNow(team: any) {\r\n    try {\r\n      const res = await fetch(`/api/teams/${encodeURIComponent(team.id)}`, {\r\n        method: \"DELETE\",\r\n        credentials: \"same-origin\",\r\n      });\r\n      if (!res.ok) {\r\n        const err = await res.json().catch(() => ({}));\r\n        throw new Error(err?.message || `Delete failed (${res.status})`);\r\n      }\r\n      setTeams((prev) => prev.filter((t) => t.id !== team.id));\r\n      setConfirmDelete(null);\r\n    } catch (err: any) {\r\n      console.error(\"Delete team error:\", err);\r\n      alert(\"Failed to delete team: \" + (err?.message || \"unknown\"));\r\n    }\r\n  }\r\n\r\n  /* -- schedule modal handlers -- */\r\n  function openScheduleForTeam(team: any) {\r\n    setSelectedTeamForSchedule(team);\r\n    setShowSchedule(true);\r\n  }\r\n  function handleScheduleMeeting(meeting: any) {\r\n    setSelectedTeamForSchedule(null);\r\n    setShowSchedule(false);\r\n  }\r\n\r\n  /* -- members modal handlers -- */\r\n  function openMembersModalForTeam(team: any) {\r\n    setSelectedTeamForMembers(team);\r\n    setShowMembersModal(true);\r\n  }\r\n  function closeMembersModal() {\r\n    setSelectedTeamForMembers(null);\r\n    setShowMembersModal(false);\r\n  }\r\n\r\n  /* -- remove member (employee or manager) */\r\n  async function removeMemberFromTeam(memberId: string, isManager = false) {\r\n    if (!selectedTeamForMembers) return;\r\n    const teamId = selectedTeamForMembers.id;\r\n    // optimistic UI update\r\n    setTeams((prev) =>\r\n      prev.map((t) => {\r\n        if (t.id !== teamId) return t;\r\n        if (isManager) {\r\n          return { ...t, manager: null };\r\n        }\r\n        return { ...t, members: (t.members ?? []).filter((m: any) => (m.id ?? m.user?.id ?? m.userId) !== memberId) };\r\n      })\r\n    );\r\n    setSelectedTeamForMembers((prev: any) => {\r\n      if (!prev) return prev;\r\n      if (isManager) {\r\n        return { ...prev, manager: null };\r\n      }\r\n      return { ...prev, members: (prev.members ?? []).filter((m: any) => (m.id ?? m.user?.id ?? m.userId) !== memberId) };\r\n    });\r\n\r\n    try {\r\n      const res = await fetch(`/api/teams/${encodeURIComponent(teamId)}/members/${encodeURIComponent(memberId)}`, {\r\n        method: \"DELETE\",\r\n        credentials: \"same-origin\",\r\n      });\r\n      if (!res.ok) throw new Error(`Failed to remove member (${res.status})`);\r\n    } catch (err: any) {\r\n      console.error(\"remove member failed:\", err);\r\n      alert(\"Failed to remove member: \" + (err?.message || \"unknown\"));\r\n      // rollback: refetch teams\r\n      try {\r\n        const r = await fetch(\"/api/teams\", { credentials: \"same-origin\" });\r\n        const j = await r.json().catch(() => null);\r\n        const list = safeParseListResponse(j);\r\n        setTeams(list);\r\n        const updated = list.find((x: any) => x.id === teamId);\r\n        setSelectedTeamForMembers(updated ?? null);\r\n      } catch (e) {\r\n        console.warn(\"refetch teams failed:\", e);\r\n      }\r\n    }\r\n  }\r\n\r\n  /* -- message button handler: open single widget instance, toggle behavior -- */\r\n  function handleOpenMessage(team: any) {\r\n    // If widget already open for same team: toggle maximize off -> minimized or close\r\n    if (chatState && chatState.team?.id === team.id) {\r\n      // toggle open/close\r\n      setChatState((s) => (s ? (s.opened ? null : { opened: true, maximized: false, team }) : { opened: true, maximized: false, team }));\r\n      return;\r\n    }\r\n    // open widget minimized by default\r\n    setChatState({ opened: true, maximized: false, team });\r\n  }\r\n\r\n  function handleCloseChat() {\r\n    setChatState(null);\r\n  }\r\n\r\n  function handleUpdateChatState(s: { opened: boolean; maximized: boolean; team: any | null } | null) {\r\n    setChatState(s);\r\n  }\r\n\r\n  /* -- render -- */\r\n  return (\r\n    <>\r\n      <div className=\"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-50 p-4 sm:p-6 lg:p-8\">\r\n        <div className=\"max-w-7xl mx-auto\">\r\n          {/* header */}\r\n          <motion.div initial={{ opacity: 0, y: -14 }} animate={{ opacity: 1, y: 0 }} transition={{ duration: 0.4 }} className=\"mb-6\">\r\n            <h1 className=\"text-3xl md:text-4xl font-bold text-slate-900 mb-1\">Teams</h1>\r\n            <p className=\"text-slate-500 flex items-center gap-2\"><Users className=\"w-4 h-4\" /> Manage and collaborate with your teams</p>\r\n          </motion.div>\r\n\r\n          {/* stats */}\r\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-8\">\r\n            <StatCard icon={Users} label=\"Total Teams\" value={String(teams.length)} subtitle=\"+0 this month\" gradient=\"from-blue-500 to-cyan-500\" delay={0} />\r\n            <StatCard icon={Activity} label=\"Active Members\" value={String(teams.reduce((a, t) => a + (t.members?.length ?? 0), 0))} subtitle=\"Across all teams\" gradient=\"from-emerald-500 to-teal-500\" delay={0.05} />\r\n            <StatCard icon={Target} label=\"Active Projects\" value={String(teams.reduce((a, t) => a + (t.projects ?? 0), 0))} subtitle=\"In progress\" gradient=\"from-violet-500 to-purple-500\" delay={0.1} />\r\n            <StatCard icon={Award} label=\"Avg Completion\" value={`${Math.round((teams.reduce((a, t) => a + (t.completion ?? 0), 0) / Math.max(1, teams.length)))}%`} subtitle=\"+0% from last month\" gradient=\"from-orange-500 to-rose-500\" delay={0.15} />\r\n          </div>\r\n\r\n          {/* search & create */}\r\n          <div className=\"mb-6 flex flex-col sm:flex-row gap-4\">\r\n            <div className=\"relative flex-1\">\r\n              <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400\" />\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Search teams...\"\r\n                value={searchQuery}\r\n                onChange={(e) => setSearchQuery(e.target.value)}\r\n                className=\"w-full pl-10 pr-4 py-3 bg-white border border-slate-200 rounded-xl text-sm placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 shadow-sm\"\r\n              />\r\n            </div>\r\n\r\n            <motion.button onClick={() => setShowCreate(true)} whileHover={{ scale: 1.02 }} whileTap={{ scale: 0.98 }} className=\"px-6 py-3 bg-gradient-to-br from-blue-500 to-cyan-500 text-white rounded-xl text-sm font-medium shadow-lg hover:shadow-xl flex items-center gap-2\">\r\n              <Plus className=\"w-4 h-4\" /> Create Team\r\n            </motion.button>\r\n          </div>\r\n\r\n          {/* teams grid */}\r\n         <div className=\"\r\n  grid grid-cols-1 \r\n  sm:grid-cols-2 \r\n  lg:grid-cols-2 \r\n  xl:grid-cols-3 \r\n  gap-6 \r\n  items-start \r\n  auto-rows-auto\r\n\">\r\n\r\n            {teamsLoading ? (\r\n              <div className=\"col-span-full p-6 bg-white rounded-2xl border border-slate-200\">Loading teams…</div>\r\n            ) : filteredTeams.length === 0 ? (\r\n              <div className=\"col-span-full p-6 bg-white rounded-2xl border border-slate-200 text-center\">No teams found</div>\r\n            ) : (\r\n              filteredTeams.map((team, i) => (\r\n                <TeamCard\r\n                  key={uidFromTeam(team, i)}\r\n                  team={team}\r\n                  delay={0.18 + i * 0.04}\r\n                  onOpenSchedule={openScheduleForTeam}\r\n                  onEdit={handleEdit}\r\n                  onDelete={handleDeleteRequest}\r\n                  onViewMembers={openMembersModalForTeam}\r\n                  onMessage={handleOpenMessage}\r\n                />\r\n              ))\r\n            )}\r\n          </div>\r\n\r\n          {teamsError && <div className=\"mt-4 text-sm text-rose-600\">{teamsError}</div>}\r\n        </div>\r\n      </div>\r\n\r\n      {/* create / edit modal */}\r\n      <AnimatePresence>\r\n        {(showCreate || editTeam) && (\r\n          <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} className=\"fixed inset-0 z-50 flex items-center justify-center\">\r\n            <motion.div\r\n              initial={{ opacity: 0 }}\r\n              animate={{ opacity: 1 }}\r\n              exit={{ opacity: 0 }}\r\n              transition={{ duration: 0.12 }}\r\n              className=\"absolute inset-0 bg-black/20 backdrop-blur-sm\"\r\n              onClick={() => {\r\n                setShowCreate(false);\r\n                setEditTeam(null);\r\n              }}\r\n            />\r\n            <div className=\"relative z-10 w-full max-w-2xl p-4\">\r\n              <CreateTeamForm\r\n                managers={managers}\r\n                employees={employees}\r\n                loadingUsers={usersLoading}\r\n                initialTeam={editTeam ?? undefined}\r\n                onCreate={(payloadOrCreated: any) => handleCreateOrUpdateTeam(payloadOrCreated)}\r\n                onUpdate={(id: string, payload: any) => handleCreateOrUpdateTeam(payload, { isEdit: true, id })}\r\n                onDelete={(id: string) => {\r\n                  setTeams((prev) => prev.filter((t) => t.id !== id));\r\n                }}\r\n                onClose={() => {\r\n                  setShowCreate(false);\r\n                  setEditTeam(null);\r\n                }}\r\n              />\r\n            </div>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n\r\n      {/* confirm delete modal */}\r\n      <AnimatePresence>\r\n        {confirmDelete && (\r\n          <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} className=\"fixed inset-0 z-60 flex items-center justify-center\">\r\n            <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} transition={{ duration: 0.12 }} className=\"absolute inset-0 bg-black/20\" onClick={() => setConfirmDelete(null)} />\r\n            <motion.div initial={{ scale: 0.98 }} animate={{ scale: 1 }} exit={{ scale: 0.98 }} transition={{ duration: 0.12 }} className=\"relative z-10 w-full max-w-md bg-white rounded-2xl border p-6\">\r\n              <h3 className=\"text-lg font-semibold\">Delete team?</h3>\r\n              <p className=\"text-sm text-slate-600 mt-2\">This will remove the team and its membership associations. This action cannot be undone.</p>\r\n              <div className=\"mt-4 flex justify-end gap-3\">\r\n                <button className=\"px-4 py-2 rounded-md\" onClick={() => setConfirmDelete(null)} type=\"button\">Cancel</button>\r\n                <button className=\"px-4 py-2 rounded-md bg-rose-600 text-white\" onClick={() => confirmDeleteNow(confirmDelete)} type=\"button\">Delete</button>\r\n              </div>\r\n            </motion.div>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n\r\n      {/* schedule meeting modal */}\r\n      <AnimatePresence>\r\n        {showSchedule && selectedTeamForSchedule && (\r\n          <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} className=\"fixed inset-0 z-50 flex items-center justify-center\">\r\n            <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} transition={{ duration: 0.18 }} className=\"absolute inset-0 bg-black/20 backdrop-blur-sm\" onClick={() => { setShowSchedule(false); setSelectedTeamForSchedule(null); }} />\r\n            <div className=\"relative z-10 w-full max-w-2xl p-4\">\r\n              <ScheduleMeetingForm team={selectedTeamForSchedule} onClose={() => { setShowSchedule(false); setSelectedTeamForSchedule(null); }} onSchedule={(m) => handleScheduleMeeting(m)} />\r\n            </div>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n\r\n      {/* members modal */}\r\n      <AnimatePresence>\r\n        {showMembersModal && selectedTeamForMembers && (\r\n          <MembersModal\r\n            key={selectedTeamForMembers.id ?? \"members-modal\"}\r\n            open={showMembersModal}\r\n            onClose={closeMembersModal}\r\n            team={selectedTeamForMembers}\r\n            onRemove={removeMemberFromTeam}\r\n          />\r\n        )}\r\n      </AnimatePresence>\r\n\r\n      {/* Chat widget (single instance) */}\r\n      <ChatWidget state={chatState} onClose={handleCloseChat} onUpdateState={handleUpdateChatState} />\r\n    </>\r\n  );\r\n}\r\n"],"names":["c","_c","React","useEffect","useMemo","useState","motion","AnimatePresence","Search","Users","Plus","MoreVertical","Mail","Crown","Star","Settings","TrendingUp","Activity","Award","Target","Edit","Trash2","MessageSquare","X","Minimize2","Maximize2","CreateTeamForm","ScheduleMeetingForm","Modal","safeParseListResponse","j","Array","isArray","teams","users","data","uidFromTeam","team","idx","id","name","slice","ChatWidget","state","onClose","onUpdateState","opened","maximized","s","messages","setMessages","input","setInput","loading","setLoading","mounted","load","q","URLSearchParams","teamId","res","fetch","toString","credentials","ok","json","catch","chats","length","chat","e","console","warn","sendMessage","body","trim","optimistic","Date","now","createdAt","toISOString","sender","direction","m","method","headers","JSON","stringify","message","encodeURIComponent","MinimizedWidget","opacity","y","scale","map","preview","text","toLocaleTimeString","target","value","key","preventDefault","MaximizedOverlay","duration","minHeight","members","user","email","role","TeamCard","t0","$","$i","Symbol","for","delay","t1","onOpenSchedule","onEdit","onDelete","onViewMembers","onMessage","undefined","isHovered","setIsHovered","menuOpen","setMenuOpen","t2","t3","t4","t5","t6","t7","stopPropagation","_temp","t8","_temp2","e_1","e_2","t9","t10","gradient","t11","rotate","t12","t13","t14","t15","t16","description","t17","t18","t19","t20","manager","t21","featured","t22","t23","_temp4","t24","t25","t26","t27","t28","t29","t30","projects","t31","t32","t33","t34","completion","t35","t36","t37","t38","t39","t40","t41","t42","t43","t44","t45","t46","t47","t48","t49","t50","StatCard","icon","Icon","label","subtitle","MembersModal","open","onRemove","total","String","split","_MembersModalAnonymous","join","toUpperCase","MembersModal[<button>.onClick]","confirm","userId","MembersModal[members.map()]","assignedRole","memberId","_MembersModalMembersMapAnonymous","MembersModal[members.map() > <button>.onClick]","p_0","p","TeamsPage","searchQuery","setSearchQuery","showCreate","setShowCreate","editTeam","setEditTeam","confirmDelete","setConfirmDelete","showSchedule","setShowSchedule","selectedTeamForSchedule","setSelectedTeamForSchedule","showMembersModal","setShowMembersModal","selectedTeamForMembers","setSelectedTeamForMembers","chatState","setChatState","setTeams","teamsLoading","setTeamsLoading","teamsError","setTeamsError","managers","setManagers","employees","setEmployees","usersLoading","setUsersLoading","alt","Error","altJson","list","err","error","mRes","eRes","Promise","all","filteredTeams","toLowerCase","filter","includes","handleCreateOrUpdateTeam","payloadOrCreated","opts","isEdit","status","updated","prev","t","created","find","managerId","memberUserIds","u","alert","openCreate","handleEdit","handleDeleteRequest","confirmDeleteNow","openScheduleForTeam","handleScheduleMeeting","meeting","openMembersModalForTeam","closeMembersModal","removeMemberFromTeam","isManager","r","x","handleOpenMessage","handleCloseChat","handleUpdateChatState","reduce","a","Math","round","max","i","payload","e_0","_temp3","member","title","initials"],"mappings":"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","ignoreList":[],"debugId":null}}]
}