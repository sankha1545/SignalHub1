{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 142, "column": 0}, "map": {"version":3,"sources":["file:///E:/Attack%20Capital/SignalHub/frontend/src/lib/prisma.ts"],"sourcesContent":["// lib/prisma.ts\r\nimport { PrismaClient } from \"@prisma/client\";\r\n\r\ndeclare global {\r\n  // eslint-disable-next-line\r\n  var __prisma__: PrismaClient | undefined;\r\n}\r\nexport const prisma =\r\n  global.__prisma__ ??\r\n  new PrismaClient({\r\n    log: process.env.NODE_ENV === \"development\" ? [\"query\", \"warn\", \"error\"] : [\"error\"],\r\n  });\r\n\r\nif (process.env.NODE_ENV !== \"production\") global.__prisma__ = prisma;\r\n"],"names":[],"mappings":"AAAA,gBAAgB;;;;;AAChB;;AAMO,MAAM,SACX,OAAO,UAAU,IACjB,IAAI,6IAAY,CAAC;IACf,KAAK,uCAAyC;QAAC;QAAS;QAAQ;KAAQ,GAAG;AAC7E;AAEF,wCAA2C,OAAO,UAAU,GAAG","debugId":null}},
    {"offset": {"line": 167, "column": 0}, "map": {"version":3,"sources":["file:///E:/Attack%20Capital/SignalHub/frontend/src/lib/jwt.ts"],"sourcesContent":["// src/lib/jwt.ts\r\nimport jwt, { JwtPayload } from \"jsonwebtoken\";\r\n\r\nconst SECRET = process.env.JWT_SECRET;\r\nif (!SECRET) {\r\n  if (process.env.NODE_ENV === \"production\") {\r\n    throw new Error(\"JWT_SECRET environment variable must be set in production!\");\r\n  } else {\r\n    console.warn(\"[JWT] Using fallback secret for development\");\r\n  }\r\n}\r\n\r\n/**\r\n * üîê Create a short-lived temp token (email/phone verification)\r\n */\r\nexport function signTemp(payload: Record<string, any>, expiresIn: string = \"15m\"): string {\r\n  const safePayload = { ...payload };\r\n  delete safePayload.exp;\r\n  return jwt.sign(safePayload, SECRET!, { expiresIn });\r\n}\r\n\r\n/**\r\n * ‚úÖ Verify short-lived temp tokens\r\n * Returns payload object or null if invalid/expired\r\n */\r\nexport function verifyTemp(token: string): Record<string, any> | null {\r\n  try {\r\n    return jwt.verify(token, SECRET!) as Record<string, any>;\r\n  } catch (err) {\r\n    console.warn(\"[JWT] verifyTemp failed:\", (err as Error).message);\r\n    return null;\r\n  }\r\n}\r\n\r\n/**\r\n * üíæ Create a long-lived session token for logged-in users\r\n */\r\nexport function signSession(payload: Record<string, any>, expiresIn: string = \"7d\"): string {\r\n  const safePayload = { ...payload };\r\n  delete safePayload.exp;\r\n  return jwt.sign(safePayload, SECRET!, { expiresIn });\r\n}\r\n\r\n/**\r\n * üîé Verify a session token\r\n * Returns payload object or null if invalid/expired\r\n */\r\nexport function verifySession(token: string): Record<string, any> | null {\r\n  try {\r\n    return jwt.verify(token, SECRET!) as Record<string, any>;\r\n  } catch (err) {\r\n    console.warn(\"[JWT] verifySession failed:\", (err as Error).message);\r\n    return null;\r\n  }\r\n}\r\n"],"names":[],"mappings":"AAAA,iBAAiB;;;;;;;;;;;AACjB;;AAEA,MAAM,SAAS,QAAQ,GAAG,CAAC,UAAU;AACrC,IAAI,CAAC,QAAQ;IACX;;SAEO;QACL,QAAQ,IAAI,CAAC;IACf;AACF;AAKO,SAAS,SAAS,OAA4B,EAAE,YAAoB,KAAK;IAC9E,MAAM,cAAc;QAAE,GAAG,OAAO;IAAC;IACjC,OAAO,YAAY,GAAG;IACtB,OAAO,kJAAG,CAAC,IAAI,CAAC,aAAa,QAAS;QAAE;IAAU;AACpD;AAMO,SAAS,WAAW,KAAa;IACtC,IAAI;QACF,OAAO,kJAAG,CAAC,MAAM,CAAC,OAAO;IAC3B,EAAE,OAAO,KAAK;QACZ,QAAQ,IAAI,CAAC,4BAA4B,AAAC,IAAc,OAAO;QAC/D,OAAO;IACT;AACF;AAKO,SAAS,YAAY,OAA4B,EAAE,YAAoB,IAAI;IAChF,MAAM,cAAc;QAAE,GAAG,OAAO;IAAC;IACjC,OAAO,YAAY,GAAG;IACtB,OAAO,kJAAG,CAAC,IAAI,CAAC,aAAa,QAAS;QAAE;IAAU;AACpD;AAMO,SAAS,cAAc,KAAa;IACzC,IAAI;QACF,OAAO,kJAAG,CAAC,MAAM,CAAC,OAAO;IAC3B,EAAE,OAAO,KAAK;QACZ,QAAQ,IAAI,CAAC,+BAA+B,AAAC,IAAc,OAAO;QAClE,OAAO;IACT;AACF","debugId":null}},
    {"offset": {"line": 226, "column": 0}, "map": {"version":3,"sources":["file:///E:/Attack%20Capital/SignalHub/frontend/src/lib/auth.ts"],"sourcesContent":["// src/lib/auth.ts\r\nimport { prisma } from \"@/lib/prisma\";\r\nimport { verifySession } from \"@/lib/jwt\";\r\n\r\nexport type SessionUser = {\r\n  id: string;\r\n  email?: string | null;\r\n  role: string;\r\n  organizationId?: string | null;\r\n};\r\n\r\nexport async function getSessionUser(req: Request): Promise<SessionUser | null> {\r\n  try {\r\n    // 1Ô∏è‚É£ Prefer Authorization header: \"Bearer <token>\"\r\n    let token: string | null = null;\r\n    const authHeader = req.headers.get(\"authorization\");\r\n    if (authHeader?.startsWith(\"Bearer \")) {\r\n      token = authHeader.slice(\"Bearer \".length).trim();\r\n    }\r\n\r\n    // 2Ô∏è‚É£ Fallback to cookies\r\n    if (!token) {\r\n      const cookieHeader = req.headers.get(\"cookie\") || \"\";\r\n      const cookies: Record<string, string> = Object.fromEntries(\r\n        cookieHeader\r\n          .split(\";\")\r\n          .map(c => c.trim().split(\"=\"))\r\n          .map(([k, v]) => [decodeURIComponent(k), decodeURIComponent(v)])\r\n      );\r\n      token = cookies[\"session\"] || cookies[\"token\"] || null;\r\n    }\r\n\r\n    if (!token) return null;\r\n\r\n    // 3Ô∏è‚É£ Verify token safely\r\n    const payload = verifySession(token);\r\n    if (!payload?.id) return null;\r\n\r\n    // 4Ô∏è‚É£ Fetch user from DB\r\n    const user = await prisma.user.findUnique({ where: { id: payload.id } });\r\n    if (!user) return null;\r\n\r\n    return {\r\n      id: user.id,\r\n      email: user.email ?? null,\r\n      role: user.role,\r\n      organizationId: user.organizationId,\r\n    };\r\n  } catch (err: any) {\r\n    console.warn(\"[getSessionUser] error:\", err?.message || err);\r\n    return null;\r\n  }\r\n}\r\n"],"names":[],"mappings":"AAAA,kBAAkB;;;;;AAClB;AACA;;;AASO,eAAe,eAAe,GAAY;IAC/C,IAAI;QACF,oDAAoD;QACpD,IAAI,QAAuB;QAC3B,MAAM,aAAa,IAAI,OAAO,CAAC,GAAG,CAAC;QACnC,IAAI,YAAY,WAAW,YAAY;YACrC,QAAQ,WAAW,KAAK,CAAC,UAAU,MAAM,EAAE,IAAI;QACjD;QAEA,0BAA0B;QAC1B,IAAI,CAAC,OAAO;YACV,MAAM,eAAe,IAAI,OAAO,CAAC,GAAG,CAAC,aAAa;YAClD,MAAM,UAAkC,OAAO,WAAW,CACxD,aACG,KAAK,CAAC,KACN,GAAG,CAAC,CAAA,IAAK,EAAE,IAAI,GAAG,KAAK,CAAC,MACxB,GAAG,CAAC,CAAC,CAAC,GAAG,EAAE,GAAK;oBAAC,mBAAmB;oBAAI,mBAAmB;iBAAG;YAEnE,QAAQ,OAAO,CAAC,UAAU,IAAI,OAAO,CAAC,QAAQ,IAAI;QACpD;QAEA,IAAI,CAAC,OAAO,OAAO;QAEnB,0BAA0B;QAC1B,MAAM,UAAU,IAAA,oIAAa,EAAC;QAC9B,IAAI,CAAC,SAAS,IAAI,OAAO;QAEzB,yBAAyB;QACzB,MAAM,OAAO,MAAM,gIAAM,CAAC,IAAI,CAAC,UAAU,CAAC;YAAE,OAAO;gBAAE,IAAI,QAAQ,EAAE;YAAC;QAAE;QACtE,IAAI,CAAC,MAAM,OAAO;QAElB,OAAO;YACL,IAAI,KAAK,EAAE;YACX,OAAO,KAAK,KAAK,IAAI;YACrB,MAAM,KAAK,IAAI;YACf,gBAAgB,KAAK,cAAc;QACrC;IACF,EAAE,OAAO,KAAU;QACjB,QAAQ,IAAI,CAAC,2BAA2B,KAAK,WAAW;QACxD,OAAO;IACT;AACF","debugId":null}},
    {"offset": {"line": 278, "column": 0}, "map": {"version":3,"sources":["file:///E:/Attack%20Capital/SignalHub/frontend/src/app/api/invites/creates/route.ts"],"sourcesContent":["// src/app/api/invites/creates/route.ts\r\nimport path from \"path\";\r\nimport fs from \"fs\";\r\nimport { NextResponse } from \"next/server\";\r\nimport crypto from \"crypto\";\r\nimport nodemailer from \"nodemailer\";\r\nimport dotenv from \"dotenv\";\r\nimport { prisma } from \"@/lib/prisma\";\r\nimport { Prisma } from \"@prisma/client\";\r\nimport { getSessionUser } from \"@/lib/auth\"; // optional helper - if absent, should be no-op\r\n\r\n// Load .env from project root in dev (fallback)\r\nconst envPath = path.join(process.cwd(), \".env\");\r\nif (fs.existsSync(envPath)) {\r\n  dotenv.config({ path: envPath });\r\n} else {\r\n  dotenv.config();\r\n}\r\n\r\n/* ---------- helpers ---------- */\r\nfunction isValidEmail(email: string) {\r\n  // basic RFC-ish check and protect against extremely long inputs\r\n  return (\r\n    typeof email === \"string\" &&\r\n    email.length > 3 &&\r\n    email.length <= 254 &&\r\n    /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email)\r\n  );\r\n}\r\n\r\nfunction createTransporter() {\r\n  const host = process.env.SMTP_HOST || \"127.0.0.1\";\r\n  const port = Number(process.env.SMTP_PORT || 25);\r\n  const secure = (process.env.SMTP_SECURE === \"true\") || port === 465;\r\n  const user = process.env.SMTP_USER || \"\";\r\n  const pass = process.env.SMTP_PASS || \"\";\r\n  const rejectUnauthorized = process.env.SMTP_TLS_REJECT !== \"false\";\r\n\r\n  const config: any = { host, port, secure, tls: { rejectUnauthorized } };\r\n  if (user) config.auth = { user, pass };\r\n\r\n  return nodemailer.createTransport(config);\r\n}\r\n\r\nfunction cryptoRandomHex(bytes = 32) {\r\n  // 32 bytes -> 64 hex characters\r\n  return crypto.randomBytes(bytes).toString(\"hex\");\r\n}\r\n\r\nfunction safeString(v: any) {\r\n  return v === undefined || v === null ? null : String(v);\r\n}\r\n\r\n/* ---------- route handler ---------- */\r\nexport async function POST(req: Request) {\r\n  try {\r\n    // parse body defensively\r\n    let body: any = {};\r\n    try {\r\n      body = (await req.json()) || {};\r\n    } catch (e) {\r\n      body = {};\r\n    }\r\n\r\n    // normalize inputs\r\n    const rawEmail = safeString(body?.email ?? \"\").trim();\r\n    if (!isValidEmail(rawEmail)) {\r\n      return NextResponse.json({ ok: false, message: \"Invalid email address\" }, { status: 400 });\r\n    }\r\n    const email = rawEmail.toLowerCase();\r\n\r\n    // read optional fields\r\n    const requestedRole = safeString(body?.role ?? \"EMPLOYEE\").toUpperCase();\r\n    const allowedRoles = new Set([\"EMPLOYEE\", \"MANAGER\", \"ADMIN\"]);\r\n    const roleCandidate = allowedRoles.has(requestedRole) ? requestedRole : \"EMPLOYEE\";\r\n\r\n    const providedOrgId = safeString(body?.organizationId ?? null);\r\n    const providedTeamId = safeString(body?.teamId ?? null);\r\n    const providedInvitedById = safeString(body?.invitedById ?? null);\r\n    const customMessage = body?.message ?? null;\r\n    const expiresInHours = Math.max(1, Number(body?.expiresInHours ?? 48)); // default 48h\r\n\r\n    // derive organization & inviter from session if possible\r\n    let organizationId: string | null = providedOrgId || null;\r\n    let inviterId: string | null = providedInvitedById || null;\r\n\r\n    try {\r\n      if (typeof getSessionUser === \"function\") {\r\n        const sessionUser = await getSessionUser(req).catch(() => null);\r\n        if (sessionUser) {\r\n          if (!organizationId && sessionUser.organizationId) organizationId = sessionUser.organizationId;\r\n          if (!inviterId && sessionUser.id) inviterId = sessionUser.id;\r\n        }\r\n      }\r\n    } catch (e) {\r\n      // non-fatal: proceed with provided fields\r\n      console.warn(\"[invites/creates] getSessionUser error:\", (e as any)?.message || e);\r\n    }\r\n\r\n    if (!organizationId) {\r\n      return NextResponse.json(\r\n        { ok: false, message: \"organizationId required (or request must be made by an authenticated org member)\" },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    // ensure organization exists\r\n    const org = await prisma.organization.findUnique({ where: { id: organizationId } });\r\n    if (!org) {\r\n      return NextResponse.json({ ok: false, message: \"Organization not found\" }, { status: 404 });\r\n    }\r\n\r\n    // if providedTeamId, verify team exists and belongs to org\r\n    if (providedTeamId) {\r\n      const team = await prisma.team.findUnique({\r\n        where: { id: providedTeamId },\r\n        select: { id: true, organizationId: true },\r\n      });\r\n      if (!team) return NextResponse.json({ ok: false, message: \"Team not found\" }, { status: 404 });\r\n      if (team.organizationId !== organizationId) {\r\n        return NextResponse.json({ ok: false, message: \"Team does not belong to the organization\" }, { status: 400 });\r\n      }\r\n    }\r\n\r\n    // verify inviter if present and get inviterRole\r\n    let inviterRole: string | null = null;\r\n    if (inviterId) {\r\n      const inviter = await prisma.user.findUnique({\r\n        where: { id: inviterId },\r\n        select: { id: true, organizationId: true, role: true },\r\n      });\r\n      if (!inviter) return NextResponse.json({ ok: false, message: \"Inviter not found\" }, { status: 404 });\r\n      if (!inviter.organizationId || inviter.organizationId !== organizationId) {\r\n        return NextResponse.json({ ok: false, message: \"Inviter does not belong to the organization\" }, { status: 403 });\r\n      }\r\n      inviterRole = inviter.role ?? null;\r\n    }\r\n\r\n    // enforce invitation privilege: only ADMIN can invite MANAGER/ADMIN\r\n    let roleToSave = roleCandidate;\r\n    if (inviterRole && inviterRole !== \"ADMIN\") {\r\n      roleToSave = \"EMPLOYEE\"; // force to EMPLOYEE for non-admin inviters\r\n    }\r\n\r\n    // check existing user\r\n    const existingUser = await prisma.user.findUnique({ where: { email } });\r\n    if (existingUser) {\r\n      return NextResponse.json({ ok: false, message: \"User with this email already exists\" }, { status: 409 });\r\n    }\r\n\r\n    // check for pending invite in same org (not accepted & not expired)\r\n    const now = new Date();\r\n    const pending = await prisma.invite.findFirst({\r\n      where: {\r\n        email,\r\n        organizationId,\r\n        acceptedAt: null,\r\n        expiresAt: { gt: now },\r\n      },\r\n      select: { id: true, token: true, email: true, expiresAt: true, organizationId: true, teamId: true, role: true },\r\n      orderBy: { createdAt: \"desc\" },\r\n    });\r\n\r\n    if (pending) {\r\n      // Instead of hard 409, return existing invite metadata so UI can offer 'resend' or 'copy link'\r\n      const appUrl = (process.env.NEXT_PUBLIC_APP_URL || process.env.NEXT_PUBLIC_VERCEL_URL || \"http://localhost:3000\").replace(/\\/$/, \"\");\r\n      const encoded = encodeURIComponent(pending.token);\r\n      const invitePath = `/invite/accept?token=${encoded}`;\r\n      const fallbackPath = `/auth/invite/accept?token=${encoded}`;\r\n      const inviteLink = `${appUrl}${invitePath}`;\r\n      return NextResponse.json({\r\n        ok: true,\r\n        message: \"Pending invite already exists\",\r\n        existing: true,\r\n        inviteId: pending.id,\r\n        role: pending.role ?? roleToSave,\r\n        expiresAt: pending.expiresAt?.toISOString() ?? null,\r\n        organizationId: pending.organizationId,\r\n        teamId: pending.teamId ?? null,\r\n        inviteLink,\r\n      }, { status: 200 });\r\n    }\r\n\r\n    // create invite\r\n    const token = cryptoRandomHex(32);\r\n    const expiresAt = new Date(Date.now() + expiresInHours * 3600 * 1000);\r\n\r\n    const inviteCreateData: any = {\r\n      email,\r\n      role: roleToSave,\r\n      token,\r\n      expiresAt,\r\n      organization: { connect: { id: organizationId } },\r\n    };\r\n    if (inviterId) inviteCreateData.inviter = { connect: { id: inviterId } };\r\n    if (providedTeamId) inviteCreateData.team = { connect: { id: providedTeamId } };\r\n\r\n    let inviteRecord;\r\n    try {\r\n      inviteRecord = await prisma.invite.create({\r\n        data: inviteCreateData,\r\n        select: { id: true, email: true, expiresAt: true, organizationId: true, teamId: true, role: true },\r\n      });\r\n    } catch (dbErr: any) {\r\n      if (dbErr instanceof Prisma.PrismaClientKnownRequestError && dbErr.code === \"P2002\") {\r\n        return NextResponse.json({ ok: false, message: \"Conflict creating invite (unique constraint)\" }, { status: 409 });\r\n      }\r\n      console.error(\"[invites/creates] DB error:\", dbErr);\r\n      return NextResponse.json({ ok: false, message: \"Failed to persist invite\" }, { status: 500 });\r\n    }\r\n\r\n    // Build invite links\r\n    const appUrl = (process.env.NEXT_PUBLIC_APP_URL || process.env.NEXT_PUBLIC_VERCEL_URL || \"http://localhost:3000\").replace(/\\/$/, \"\");\r\n    const encoded = encodeURIComponent(token);\r\n    const invitePath = `/invite/accept?token=${encoded}`;\r\n    const fallbackPath = `/auth/invite/accept?token=${encoded}`;\r\n    const inviteLink = `${appUrl}${invitePath}`;\r\n    const fallbackLink = `${appUrl}${fallbackPath}`;\r\n\r\n    // prepare and send email\r\n    const transporter = createTransporter();\r\n    try {\r\n      await transporter.verify();\r\n    } catch (verifyErr: any) {\r\n      console.error(\"[invites/creates] SMTP verify failed:\", verifyErr?.message || verifyErr);\r\n      // rollback DB invite\r\n      try {\r\n        await prisma.invite.delete({ where: { id: inviteRecord.id } });\r\n      } catch (delErr) {\r\n        console.error(\"[invites/creates] rollback delete failed after SMTP verify error:\", delErr);\r\n      }\r\n      return NextResponse.json({ ok: false, message: `SMTP connection failed: ${verifyErr?.message || \"check SMTP settings\"}` }, { status: 500 });\r\n    }\r\n\r\n    const fromAddress = process.env.INVITE_FROM || process.env.SMTP_FROM || `\"SignalHub\" <no-reply@yourdomain.com>`;\r\n    const mailHtml = `\r\n      <div style=\"font-family: Inter, Arial, sans-serif; color:#0f172a;\">\r\n        <h2>You're invited to join ${org.name}</h2>\r\n        <p>Hello,</p>\r\n        <p>You were invited to join <strong>${org.name}</strong> as a <strong>${inviteRecord.role}</strong>.</p>\r\n        ${customMessage ? `<p>${String(customMessage)}</p>` : \"\"}\r\n        <p style=\"margin: 18px 0;\">\r\n          <a href=\"${inviteLink}\" style=\"display:inline-block;padding:10px 14px;background:#0f172a;color:#fff;border-radius:8px;text-decoration:none;\">\r\n            Accept invitation\r\n          </a>\r\n        </p>\r\n        <p>If the button does not work, open this link in your browser:</p>\r\n        <p style=\"word-break:break-all\"><a href=\"${inviteLink}\">${inviteLink}</a></p>\r\n        <p style=\"font-size:12px;color:#6b7280;margin-top:8px;\">(Fallback: <a href=\"${fallbackLink}\">${fallbackLink}</a>)</p>\r\n        <p>This link will expire on <strong>${expiresAt.toUTCString()}</strong>.</p>\r\n        <p>If you didn't request this, you can ignore this email.</p>\r\n        <hr />\r\n        <p style=\"font-size:12px;color:#6b7280\">Sent by ${org.name}</p>\r\n      </div>\r\n    `;\r\n\r\n    const mailOptions = {\r\n      from: fromAddress,\r\n      to: email,\r\n      subject: `You're invited to join ${org.name}`,\r\n      html: mailHtml,\r\n    };\r\n\r\n    try {\r\n      const info = await transporter.sendMail(mailOptions);\r\n      console.log(\"[invites/creates] Email sent\", { inviteId: inviteRecord.id, messageId: info?.messageId ?? null });\r\n    } catch (sendErr: any) {\r\n      console.error(\"[invites/creates] sendMail error:\", sendErr?.message || sendErr);\r\n      // rollback invite\r\n      try {\r\n        await prisma.invite.delete({ where: { id: inviteRecord.id } });\r\n      } catch (delErr) {\r\n        console.error(\"[invites/creates] rollback delete failed after sendMail error:\", delErr);\r\n      }\r\n      return NextResponse.json({ ok: false, message: `Failed to send invite email: ${sendErr?.message || \"SMTP error\"}` }, { status: 500 });\r\n    }\r\n\r\n    // Success - return safe metadata (we include inviteLink for convenience)\r\n    return NextResponse.json(\r\n      {\r\n        ok: true,\r\n        message: \"Invite sent\",\r\n        inviteId: inviteRecord.id,\r\n        expiresAt: inviteRecord.expiresAt?.toISOString() ?? null,\r\n        organizationId: inviteRecord.organizationId,\r\n        teamId: inviteRecord.teamId ?? null,\r\n        inviteLink,\r\n      },\r\n      { status: 201 }\r\n    );\r\n  } catch (err: any) {\r\n    console.error(\"[invites/creates] unexpected error:\", err?.message || err);\r\n    const isDev = process.env.NODE_ENV !== \"production\";\r\n    return NextResponse.json({ ok: false, message: isDev ? (err?.message || \"Server error\") : \"Server error\" }, { status: 500 });\r\n  }\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}