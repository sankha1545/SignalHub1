{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 136, "column": 0}, "map": {"version":3,"sources":["file:///E:/Attack%20Capital/SignalHub/frontend/src/lib/socket.ts"],"sourcesContent":["// src/lib/socket.ts\r\n// Small helper to call the socket server's /emit endpoint from backend code.\r\n// Usage:\r\n//   import { emitToRooms } from \"@/lib/socket\";\r\n//   await emitToRooms({ event: \"chat:created\", rooms: [\"user:123\",\"org:abc\"], payload: {...} });\r\n\r\nimport fetch from \"node-fetch\";\r\n\r\nconst SOCKET_SERVER_URL = process.env.SOCKET_SERVER_URL || process.env.NEXT_PUBLIC_SOCKET_URL || \"http://localhost:4001\";\r\nconst SOCKET_SERVER_KEY = process.env.SOCKET_SERVER_KEY || \"\";\r\n\r\ntype EmitArgs = {\r\n  event: string;\r\n  payload?: any;\r\n  rooms?: string[] | string;\r\n  excludeSocketId?: string;\r\n  timeoutMs?: number;\r\n};\r\n\r\nexport async function emitToRooms({ event, payload = {}, rooms, excludeSocketId, timeoutMs = 2000 }: EmitArgs) {\r\n  if (!SOCKET_SERVER_URL) return { ok: false, error: \"no socket server url\" };\r\n  if (!SOCKET_SERVER_KEY) {\r\n    // still allow if no key supplied (not recommended for prod)\r\n    console.warn(\"socket: no SOCKET_SERVER_KEY configured ‚Äî /emit endpoint not protected\");\r\n  }\r\n\r\n  const url = new URL(\"/emit\", SOCKET_SERVER_URL).toString();\r\n  const body = {\r\n    key: SOCKET_SERVER_KEY,\r\n    rooms,\r\n    event,\r\n    payload,\r\n    excludeSocketId,\r\n  };\r\n\r\n  try {\r\n    const controller = new AbortController();\r\n    const id = setTimeout(() => controller.abort(), timeoutMs);\r\n    const resp = await fetch(url, {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(body),\r\n      signal: controller.signal,\r\n    });\r\n    clearTimeout(id);\r\n    if (!resp.ok) {\r\n      const text = await resp.text().catch(() => \"\");\r\n      return { ok: false, status: resp.status, body: text };\r\n    }\r\n    const json = await resp.json().catch(() => ({}));\r\n    return { ok: true, result: json };\r\n  } catch (err: any) {\r\n    return { ok: false, error: String(err?.message ?? err) };\r\n  }\r\n}\r\n"],"names":[],"mappings":"AAAA,oBAAoB;AACpB,6EAA6E;AAC7E,SAAS;AACT,gDAAgD;AAChD,iGAAiG;;;;;AAEjG;;AAEA,MAAM,oBAAoB,QAAQ,GAAG,CAAC,iBAAiB,IAAI,QAAQ,GAAG,CAAC,sBAAsB,IAAI;AACjG,MAAM,oBAAoB,QAAQ,GAAG,CAAC,iBAAiB,IAAI;AAUpD,eAAe,YAAY,EAAE,KAAK,EAAE,UAAU,CAAC,CAAC,EAAE,KAAK,EAAE,eAAe,EAAE,YAAY,IAAI,EAAY;IAC3G;;IACA,IAAI,CAAC,mBAAmB;QACtB,4DAA4D;QAC5D,QAAQ,IAAI,CAAC;IACf;IAEA,MAAM,MAAM,IAAI,IAAI,SAAS,mBAAmB,QAAQ;IACxD,MAAM,OAAO;QACX,KAAK;QACL;QACA;QACA;QACA;IACF;IAEA,IAAI;QACF,MAAM,aAAa,IAAI;QACvB,MAAM,KAAK,WAAW,IAAM,WAAW,KAAK,IAAI;QAChD,MAAM,OAAO,MAAM,IAAA,0KAAK,EAAC,KAAK;YAC5B,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;YACrB,QAAQ,WAAW,MAAM;QAC3B;QACA,aAAa;QACb,IAAI,CAAC,KAAK,EAAE,EAAE;YACZ,MAAM,OAAO,MAAM,KAAK,IAAI,GAAG,KAAK,CAAC,IAAM;YAC3C,OAAO;gBAAE,IAAI;gBAAO,QAAQ,KAAK,MAAM;gBAAE,MAAM;YAAK;QACtD;QACA,MAAM,OAAO,MAAM,KAAK,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;QAC9C,OAAO;YAAE,IAAI;YAAM,QAAQ;QAAK;IAClC,EAAE,OAAO,KAAU;QACjB,OAAO;YAAE,IAAI;YAAO,OAAO,OAAO,KAAK,WAAW;QAAK;IACzD;AACF","debugId":null}},
    {"offset": {"line": 200, "column": 0}, "map": {"version":3,"sources":["file:///E:/Attack%20Capital/SignalHub/frontend/src/lib/socketAdapter.ts"],"sourcesContent":["// src/lib/socketAdapter.ts\r\n// Adapter to forward legacy `global.io` / `global._io` / `global.socketServer`\r\n// calls to the standalone socket server via the /emit HTTP endpoint.\r\n\r\nimport { emitToRooms } from \"@/lib/socket\";\r\n\r\ntype EmitFn = (event: string, payload?: any) => Promise<void> | void;\r\n\r\nfunction makeRoomEmitter(room: string | string[]) {\r\n  return {\r\n    emit: (event: string, payload?: any) => {\r\n      return emitToRooms({ event, payload, rooms: room });\r\n    },\r\n    // allow io.to(room).except(socketId).emit(...) pattern\r\n    except: (socketId: string) => ({\r\n      emit: (event: string, payload?: any) => {\r\n        return emitToRooms({ event, payload, rooms: room, excludeSocketId: socketId });\r\n      },\r\n    }),\r\n  };\r\n}\r\n\r\n// Single shared adapter instance\r\nconst adapter = {\r\n  /**\r\n   * io.emit(\"event\", payload)\r\n   *  -> broadcast globally\r\n   */\r\n  emit: ((event: string, payload?: any) => {\r\n    return emitToRooms({ event, payload });\r\n  }) as EmitFn,\r\n\r\n  /**\r\n   * io.to(\"room\").emit(\"event\", payload)\r\n   *  -> broadcast to specific room(s)\r\n   */\r\n  to: (room: string | string[]) => makeRoomEmitter(room),\r\n};\r\n\r\n// Attach to global only once\r\ndeclare global {\r\n  // eslint-disable-next-line no-var\r\n  var __socketAdapterInitialized: boolean | undefined;\r\n}\r\n\r\nfunction attachGlobals() {\r\n  if (global.__socketAdapterInitialized) return;\r\n  global.__socketAdapterInitialized = true;\r\n\r\n  // These are the names used in your API code:\r\n  // (global as any).io || (global as any)._io || (global as any).socketServer\r\n  const g: any = global;\r\n\r\n  if (!g.io) g.io = adapter;\r\n  if (!g._io) g._io = adapter;\r\n  if (!g.socketServer) g.socketServer = adapter;\r\n}\r\n\r\n// Run immediately on import (server-only)\r\nattachGlobals();\r\n\r\nexport { adapter as socketAdapter };\r\n"],"names":[],"mappings":"AAAA,2BAA2B;AAC3B,+EAA+E;AAC/E,qEAAqE;;;;;AAErE;;AAIA,SAAS,gBAAgB,IAAuB;IAC9C,OAAO;QACL,MAAM,CAAC,OAAe;YACpB,OAAO,IAAA,qIAAW,EAAC;gBAAE;gBAAO;gBAAS,OAAO;YAAK;QACnD;QACA,uDAAuD;QACvD,QAAQ,CAAC,WAAqB,CAAC;gBAC7B,MAAM,CAAC,OAAe;oBACpB,OAAO,IAAA,qIAAW,EAAC;wBAAE;wBAAO;wBAAS,OAAO;wBAAM,iBAAiB;oBAAS;gBAC9E;YACF,CAAC;IACH;AACF;AAEA,iCAAiC;AACjC,MAAM,UAAU;IACd;;;GAGC,GACD,MAAO,CAAC,OAAe;QACrB,OAAO,IAAA,qIAAW,EAAC;YAAE;YAAO;QAAQ;IACtC;IAEA;;;GAGC,GACD,IAAI,CAAC,OAA4B,gBAAgB;AACnD;AAQA,SAAS;IACP,IAAI,OAAO,0BAA0B,EAAE;IACvC,OAAO,0BAA0B,GAAG;IAEpC,6CAA6C;IAC7C,4EAA4E;IAC5E,MAAM,IAAS;IAEf,IAAI,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG;IAClB,IAAI,CAAC,EAAE,GAAG,EAAE,EAAE,GAAG,GAAG;IACpB,IAAI,CAAC,EAAE,YAAY,EAAE,EAAE,YAAY,GAAG;AACxC;AAEA,0CAA0C;AAC1C","debugId":null}},
    {"offset": {"line": 264, "column": 0}, "map": {"version":3,"sources":["file:///E:/Attack%20Capital/SignalHub/frontend/src/lib/prisma.ts"],"sourcesContent":["// lib/prisma.ts\r\nimport { PrismaClient } from \"@prisma/client\";\r\n// near the top, before exports\r\nimport \"@/lib/socketAdapter\";\r\n\r\ndeclare global {\r\n  // eslint-disable-next-line\r\n  var __prisma__: PrismaClient | undefined;\r\n}\r\nexport const prisma =\r\n  global.__prisma__ ??\r\n  new PrismaClient({\r\n    log: process.env.NODE_ENV === \"development\" ? [\"query\", \"warn\", \"error\"] : [\"error\"],\r\n  });\r\n\r\nif (process.env.NODE_ENV !== \"production\") global.__prisma__ = prisma;\r\n"],"names":[],"mappings":"AAAA,gBAAgB;;;;;AAChB;AACA,+BAA+B;AAC/B;;;AAMO,MAAM,SACX,OAAO,UAAU,IACjB,IAAI,6IAAY,CAAC;IACf,KAAK,uCAAyC;QAAC;QAAS;QAAQ;KAAQ,GAAG;AAC7E;AAEF,wCAA2C,OAAO,UAAU,GAAG","debugId":null}},
    {"offset": {"line": 310, "column": 0}, "map": {"version":3,"sources":["file:///E:/Attack%20Capital/SignalHub/frontend/src/lib/jwt.ts"],"sourcesContent":["// src/lib/jwt.ts\r\nimport jwt, { JwtPayload } from \"jsonwebtoken\";\r\n\r\nconst SECRET = process.env.JWT_SECRET;\r\nif (!SECRET) {\r\n  if (process.env.NODE_ENV === \"production\") {\r\n    throw new Error(\"JWT_SECRET environment variable must be set in production!\");\r\n  } else {\r\n    console.warn(\"[JWT] Using fallback secret for development\");\r\n  }\r\n}\r\n\r\n/**\r\n * üîê Create a short-lived temp token (email/phone verification)\r\n */\r\nexport function signTemp(payload: Record<string, any>, expiresIn: string = \"15m\"): string {\r\n  const safePayload = { ...payload };\r\n  delete safePayload.exp;\r\n  return jwt.sign(safePayload, SECRET!, { expiresIn });\r\n}\r\n\r\n/**\r\n * ‚úÖ Verify short-lived temp tokens\r\n * Returns payload object or null if invalid/expired\r\n */\r\nexport function verifyTemp(token: string): Record<string, any> | null {\r\n  try {\r\n    return jwt.verify(token, SECRET!) as Record<string, any>;\r\n  } catch (err) {\r\n    console.warn(\"[JWT] verifyTemp failed:\", (err as Error).message);\r\n    return null;\r\n  }\r\n}\r\n\r\n/**\r\n * üíæ Create a long-lived session token for logged-in users\r\n */\r\nexport function signSession(payload: Record<string, any>, expiresIn: string = \"7d\"): string {\r\n  const safePayload = { ...payload };\r\n  delete safePayload.exp;\r\n  return jwt.sign(safePayload, SECRET!, { expiresIn });\r\n}\r\n\r\n/**\r\n * üîé Verify a session token\r\n * Returns payload object or null if invalid/expired\r\n */\r\nexport function verifySession(token: string): Record<string, any> | null {\r\n  try {\r\n    return jwt.verify(token, SECRET!) as Record<string, any>;\r\n  } catch (err) {\r\n    console.warn(\"[JWT] verifySession failed:\", (err as Error).message);\r\n    return null;\r\n  }\r\n}\r\n"],"names":[],"mappings":"AAAA,iBAAiB;;;;;;;;;;;AACjB;;AAEA,MAAM,SAAS,QAAQ,GAAG,CAAC,UAAU;AACrC,IAAI,CAAC,QAAQ;IACX;;SAEO;QACL,QAAQ,IAAI,CAAC;IACf;AACF;AAKO,SAAS,SAAS,OAA4B,EAAE,YAAoB,KAAK;IAC9E,MAAM,cAAc;QAAE,GAAG,OAAO;IAAC;IACjC,OAAO,YAAY,GAAG;IACtB,OAAO,kJAAG,CAAC,IAAI,CAAC,aAAa,QAAS;QAAE;IAAU;AACpD;AAMO,SAAS,WAAW,KAAa;IACtC,IAAI;QACF,OAAO,kJAAG,CAAC,MAAM,CAAC,OAAO;IAC3B,EAAE,OAAO,KAAK;QACZ,QAAQ,IAAI,CAAC,4BAA4B,AAAC,IAAc,OAAO;QAC/D,OAAO;IACT;AACF;AAKO,SAAS,YAAY,OAA4B,EAAE,YAAoB,IAAI;IAChF,MAAM,cAAc;QAAE,GAAG,OAAO;IAAC;IACjC,OAAO,YAAY,GAAG;IACtB,OAAO,kJAAG,CAAC,IAAI,CAAC,aAAa,QAAS;QAAE;IAAU;AACpD;AAMO,SAAS,cAAc,KAAa;IACzC,IAAI;QACF,OAAO,kJAAG,CAAC,MAAM,CAAC,OAAO;IAC3B,EAAE,OAAO,KAAK;QACZ,QAAQ,IAAI,CAAC,+BAA+B,AAAC,IAAc,OAAO;QAClE,OAAO;IACT;AACF","debugId":null}},
    {"offset": {"line": 369, "column": 0}, "map": {"version":3,"sources":["file:///E:/Attack%20Capital/SignalHub/frontend/src/app/api/auth/login/route.ts"],"sourcesContent":["// app/api/auth/login/route.ts\r\nimport { NextResponse } from \"next/server\";\r\nimport { prisma } from \"@/lib/prisma\";\r\nimport bcrypt from \"bcrypt\";\r\nimport { signSession } from \"@/lib/jwt\";\r\n\r\n\r\n\r\ntype LoginBody = { email?: string; phone?: string; password?: string };\r\n\r\nconst ALT_SESSION_COOKIE_NAMES = [\"admin_session\", \"next-auth.session-token\", \"session_preview\"];\r\n\r\nfunction getClientIp(req: Request) {\r\n  try {\r\n    const xf = req.headers.get(\"x-forwarded-for\");\r\n    if (xf) return xf.split(\",\")[0].trim();\r\n    const cf = req.headers.get(\"cf-connecting-ip\");\r\n    if (cf) return cf;\r\n    return undefined;\r\n  } catch {\r\n    return undefined;\r\n  }\r\n}\r\n\r\nexport async function POST(req: Request) {\r\n  try {\r\n    const start = Date.now();\r\n    const body: LoginBody = (await req.json()) ?? {};\r\n    let { email, phone, password } = body;\r\n\r\n    // Basic validation\r\n    if ((!email && !phone) || !password) {\r\n      console.warn(\"[login] missing credentials\");\r\n      return NextResponse.json({ error: \"missing_credentials\" }, { status: 400 });\r\n    }\r\n\r\n    // Normalize inputs\r\n    if (email) email = String(email).trim().toLowerCase();\r\n    if (phone) phone = String(phone).trim();\r\n    password = String(password);\r\n\r\n    const ip = getClientIp(req);\r\n    console.info(\"[login] attempt\", { identifier: email ?? phone, ip });\r\n\r\n    // ----- Find user -----\r\n    let user: any | null = null;\r\n    if (email) {\r\n      user = await prisma.user.findUnique({\r\n        where: { email },\r\n        select: {\r\n          id: true,\r\n          email: true,\r\n          phone: true,\r\n          passwordHash: true,\r\n          role: true,\r\n          organizationId: true,\r\n          phoneVerified: true,\r\n          emailVerified: true,\r\n          isActive: true,\r\n        },\r\n      });\r\n    } else {\r\n      user = await prisma.user.findFirst({\r\n        where: { phone },\r\n        select: {\r\n          id: true,\r\n          email: true,\r\n          phone: true,\r\n          passwordHash: true,\r\n          role: true,\r\n          organizationId: true,\r\n          phoneVerified: true,\r\n          emailVerified: true,\r\n          isActive: true,\r\n        },\r\n      });\r\n    }\r\n\r\n    if (!user) {\r\n      console.warn(\"[login] user not found\", { identifier: email ?? phone });\r\n      return NextResponse.json({ error: \"invalid_credentials\" }, { status: 401 });\r\n    }\r\n\r\n    if (!user.passwordHash) {\r\n      console.warn(\"[login] user missing passwordHash\", { userId: user.id });\r\n      return NextResponse.json({ error: \"invalid_credentials\" }, { status: 401 });\r\n    }\r\n\r\n    // ----- Verify password -----\r\n    const isPasswordValid = await bcrypt.compare(password, user.passwordHash);\r\n    if (!isPasswordValid) {\r\n      console.warn(\"[login] bad password\", { userId: user.id });\r\n      // OPTIONAL: increment failed login attempts here\r\n      return NextResponse.json({ error: \"invalid_credentials\" }, { status: 401 });\r\n    }\r\n\r\n    // ----- Account activation - role-based rules -----\r\n    // If explicit isActive present on record, respect it (true => active, false => inactive).\r\n    const hasIsActive = Object.prototype.hasOwnProperty.call(user, \"isActive\");\r\n    const explicitIsActive = hasIsActive ? Boolean(user.isActive) : null;\r\n\r\n    // Determine role (normalize lowercase)\r\n    const roleStr = (user.role ?? \"\").toString().trim().toLowerCase();\r\n\r\n    // Admins require both email && phone verified unless explicitIsActive === true\r\n    const adminRequiresPhone = roleStr === \"admin\";\r\n\r\n   \r\n    const fallbackIsActive = adminRequiresPhone\r\n      ? Boolean(user.emailVerified) && Boolean(user.phoneVerified)\r\n      : Boolean(user.emailVerified);\r\n\r\n    const isActive = explicitIsActive !== null ? explicitIsActive : fallbackIsActive;\r\n\r\n    if (!isActive) {\r\n      // Non-production can surface details ‚Äî in prod we keep generic messaging\r\n      const showDetails = process.env.NODE_ENV !== \"production\";\r\n      const details = showDetails\r\n        ? {\r\n            required: adminRequiresPhone ? \"email+phone\" : \"email\",\r\n            emailVerified: Boolean(user.emailVerified),\r\n            phoneVerified: Boolean(user.phoneVerified),\r\n            role: user.role ?? null,\r\n          }\r\n        : undefined;\r\n\r\n      console.info(\"[login] inactive account\", { userId: user.id, ...(details ?? {}) });\r\n      return NextResponse.json(\r\n        {\r\n          error: \"account_not_active\",\r\n          message: adminRequiresPhone ? \"account_not_active: require_email_and_phone_verification\" : \"account_not_active: require_email_verification\",\r\n          details,\r\n        },\r\n        { status: 403 }\r\n      );\r\n    }\r\n\r\n    // ----- Create session token -----\r\n    const payload = {\r\n      id: user.id,\r\n      role: user.role ?? null,\r\n      organizationId: user.organizationId ?? null,\r\n    };\r\n\r\n    const sessionToken = signSession(payload, \"7d\");\r\n    if (!sessionToken) {\r\n      console.error(\"[login] signSession returned empty token\", { userId: user.id });\r\n      return NextResponse.json({ error: \"internal_server_error\" }, { status: 500 });\r\n    }\r\n\r\n    // Optional: record server-side session for revocation (commented)\r\n    // await prisma.session.create({ data: { userId: user.id, tokenHash: hash(sessionToken), expiresAt: addDays(new Date(), 7) } });\r\n\r\n    // ----- Build response + cookies -----\r\n    const maxAge = 7 * 24 * 60 * 60; // seconds\r\n    const isProd = process.env.NODE_ENV === \"production\";\r\n\r\n    const res = NextResponse.json(\r\n      {\r\n        ok: true,\r\n        user: { id: user.id, email: user.email ?? null, phone: user.phone ?? null, role: user.role ?? null },\r\n      },\r\n      { status: 200 }\r\n    );\r\n\r\n    // Defensive: clear other common session cookie names (helps with stale cookies)\r\n    for (const altName of ALT_SESSION_COOKIE_NAMES) {\r\n      try {\r\n        res.cookies.delete(altName, { path: \"/\" });\r\n      } catch (err) {\r\n        // ignore deletion errors\r\n      }\r\n    }\r\n\r\n    res.cookies.set({\r\n      name: \"session\",\r\n      value: sessionToken,\r\n      httpOnly: true,\r\n      sameSite: \"lax\",\r\n      path: \"/\",\r\n      maxAge,\r\n      secure: isProd,\r\n    });\r\n\r\n    console.info(\"[login] success\", { userId: user.id, role: user.role, orgId: user.organizationId, tookMs: Date.now() - start });\r\n    return res;\r\n  } catch (err: any) {\r\n    console.error(\"[Login Error]\", err);\r\n    return NextResponse.json(\r\n      { error: process.env.NODE_ENV === \"production\" ? \"internal_server_error\" : err?.message ?? \"internal_server_error\" },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}