{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///E:/Attack%20Capital/SignalHub/frontend/src/lib/prisma.ts"],"sourcesContent":["// lib/prisma.ts\r\nimport { PrismaClient } from \"@prisma/client\";\r\n\r\ndeclare global {\r\n  // eslint-disable-next-line\r\n  var __prisma__: PrismaClient | undefined;\r\n}\r\nexport const prisma =\r\n  global.__prisma__ ??\r\n  new PrismaClient({\r\n    log: process.env.NODE_ENV === \"development\" ? [\"query\", \"warn\", \"error\"] : [\"error\"],\r\n  });\r\n\r\nif (process.env.NODE_ENV !== \"production\") global.__prisma__ = prisma;\r\n"],"names":[],"mappings":"AAAA,gBAAgB;;;;;AAChB;;AAMO,MAAM,SACX,OAAO,UAAU,IACjB,IAAI,6IAAY,CAAC;IACf,KAAK,uCAAyC;QAAC;QAAS;QAAQ;KAAQ,GAAG;AAC7E;AAEF,wCAA2C,OAAO,UAAU,GAAG","debugId":null}},
    {"offset": {"line": 95, "column": 0}, "map": {"version":3,"sources":["file:///E:/Attack%20Capital/SignalHub/frontend/src/lib/jwt.ts"],"sourcesContent":["// src/lib/jwt.ts\r\nimport jwt, { JwtPayload } from \"jsonwebtoken\";\r\n\r\nconst SECRET = process.env.JWT_SECRET;\r\nif (!SECRET) {\r\n  if (process.env.NODE_ENV === \"production\") {\r\n    throw new Error(\"JWT_SECRET environment variable must be set in production!\");\r\n  } else {\r\n    console.warn(\"[JWT] Using fallback secret for development\");\r\n  }\r\n}\r\n\r\n/**\r\n * üîê Create a short-lived temp token (email/phone verification)\r\n */\r\nexport function signTemp(payload: Record<string, any>, expiresIn: string = \"15m\"): string {\r\n  const safePayload = { ...payload };\r\n  delete safePayload.exp;\r\n  return jwt.sign(safePayload, SECRET!, { expiresIn });\r\n}\r\n\r\n/**\r\n * ‚úÖ Verify short-lived temp tokens\r\n * Returns payload object or null if invalid/expired\r\n */\r\nexport function verifyTemp(token: string): Record<string, any> | null {\r\n  try {\r\n    return jwt.verify(token, SECRET!) as Record<string, any>;\r\n  } catch (err) {\r\n    console.warn(\"[JWT] verifyTemp failed:\", (err as Error).message);\r\n    return null;\r\n  }\r\n}\r\n\r\n/**\r\n * üíæ Create a long-lived session token for logged-in users\r\n */\r\nexport function signSession(payload: Record<string, any>, expiresIn: string = \"7d\"): string {\r\n  const safePayload = { ...payload };\r\n  delete safePayload.exp;\r\n  return jwt.sign(safePayload, SECRET!, { expiresIn });\r\n}\r\n\r\n/**\r\n * üîé Verify a session token\r\n * Returns payload object or null if invalid/expired\r\n */\r\nexport function verifySession(token: string): Record<string, any> | null {\r\n  try {\r\n    return jwt.verify(token, SECRET!) as Record<string, any>;\r\n  } catch (err) {\r\n    console.warn(\"[JWT] verifySession failed:\", (err as Error).message);\r\n    return null;\r\n  }\r\n}\r\n"],"names":[],"mappings":"AAAA,iBAAiB;;;;;;;;;;;AACjB;;AAEA,MAAM,SAAS,QAAQ,GAAG,CAAC,UAAU;AACrC,IAAI,CAAC,QAAQ;IACX;;SAEO;QACL,QAAQ,IAAI,CAAC;IACf;AACF;AAKO,SAAS,SAAS,OAA4B,EAAE,YAAoB,KAAK;IAC9E,MAAM,cAAc;QAAE,GAAG,OAAO;IAAC;IACjC,OAAO,YAAY,GAAG;IACtB,OAAO,kJAAG,CAAC,IAAI,CAAC,aAAa,QAAS;QAAE;IAAU;AACpD;AAMO,SAAS,WAAW,KAAa;IACtC,IAAI;QACF,OAAO,kJAAG,CAAC,MAAM,CAAC,OAAO;IAC3B,EAAE,OAAO,KAAK;QACZ,QAAQ,IAAI,CAAC,4BAA4B,AAAC,IAAc,OAAO;QAC/D,OAAO;IACT;AACF;AAKO,SAAS,YAAY,OAA4B,EAAE,YAAoB,IAAI;IAChF,MAAM,cAAc;QAAE,GAAG,OAAO;IAAC;IACjC,OAAO,YAAY,GAAG;IACtB,OAAO,kJAAG,CAAC,IAAI,CAAC,aAAa,QAAS;QAAE;IAAU;AACpD;AAMO,SAAS,cAAc,KAAa;IACzC,IAAI;QACF,OAAO,kJAAG,CAAC,MAAM,CAAC,OAAO;IAC3B,EAAE,OAAO,KAAK;QACZ,QAAQ,IAAI,CAAC,+BAA+B,AAAC,IAAc,OAAO;QAClE,OAAO;IACT;AACF","debugId":null}},
    {"offset": {"line": 154, "column": 0}, "map": {"version":3,"sources":["file:///E:/Attack%20Capital/SignalHub/frontend/src/lib/auth.ts"],"sourcesContent":["// src/lib/auth.ts\r\nimport { prisma } from \"@/lib/prisma\";\r\nimport { verifySession } from \"@/lib/jwt\";\r\n\r\nexport type SessionUser = {\r\n  id: string;\r\n  email?: string | null;\r\n  role: string;\r\n  organizationId?: string | null;\r\n};\r\n\r\nexport async function getSessionUser(req: Request): Promise<SessionUser | null> {\r\n  try {\r\n    // 1Ô∏è‚É£ Prefer Authorization header: \"Bearer <token>\"\r\n    let token: string | null = null;\r\n    const authHeader = req.headers.get(\"authorization\");\r\n    if (authHeader?.startsWith(\"Bearer \")) {\r\n      token = authHeader.slice(\"Bearer \".length).trim();\r\n    }\r\n\r\n    // 2Ô∏è‚É£ Fallback to cookies\r\n    if (!token) {\r\n      const cookieHeader = req.headers.get(\"cookie\") || \"\";\r\n      const cookies: Record<string, string> = Object.fromEntries(\r\n        cookieHeader\r\n          .split(\";\")\r\n          .map(c => c.trim().split(\"=\"))\r\n          .map(([k, v]) => [decodeURIComponent(k), decodeURIComponent(v)])\r\n      );\r\n      token = cookies[\"session\"] || cookies[\"token\"] || null;\r\n    }\r\n\r\n    if (!token) return null;\r\n\r\n    // 3Ô∏è‚É£ Verify token safely\r\n    const payload = verifySession(token);\r\n    if (!payload?.id) return null;\r\n\r\n    // 4Ô∏è‚É£ Fetch user from DB\r\n    const user = await prisma.user.findUnique({ where: { id: payload.id } });\r\n    if (!user) return null;\r\n\r\n    return {\r\n      id: user.id,\r\n      email: user.email ?? null,\r\n      role: user.role,\r\n      organizationId: user.organizationId,\r\n    };\r\n  } catch (err: any) {\r\n    console.warn(\"[getSessionUser] error:\", err?.message || err);\r\n    return null;\r\n  }\r\n}\r\n"],"names":[],"mappings":"AAAA,kBAAkB;;;;;AAClB;AACA;;;AASO,eAAe,eAAe,GAAY;IAC/C,IAAI;QACF,oDAAoD;QACpD,IAAI,QAAuB;QAC3B,MAAM,aAAa,IAAI,OAAO,CAAC,GAAG,CAAC;QACnC,IAAI,YAAY,WAAW,YAAY;YACrC,QAAQ,WAAW,KAAK,CAAC,UAAU,MAAM,EAAE,IAAI;QACjD;QAEA,0BAA0B;QAC1B,IAAI,CAAC,OAAO;YACV,MAAM,eAAe,IAAI,OAAO,CAAC,GAAG,CAAC,aAAa;YAClD,MAAM,UAAkC,OAAO,WAAW,CACxD,aACG,KAAK,CAAC,KACN,GAAG,CAAC,CAAA,IAAK,EAAE,IAAI,GAAG,KAAK,CAAC,MACxB,GAAG,CAAC,CAAC,CAAC,GAAG,EAAE,GAAK;oBAAC,mBAAmB;oBAAI,mBAAmB;iBAAG;YAEnE,QAAQ,OAAO,CAAC,UAAU,IAAI,OAAO,CAAC,QAAQ,IAAI;QACpD;QAEA,IAAI,CAAC,OAAO,OAAO;QAEnB,0BAA0B;QAC1B,MAAM,UAAU,IAAA,oIAAa,EAAC;QAC9B,IAAI,CAAC,SAAS,IAAI,OAAO;QAEzB,yBAAyB;QACzB,MAAM,OAAO,MAAM,gIAAM,CAAC,IAAI,CAAC,UAAU,CAAC;YAAE,OAAO;gBAAE,IAAI,QAAQ,EAAE;YAAC;QAAE;QACtE,IAAI,CAAC,MAAM,OAAO;QAElB,OAAO;YACL,IAAI,KAAK,EAAE;YACX,OAAO,KAAK,KAAK,IAAI;YACrB,MAAM,KAAK,IAAI;YACf,gBAAgB,KAAK,cAAc;QACrC;IACF,EAAE,OAAO,KAAU;QACjB,QAAQ,IAAI,CAAC,2BAA2B,KAAK,WAAW;QACxD,OAAO;IACT;AACF","debugId":null}},
    {"offset": {"line": 206, "column": 0}, "map": {"version":3,"sources":["file:///E:/Attack%20Capital/SignalHub/frontend/src/app/api/chats/%5BchatId%5D/route.ts"],"sourcesContent":["// src/app/api/chats/[chatId]/route.ts\r\nimport { NextResponse } from \"next/server\";\r\nimport { prisma } from \"@/lib/prisma\";\r\nimport { getSessionUser } from \"@/lib/auth\";\r\nimport { cookies } from \"next/headers\";\r\nimport jwt from \"jsonwebtoken\";\r\n\r\nconst JWT_SECRET = process.env.JWT_SECRET || \"\";\r\nconst DEFAULT_PAGE_SIZE = 50;\r\n\r\n/* -----------------------------------------------------------\r\n   Safe JSON parser\r\n----------------------------------------------------------- */\r\nasync function safeJson(req: Request) {\r\n  try {\r\n    return await req.json();\r\n  } catch {\r\n    return {};\r\n  }\r\n}\r\n\r\n/* -----------------------------------------------------------\r\n   Session Resolution\r\n----------------------------------------------------------- */\r\nasync function resolveSessionUser(req: Request) {\r\n  // try next-auth\r\n  try {\r\n    const u = await getSessionUser(req);\r\n    if (u?.id) return u;\r\n  } catch {}\r\n\r\n  // bearer token\r\n  try {\r\n    const auth =\r\n      req.headers.get(\"authorization\") ??\r\n      req.headers.get(\"Authorization\");\r\n    if (auth?.toLowerCase().startsWith(\"bearer \")) {\r\n      const token = auth.slice(7).trim();\r\n      if (token && JWT_SECRET) {\r\n        const payload = jwt.verify(token, JWT_SECRET) as any;\r\n        if (payload?.id) return payload;\r\n      }\r\n    }\r\n  } catch {}\r\n\r\n  // cookie\r\n  try {\r\n    const store = await cookies();\r\n    const token = store.get(\"session\")?.value;\r\n    if (token && JWT_SECRET) {\r\n      const payload = jwt.verify(token, JWT_SECRET) as any;\r\n      if (payload?.id) return payload;\r\n    }\r\n  } catch {}\r\n\r\n  return null;\r\n}\r\n\r\n/* -----------------------------------------------------------\r\n   Authorization: admin ‚Üí ok\r\n   else must be:\r\n     - chatMember OR\r\n     - teamMember if chat is team chat\r\n   additionally: must belong to same organization\r\n----------------------------------------------------------- */\r\nasync function authorizeForChat(userId: string, userRole: string | null, chatId: string) {\r\n  if (userRole === \"ADMIN\") return true;\r\n\r\n  const chat = await prisma.chat.findUnique({\r\n    where: { id: chatId },\r\n    select: {\r\n      organizationId: true,\r\n      teamId: true,\r\n    },\r\n  });\r\n\r\n  if (!chat) return false;\r\n\r\n  // Must belong to same org\r\n  const user = await prisma.user.findUnique({\r\n    where: { id: userId },\r\n    select: { organizationId: true },\r\n  });\r\n\r\n  if (!user || user.organizationId !== chat.organizationId) return false;\r\n\r\n  // ChatMember?\r\n  const member = await prisma.chatMember.findFirst({\r\n    where: { chatId, userId },\r\n    select: { id: true },\r\n  });\r\n  if (member) return true;\r\n\r\n  // TeamMember? (if chat.teamId exists)\r\n  if (chat.teamId) {\r\n    const teamMember = await prisma.teamMember.findFirst({\r\n      where: { teamId: chat.teamId, userId },\r\n      select: { id: true },\r\n    });\r\n    if (teamMember) return true;\r\n  }\r\n\r\n  return false;\r\n}\r\n\r\n/* -----------------------------------------------------------\r\n   GET: fetch messages\r\n----------------------------------------------------------- */\r\nexport async function GET(req: Request, ctx: { params: { chatId: string } }) {\r\n  try {\r\n    const chatId = ctx.params.chatId;\r\n    if (!chatId)\r\n      return NextResponse.json({ ok: false, message: \"chatId required\" }, { status: 400 });\r\n\r\n    const session = await resolveSessionUser(req);\r\n    if (!session)\r\n      return NextResponse.json({ ok: false, message: \"Unauthorized\" }, { status: 401 });\r\n\r\n    const allowed = await authorizeForChat(String(session.id), session.role ?? null, chatId);\r\n    if (!allowed)\r\n      return NextResponse.json({ ok: false, message: \"Forbidden\" }, { status: 403 });\r\n\r\n    // pagination\r\n    const url = new URL(req.url);\r\n    let limit = Number(url.searchParams.get(\"limit\"));\r\n    if (!limit || limit <= 0) limit = DEFAULT_PAGE_SIZE;\r\n    if (limit > 200) limit = 200;\r\n\r\n    const before = url.searchParams.get(\"before\");\r\n\r\n    const where: any = { chatId };\r\n    if (before) {\r\n      const date = new Date(before);\r\n      if (!isNaN(date.getTime())) {\r\n        where.createdAt = { lt: date };\r\n      }\r\n    }\r\n\r\n    const rows = await prisma.chatMessage.findMany({\r\n      where,\r\n      orderBy: { createdAt: \"desc\" },\r\n      take: limit,\r\n      include: {\r\n        sender: { select: { id: true, name: true, email: true } },\r\n      },\r\n    });\r\n\r\n    const messages = rows\r\n      .map((r) => ({\r\n        id: r.id,\r\n        chatId: r.chatId,\r\n        content: r.content,\r\n        metadata: r.metadata ?? null,\r\n        externalId: r.externalId ?? null,\r\n        createdAt: r.createdAt?.toISOString?.() ?? null,\r\n        sender: r.sender\r\n          ? { id: r.sender.id, name: r.sender.name, email: r.sender.email }\r\n          : null,\r\n      }))\r\n      .reverse();\r\n\r\n    return NextResponse.json({ ok: true, messages });\r\n  } catch (err) {\r\n    console.error(\"GET /api/chats/[chatId] error:\", err);\r\n    return NextResponse.json({ ok: false, message: \"Internal Server Error\" }, { status: 500 });\r\n  }\r\n}\r\n\r\n/* -----------------------------------------------------------\r\n   POST: create/send new message\r\n----------------------------------------------------------- */\r\nexport async function POST(req: Request, ctx: { params: { chatId: string } }) {\r\n  try {\r\n    const chatId = ctx.params.chatId;\r\n    if (!chatId)\r\n      return NextResponse.json({ ok: false, message: \"chatId required\" }, { status: 400 });\r\n\r\n    const session = await resolveSessionUser(req);\r\n    if (!session)\r\n      return NextResponse.json({ ok: false, message: \"Unauthorized\" }, { status: 401 });\r\n\r\n    const allowed = await authorizeForChat(String(session.id), session.role ?? null, chatId);\r\n    if (!allowed)\r\n      return NextResponse.json({ ok: false, message: \"Forbidden\" }, { status: 403 });\r\n\r\n    const body = await safeJson(req);\r\n    const content = typeof body.content === \"string\" ? body.content.trim() : \"\";\r\n    if (!content)\r\n      return NextResponse.json({ ok: false, message: \"Message content required\" }, { status: 400 });\r\n\r\n    const metadata = typeof body.metadata === \"object\" ? body.metadata : undefined;\r\n    const externalId = typeof body.externalId === \"string\" ? body.externalId : undefined;\r\n\r\n    // Write message + update lastMessageAt\r\n    const created = await prisma.$transaction(async (tx) => {\r\n      const msg = await tx.chatMessage.create({\r\n        data: {\r\n          chatId,\r\n          senderId: String(session.id),\r\n          content,\r\n          metadata,\r\n          externalId,\r\n        },\r\n        include: {\r\n          sender: { select: { id: true, name: true, email: true } },\r\n        },\r\n      });\r\n\r\n      await tx.chat.update({\r\n        where: { id: chatId },\r\n        data: { lastMessageAt: new Date() },\r\n      });\r\n\r\n      return msg;\r\n    });\r\n\r\n    // Broadcast through socket.io\r\n    try {\r\n      const io = (globalThis as any).io ?? null;\r\n      if (io && typeof io.to === \"function\") {\r\n        io.to(chatId).emit(\"chat:message\", {\r\n          chatId,\r\n          message: {\r\n            id: created.id,\r\n            content: created.content,\r\n            metadata: created.metadata ?? null,\r\n            externalId: created.externalId ?? null,\r\n            createdAt: created.createdAt?.toISOString?.() ?? null,\r\n            sender: created.sender\r\n              ? { id: created.sender.id, name: created.sender.name, email: created.sender.email }\r\n              : null,\r\n          },\r\n        });\r\n      }\r\n    } catch (err) {\r\n      console.warn(\"Socket broadcast failed (ignored):\", err);\r\n    }\r\n\r\n    return NextResponse.json(\r\n      {\r\n        ok: true,\r\n        message: {\r\n          id: created.id,\r\n          chatId: created.chatId,\r\n          content: created.content,\r\n          metadata: created.metadata ?? null,\r\n          externalId: created.externalId ?? null,\r\n          createdAt: created.createdAt?.toISOString?.() ?? null,\r\n          sender: created.sender\r\n            ? { id: created.sender.id, name: created.sender.name, email: created.sender.email }\r\n            : null,\r\n        },\r\n      },\r\n      { status: 201 }\r\n    );\r\n  } catch (err) {\r\n    console.error(\"POST /api/chats/[chatId] error:\", err);\r\n    return NextResponse.json({ ok: false, message: \"Internal Server Error\" }, { status: 500 });\r\n  }\r\n}\r\n"],"names":[],"mappings":"AAAA,sCAAsC;;;;;;;AACtC;AACA;AACA;AACA;AACA;;;;;;AAEA,MAAM,aAAa,QAAQ,GAAG,CAAC,UAAU,IAAI;AAC7C,MAAM,oBAAoB;AAE1B;;4DAE4D,GAC5D,eAAe,SAAS,GAAY;IAClC,IAAI;QACF,OAAO,MAAM,IAAI,IAAI;IACvB,EAAE,OAAM;QACN,OAAO,CAAC;IACV;AACF;AAEA;;4DAE4D,GAC5D,eAAe,mBAAmB,GAAY;IAC5C,gBAAgB;IAChB,IAAI;QACF,MAAM,IAAI,MAAM,IAAA,sIAAc,EAAC;QAC/B,IAAI,GAAG,IAAI,OAAO;IACpB,EAAE,OAAM,CAAC;IAET,eAAe;IACf,IAAI;QACF,MAAM,OACJ,IAAI,OAAO,CAAC,GAAG,CAAC,oBAChB,IAAI,OAAO,CAAC,GAAG,CAAC;QAClB,IAAI,MAAM,cAAc,WAAW,YAAY;YAC7C,MAAM,QAAQ,KAAK,KAAK,CAAC,GAAG,IAAI;YAChC,IAAI,SAAS,YAAY;gBACvB,MAAM,UAAU,kJAAG,CAAC,MAAM,CAAC,OAAO;gBAClC,IAAI,SAAS,IAAI,OAAO;YAC1B;QACF;IACF,EAAE,OAAM,CAAC;IAET,SAAS;IACT,IAAI;QACF,MAAM,QAAQ,MAAM,IAAA,4IAAO;QAC3B,MAAM,QAAQ,MAAM,GAAG,CAAC,YAAY;QACpC,IAAI,SAAS,YAAY;YACvB,MAAM,UAAU,kJAAG,CAAC,MAAM,CAAC,OAAO;YAClC,IAAI,SAAS,IAAI,OAAO;QAC1B;IACF,EAAE,OAAM,CAAC;IAET,OAAO;AACT;AAEA;;;;;;4DAM4D,GAC5D,eAAe,iBAAiB,MAAc,EAAE,QAAuB,EAAE,MAAc;IACrF,IAAI,aAAa,SAAS,OAAO;IAEjC,MAAM,OAAO,MAAM,gIAAM,CAAC,IAAI,CAAC,UAAU,CAAC;QACxC,OAAO;YAAE,IAAI;QAAO;QACpB,QAAQ;YACN,gBAAgB;YAChB,QAAQ;QACV;IACF;IAEA,IAAI,CAAC,MAAM,OAAO;IAElB,0BAA0B;IAC1B,MAAM,OAAO,MAAM,gIAAM,CAAC,IAAI,CAAC,UAAU,CAAC;QACxC,OAAO;YAAE,IAAI;QAAO;QACpB,QAAQ;YAAE,gBAAgB;QAAK;IACjC;IAEA,IAAI,CAAC,QAAQ,KAAK,cAAc,KAAK,KAAK,cAAc,EAAE,OAAO;IAEjE,cAAc;IACd,MAAM,SAAS,MAAM,gIAAM,CAAC,UAAU,CAAC,SAAS,CAAC;QAC/C,OAAO;YAAE;YAAQ;QAAO;QACxB,QAAQ;YAAE,IAAI;QAAK;IACrB;IACA,IAAI,QAAQ,OAAO;IAEnB,sCAAsC;IACtC,IAAI,KAAK,MAAM,EAAE;QACf,MAAM,aAAa,MAAM,gIAAM,CAAC,UAAU,CAAC,SAAS,CAAC;YACnD,OAAO;gBAAE,QAAQ,KAAK,MAAM;gBAAE;YAAO;YACrC,QAAQ;gBAAE,IAAI;YAAK;QACrB;QACA,IAAI,YAAY,OAAO;IACzB;IAEA,OAAO;AACT;AAKO,eAAe,IAAI,GAAY,EAAE,GAAmC;IACzE,IAAI;QACF,MAAM,SAAS,IAAI,MAAM,CAAC,MAAM;QAChC,IAAI,CAAC,QACH,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,IAAI;YAAO,SAAS;QAAkB,GAAG;YAAE,QAAQ;QAAI;QAEpF,MAAM,UAAU,MAAM,mBAAmB;QACzC,IAAI,CAAC,SACH,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,IAAI;YAAO,SAAS;QAAe,GAAG;YAAE,QAAQ;QAAI;QAEjF,MAAM,UAAU,MAAM,iBAAiB,OAAO,QAAQ,EAAE,GAAG,QAAQ,IAAI,IAAI,MAAM;QACjF,IAAI,CAAC,SACH,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,IAAI;YAAO,SAAS;QAAY,GAAG;YAAE,QAAQ;QAAI;QAE9E,aAAa;QACb,MAAM,MAAM,IAAI,IAAI,IAAI,GAAG;QAC3B,IAAI,QAAQ,OAAO,IAAI,YAAY,CAAC,GAAG,CAAC;QACxC,IAAI,CAAC,SAAS,SAAS,GAAG,QAAQ;QAClC,IAAI,QAAQ,KAAK,QAAQ;QAEzB,MAAM,SAAS,IAAI,YAAY,CAAC,GAAG,CAAC;QAEpC,MAAM,QAAa;YAAE;QAAO;QAC5B,IAAI,QAAQ;YACV,MAAM,OAAO,IAAI,KAAK;YACtB,IAAI,CAAC,MAAM,KAAK,OAAO,KAAK;gBAC1B,MAAM,SAAS,GAAG;oBAAE,IAAI;gBAAK;YAC/B;QACF;QAEA,MAAM,OAAO,MAAM,gIAAM,CAAC,WAAW,CAAC,QAAQ,CAAC;YAC7C;YACA,SAAS;gBAAE,WAAW;YAAO;YAC7B,MAAM;YACN,SAAS;gBACP,QAAQ;oBAAE,QAAQ;wBAAE,IAAI;wBAAM,MAAM;wBAAM,OAAO;oBAAK;gBAAE;YAC1D;QACF;QAEA,MAAM,WAAW,KACd,GAAG,CAAC,CAAC,IAAM,CAAC;gBACX,IAAI,EAAE,EAAE;gBACR,QAAQ,EAAE,MAAM;gBAChB,SAAS,EAAE,OAAO;gBAClB,UAAU,EAAE,QAAQ,IAAI;gBACxB,YAAY,EAAE,UAAU,IAAI;gBAC5B,WAAW,EAAE,SAAS,EAAE,mBAAmB;gBAC3C,QAAQ,EAAE,MAAM,GACZ;oBAAE,IAAI,EAAE,MAAM,CAAC,EAAE;oBAAE,MAAM,EAAE,MAAM,CAAC,IAAI;oBAAE,OAAO,EAAE,MAAM,CAAC,KAAK;gBAAC,IAC9D;YACN,CAAC,GACA,OAAO;QAEV,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,IAAI;YAAM;QAAS;IAChD,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,kCAAkC;QAChD,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,IAAI;YAAO,SAAS;QAAwB,GAAG;YAAE,QAAQ;QAAI;IAC1F;AACF;AAKO,eAAe,KAAK,GAAY,EAAE,GAAmC;IAC1E,IAAI;QACF,MAAM,SAAS,IAAI,MAAM,CAAC,MAAM;QAChC,IAAI,CAAC,QACH,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,IAAI;YAAO,SAAS;QAAkB,GAAG;YAAE,QAAQ;QAAI;QAEpF,MAAM,UAAU,MAAM,mBAAmB;QACzC,IAAI,CAAC,SACH,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,IAAI;YAAO,SAAS;QAAe,GAAG;YAAE,QAAQ;QAAI;QAEjF,MAAM,UAAU,MAAM,iBAAiB,OAAO,QAAQ,EAAE,GAAG,QAAQ,IAAI,IAAI,MAAM;QACjF,IAAI,CAAC,SACH,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,IAAI;YAAO,SAAS;QAAY,GAAG;YAAE,QAAQ;QAAI;QAE9E,MAAM,OAAO,MAAM,SAAS;QAC5B,MAAM,UAAU,OAAO,KAAK,OAAO,KAAK,WAAW,KAAK,OAAO,CAAC,IAAI,KAAK;QACzE,IAAI,CAAC,SACH,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,IAAI;YAAO,SAAS;QAA2B,GAAG;YAAE,QAAQ;QAAI;QAE7F,MAAM,WAAW,OAAO,KAAK,QAAQ,KAAK,WAAW,KAAK,QAAQ,GAAG;QACrE,MAAM,aAAa,OAAO,KAAK,UAAU,KAAK,WAAW,KAAK,UAAU,GAAG;QAE3E,uCAAuC;QACvC,MAAM,UAAU,MAAM,gIAAM,CAAC,YAAY,CAAC,OAAO;YAC/C,MAAM,MAAM,MAAM,GAAG,WAAW,CAAC,MAAM,CAAC;gBACtC,MAAM;oBACJ;oBACA,UAAU,OAAO,QAAQ,EAAE;oBAC3B;oBACA;oBACA;gBACF;gBACA,SAAS;oBACP,QAAQ;wBAAE,QAAQ;4BAAE,IAAI;4BAAM,MAAM;4BAAM,OAAO;wBAAK;oBAAE;gBAC1D;YACF;YAEA,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;gBACnB,OAAO;oBAAE,IAAI;gBAAO;gBACpB,MAAM;oBAAE,eAAe,IAAI;gBAAO;YACpC;YAEA,OAAO;QACT;QAEA,8BAA8B;QAC9B,IAAI;YACF,MAAM,KAAK,AAAC,WAAmB,EAAE,IAAI;YACrC,IAAI,MAAM,OAAO,GAAG,EAAE,KAAK,YAAY;gBACrC,GAAG,EAAE,CAAC,QAAQ,IAAI,CAAC,gBAAgB;oBACjC;oBACA,SAAS;wBACP,IAAI,QAAQ,EAAE;wBACd,SAAS,QAAQ,OAAO;wBACxB,UAAU,QAAQ,QAAQ,IAAI;wBAC9B,YAAY,QAAQ,UAAU,IAAI;wBAClC,WAAW,QAAQ,SAAS,EAAE,mBAAmB;wBACjD,QAAQ,QAAQ,MAAM,GAClB;4BAAE,IAAI,QAAQ,MAAM,CAAC,EAAE;4BAAE,MAAM,QAAQ,MAAM,CAAC,IAAI;4BAAE,OAAO,QAAQ,MAAM,CAAC,KAAK;wBAAC,IAChF;oBACN;gBACF;YACF;QACF,EAAE,OAAO,KAAK;YACZ,QAAQ,IAAI,CAAC,sCAAsC;QACrD;QAEA,OAAO,gJAAY,CAAC,IAAI,CACtB;YACE,IAAI;YACJ,SAAS;gBACP,IAAI,QAAQ,EAAE;gBACd,QAAQ,QAAQ,MAAM;gBACtB,SAAS,QAAQ,OAAO;gBACxB,UAAU,QAAQ,QAAQ,IAAI;gBAC9B,YAAY,QAAQ,UAAU,IAAI;gBAClC,WAAW,QAAQ,SAAS,EAAE,mBAAmB;gBACjD,QAAQ,QAAQ,MAAM,GAClB;oBAAE,IAAI,QAAQ,MAAM,CAAC,EAAE;oBAAE,MAAM,QAAQ,MAAM,CAAC,IAAI;oBAAE,OAAO,QAAQ,MAAM,CAAC,KAAK;gBAAC,IAChF;YACN;QACF,GACA;YAAE,QAAQ;QAAI;IAElB,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,mCAAmC;QACjD,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,IAAI;YAAO,SAAS;QAAwB,GAAG;YAAE,QAAQ;QAAI;IAC1F;AACF","debugId":null}}]
}