{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///E:/Attack%20Capital/SignalHub/frontend/src/components/forms/AuthForms.tsx"],"sourcesContent":["// components/auth/AuthForms.tsx\r\n\"use client\";\r\n\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\n\r\n\r\nexport async function api(path: string, body: any) {\r\n  const res = await fetch(path, {\r\n    method: \"POST\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    body: JSON.stringify(body ?? {}),\r\n    credentials: \"include\",\r\n  });\r\n\r\n  const text = await res.text();\r\n  let json: any = {};\r\n  try {\r\n    json = text ? JSON.parse(text) : {};\r\n  } catch {\r\n    // not JSON — return raw text in error case\r\n    if (!res.ok) throw { error: text || \"Unknown error\" };\r\n    return text;\r\n  }\r\n\r\n  if (!res.ok) throw json;\r\n  return json;\r\n}\r\n\r\n/* -------------------------------------------------------------------------- */\r\n/* Presentational controls                                                     */\r\n/* -------------------------------------------------------------------------- */\r\n\r\nexport function Input({\r\n  label,\r\n  className = \"\",\r\n  id,\r\n  ...props\r\n}: React.InputHTMLAttributes<HTMLInputElement> & { label?: React.ReactNode }) {\r\n  return (\r\n    <label className={`block w-full ${className}`} htmlFor={id}>\r\n      {label && <div className=\"text-sm text-slate-700 mb-1\">{label}</div>}\r\n      <input\r\n        id={id}\r\n        className=\"w-full px-3 py-2 rounded-md border border-slate-300 focus:outline-none focus:ring-2 focus:ring-slate-300\"\r\n        {...props}\r\n      />\r\n    </label>\r\n  );\r\n}\r\n\r\nexport function Button({\r\n  children,\r\n  className = \"\",\r\n  disabled,\r\n  ...props\r\n}: React.ButtonHTMLAttributes<HTMLButtonElement>) {\r\n  return (\r\n    <button\r\n      className={`mt-2 inline-flex items-center justify-center px-4 py-2 rounded-md bg-sky-600 text-white hover:bg-sky-700 disabled:opacity-60 ${className}`}\r\n      disabled={disabled}\r\n      {...props}\r\n    >\r\n      {children}\r\n    </button>\r\n  );\r\n}\r\n\r\n/* -------------------------------------------------------------------------- */\r\n/* OTP input (6 digits) & timer hook                                           */\r\n/* -------------------------------------------------------------------------- */\r\n\r\nexport function OtpInput({\r\n  length = 6,\r\n  value,\r\n  onChange,\r\n  idPrefix = \"otp\",\r\n}: {\r\n  length?: number;\r\n  value: string;\r\n  onChange: (v: string) => void;\r\n  idPrefix?: string;\r\n}) {\r\n  const inputsRef = useRef<Array<HTMLInputElement | null>>([]);\r\n\r\n  useEffect(() => {\r\n    // ensure internal array length\r\n    inputsRef.current = inputsRef.current.slice(0, length);\r\n  }, [length]);\r\n\r\n  function handleChange(e: React.ChangeEvent<HTMLInputElement>, idx: number) {\r\n    const ch = e.target.value.replace(/\\D/g, \"\").slice(0, 1); // single digit number\r\n    const newVal = value.split(\"\").slice(0, length);\r\n    newVal[idx] = ch || \"\";\r\n    onChange(newVal.join(\"\").padEnd(length, \"\"));\r\n    if (ch && idx < length - 1) {\r\n      inputsRef.current[idx + 1]?.focus();\r\n    }\r\n  }\r\n\r\n  function handleKey(e: React.KeyboardEvent<HTMLInputElement>, idx: number) {\r\n    if (e.key === \"Backspace\" && !value[idx] && idx > 0) {\r\n      inputsRef.current[idx - 1]?.focus();\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex gap-2\">\r\n      {Array.from({ length }).map((_, i) => (\r\n        <input\r\n          key={i}\r\n          id={`${idPrefix}-${i}`}\r\n          ref={(el) => (inputsRef.current[i] = el)}\r\n          inputMode=\"numeric\"\r\n          pattern=\"[0-9]*\"\r\n          maxLength={1}\r\n          value={value[i] ?? \"\"}\r\n          onChange={(e) => handleChange(e, i)}\r\n          onKeyDown={(e) => handleKey(e, i)}\r\n          className=\"w-12 h-12 text-center rounded-md border border-slate-300 focus:outline-none focus:ring-2 focus:ring-slate-300\"\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\n/**\r\n * useOtpTimer\r\n * - starts a countdown in seconds\r\n * - exposes `canResend` boolean and `reset()` to start again\r\n */\r\nexport function useOtpTimer(initialSeconds = 120) {\r\n  const [seconds, setSeconds] = useState(initialSeconds);\r\n  const [running, setRunning] = useState(false);\r\n\r\n  useEffect(() => {\r\n    let t: number | undefined = undefined;\r\n    if (running && seconds > 0) {\r\n      t = window.setTimeout(() => setSeconds((s) => s - 1), 1000);\r\n    }\r\n    if (seconds === 0) setRunning(false);\r\n    return () => {\r\n      if (t) clearTimeout(t);\r\n    };\r\n  }, [running, seconds]);\r\n\r\n  function start() {\r\n    setSeconds(initialSeconds);\r\n    setRunning(true);\r\n  }\r\n\r\n  function reset() {\r\n    setSeconds(initialSeconds);\r\n    setRunning(true);\r\n  }\r\n\r\n  return {\r\n    seconds,\r\n    running,\r\n    start,\r\n    reset,\r\n    canResend: !running && seconds === initialSeconds,\r\n    formatted: `${Math.floor(seconds / 60)\r\n      .toString()\r\n      .padStart(2, \"0\")}:${(seconds % 60).toString().padStart(2, \"0\")}`,\r\n  };\r\n}\r\n\r\n/* -------------------------------------------------------------------------- */\r\n/* Small utility components                                                   */\r\n/* -------------------------------------------------------------------------- */\r\n\r\nexport function FormNotice({ children, type = \"info\" }: { children?: React.ReactNode; type?: \"info\" | \"error\" | \"success\" }) {\r\n  const base = \"mb-2 text-sm p-2 rounded\";\r\n  if (type === \"error\") return <div className={`${base} bg-red-50 text-red-700`}>{children}</div>;\r\n  if (type === \"success\") return <div className={`${base} bg-green-50 text-green-700`}>{children}</div>;\r\n  return <div className={`${base} bg-slate-50 text-slate-700`}>{children}</div>;\r\n}\r\n\r\n/* -------------------------------------------------------------------------- */\r\n/* Exports (default is not provided — named exports are used by pages)         */\r\n/* -------------------------------------------------------------------------- */\r\n\r\nexport default {\r\n  api,\r\n  Input,\r\n  Button,\r\n  OtpInput,\r\n  useOtpTimer,\r\n  FormNotice,\r\n};\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 215, "column": 0}, "map": {"version":3,"sources":["file:///E:/Attack%20Capital/SignalHub/frontend/src/app/auth/login/page.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useState } from \"react\";\r\nimport { Input, Button, api } from \"@/components/forms/AuthForms\";\r\n\r\n\r\nexport default function LoginPage() {\r\nconst [email, setEmail] = useState(\"\");\r\nconst [password, setPassword] = useState(\"\");\r\nconst [loading, setLoading] = useState(false);\r\nconst [error, setError] = useState<string | null>(null);\r\nconst [message, setMessage] = useState<string | null>(null);\r\n\r\n\r\nasync function doLogin() {\r\nsetError(null);\r\nsetLoading(true);\r\ntry {\r\nawait api(\"/api/auth/login\", { email, password });\r\nsetMessage(\"Login successful — cookie set by server.\");\r\n// optional: router.push('/admin')\r\n} catch (e: any) {\r\nsetError(e?.error || e?.message || \"Login failed\");\r\n} finally {\r\nsetLoading(false);\r\n}\r\n}\r\n\r\n\r\nreturn (\r\n<div className=\"min-h-screen bg-slate-50 flex items-center justify-center p-6\">\r\n<div className=\"max-w-md mx-auto p-6 bg-white rounded-lg shadow\">\r\n<h2 className=\"text-2xl font-semibold mb-4\">Sign in</h2>\r\n{error && <div className=\"mb-2 text-sm text-red-600\">{error}</div>}\r\n{message && <div className=\"mb-2 text-sm text-green-700\">{message}</div>}\r\n\r\n\r\n<div className=\"space-y-4\">\r\n<Input label=\"Email\" value={email} onChange={(e: any) => setEmail(e.target.value)} />\r\n<Input label=\"Password\" type=\"password\" value={password} onChange={(e: any) => setPassword(e.target.value)} />\r\n<div className=\"flex items-center gap-2\">\r\n<Button onClick={doLogin} disabled={!email || !password || loading}>\r\n{loading ? \"Signing in…\" : \"Sign in\"}\r\n</Button>\r\n</div>\r\n\r\n\r\n<div className=\"text-sm text-slate-500 mt-2\">Don't have an account? <a href=\"../signup/page.tsx\" className=\"text-sky-600\">Create organization (Admin)</a></div>\r\n</div>\r\n</div>\r\n</div>\r\n);\r\n}\r\n\r\n\r\n// ──────────────────────────────────────────────────────────\r\n// Notes:\r\n// - Copy each file to the paths mentioned in the comments.\r\n// - Ensure `components/auth/AuthForms.tsx` is exported and importable via `@/components/auth/AuthForms`.\r\n// - Tailwind classes are used for styling; adapt to your CSS setup if needed.\r\n// - Implement client-side redirects after successful auth (router.push).\r\n// - The pages call the API endpoints implemented previously.\r\n// ──────────────────────────────────────────────────────────"],"names":[],"mappings":";;;;;AACA;AACA;AAFA;;;;AAKe,SAAS;IACxB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAClD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAgB;IAGtD,eAAe;QACf,SAAS;QACT,WAAW;QACX,IAAI;YACJ,MAAM,IAAA,+IAAG,EAAC,mBAAmB;gBAAE;gBAAO;YAAS;YAC/C,WAAW;QACX,kCAAkC;QAClC,EAAE,OAAO,GAAQ;YACjB,SAAS,GAAG,SAAS,GAAG,WAAW;QACnC,SAAU;YACV,WAAW;QACX;IACA;IAGA,qBACA,8OAAC;QAAI,WAAU;kBACf,cAAA,8OAAC;YAAI,WAAU;;8BACf,8OAAC;oBAAG,WAAU;8BAA8B;;;;;;gBAC3C,uBAAS,8OAAC;oBAAI,WAAU;8BAA6B;;;;;;gBACrD,yBAAW,8OAAC;oBAAI,WAAU;8BAA+B;;;;;;8BAG1D,8OAAC;oBAAI,WAAU;;sCACf,8OAAC,iJAAK;4BAAC,OAAM;4BAAQ,OAAO;4BAAO,UAAU,CAAC,IAAW,SAAS,EAAE,MAAM,CAAC,KAAK;;;;;;sCAChF,8OAAC,iJAAK;4BAAC,OAAM;4BAAW,MAAK;4BAAW,OAAO;4BAAU,UAAU,CAAC,IAAW,YAAY,EAAE,MAAM,CAAC,KAAK;;;;;;sCACzG,8OAAC;4BAAI,WAAU;sCACf,cAAA,8OAAC,kJAAM;gCAAC,SAAS;gCAAS,UAAU,CAAC,SAAS,CAAC,YAAY;0CAC1D,UAAU,gBAAgB;;;;;;;;;;;sCAK3B,8OAAC;4BAAI,WAAU;;gCAA8B;8CAAuB,8OAAC;oCAAE,MAAK;oCAAqB,WAAU;8CAAe;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAK1H,EAGA,6DAA6D;CAC7D,SAAS;CACT,2DAA2D;CAC3D,yGAAyG;CACzG,8EAA8E;CAC9E,yEAAyE;CACzE,6DAA6D;CAC7D,6DAA6D","debugId":null}},
    {"offset": {"line": 363, "column": 0}, "map": {"version":3,"sources":["file:///E:/Attack%20Capital/SignalHub/frontend/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":"AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,QAAQ;;KAElC;IACL,IAAIF,QAAQC,GAAG,CAACK,yBAAyB,EAAE;;SAcpC;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1C,IAAIP,QAAQC,GAAG,CAACO,SAAS,eAAE;gBACzBL,OAAOC,OAAO,GAAGC,QAAQ;YAC3B,OAAO;;QAGT,OAAO;;IAOT;AACF","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 382, "column": 0}, "map": {"version":3,"sources":["file:///E:/Attack%20Capital/SignalHub/frontend/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 387, "column": 0}, "map": {"version":3,"sources":["file:///E:/Attack%20Capital/SignalHub/frontend/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n"],"names":["module","exports","require","vendored","React"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,KAAK","ignoreList":[0],"debugId":null}}]
}