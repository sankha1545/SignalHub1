{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///E:/Attack%20Capital/SignalHub/frontend/src/app/auth/login/page.tsx"],"sourcesContent":["// full code block below — copy and paste into your login page file\r\n\"use client\";\r\n\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { GoogleOAuthProvider, GoogleLogin, CredentialResponse } from \"@react-oauth/google\";\r\nimport {jwtDecode} from \"jwt-decode\";\r\n\r\n/**\r\n * Responsive Login page with Reset Password (reset-pass) modal + OTP flow.\r\n * Improvements made for responsiveness, accessibility, and robustness:\r\n * - Mobile-first layout using Tailwind responsive utilities\r\n * - Modal constrained with max-height and scroll for small screens\r\n * - Inputs/buttons full-width on small screens, compact on larger\r\n * - OTP grid becomes horizontally scrollable on tiny screens to avoid overlap\r\n * - Proper cleanup of intervals and safe fetch helper\r\n * - Ensures router pushes happen from event handlers (no render-time navigation)\r\n *\r\n * Endpoints used by this page (App Router):\r\n * - POST /api/auth/login\r\n * - POST /api/auth/google/login\r\n * - POST /api/auth/reset-pass/send-otp\r\n * - POST /api/auth/reset-pass/verify-otp\r\n * - POST /api/auth/reset-pass/reset\r\n */\r\n\r\nfunction OtpInputGrid({ value, onChange }: { value: string; onChange: (v: string) => void }) {\r\n  const refs = useRef<Array<HTMLInputElement | null>>([]);\r\n  useEffect(() => {\r\n    const idx = value.length;\r\n    if (idx < 6) refs.current[idx]?.focus();\r\n    else if (idx === 6) refs.current[5]?.focus();\r\n  }, [value]);\r\n\r\n  function handlePaste(e: React.ClipboardEvent<HTMLInputElement>) {\r\n    e.preventDefault();\r\n    const pasted = e.clipboardData.getData(\"text\").replace(/\\D/g, \"\").slice(0, 6);\r\n    if (!pasted) return;\r\n    onChange(pasted);\r\n  }\r\n\r\n  function handleChange(e: React.ChangeEvent<HTMLInputElement>, i: number) {\r\n    const ch = e.target.value.replace(/\\D/g, \"\").slice(-1);\r\n    const arr = value.split(\"\");\r\n    while (arr.length < 6) arr.push(\"\");\r\n    arr[i] = ch || \"\";\r\n    const joined = arr.join(\"\").slice(0, 6);\r\n    onChange(joined);\r\n    if (ch && i < 5) refs.current[i + 1]?.focus();\r\n  }\r\n\r\n  function handleKey(e: React.KeyboardEvent<HTMLInputElement>, i: number) {\r\n    if (e.key === \"Backspace\") {\r\n      if (!value[i] && i > 0) refs.current[i - 1]?.focus();\r\n    } else if (e.key === \"ArrowLeft\" && i > 0) refs.current[i - 1]?.focus();\r\n    else if (e.key === \"ArrowRight\" && i < 5) refs.current[i + 1]?.focus();\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex gap-3 justify-center overflow-x-auto py-2\" onPaste={handlePaste}>\r\n      {Array.from({ length: 6 }).map((_, i) => (\r\n        <input\r\n          key={i}\r\n          aria-label={`OTP digit ${i + 1}`}\r\n          ref={(el) => (refs.current[i] = el)}\r\n          value={value[i] ?? \"\"}\r\n          onChange={(e) => handleChange(e, i)}\r\n          onKeyDown={(e) => handleKey(e, i)}\r\n          inputMode=\"numeric\"\r\n          pattern=\"\\d*\"\r\n          maxLength={1}\r\n          className=\"w-10 sm:w-12 h-12 sm:h-14 rounded-lg border border-zinc-200 text-center text-lg font-medium focus:outline-none focus:ring-2 focus:ring-sky-400 bg-white flex-shrink-0\"\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nasync function safeJsonFetch(input: RequestInfo, init?: RequestInit) {\r\n  const res = await fetch(input, init);\r\n  const contentType = res.headers.get(\"content-type\") || \"\";\r\n  let data: any = null;\r\n  if (contentType.includes(\"application/json\")) {\r\n    try {\r\n      data = await res.json();\r\n    } catch (e) {\r\n      data = null;\r\n    }\r\n  } else {\r\n    const text = await res.text();\r\n    data = { __rawText: text };\r\n  }\r\n  return { ok: res.ok, status: res.status, data, headers: res.headers };\r\n}\r\n\r\nexport default function LoginPage() {\r\n  const router = useRouter();\r\n  const googleClientId = process.env.NEXT_PUBLIC_GOOGLE_CLIENT_ID || \"\";\r\n\r\n  // Login state\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [busy, setBusy] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [successMsg, setSuccessMsg] = useState<string | null>(null);\r\n  const [showPwd, setShowPwd] = useState(false);\r\n  const [remember, setRemember] = useState(true);\r\n\r\n  // Reset-pass modal state\r\n  const [forgotOpen, setForgotOpen] = useState(false);\r\n  const [forgotEmail, setForgotEmail] = useState(\"\");\r\n  const [otpSent, setOtpSent] = useState(false);\r\n  const [forgotOtp, setForgotOtp] = useState(\"\");\r\n  const [secondsLeft, setSecondsLeft] = useState(0);\r\n  const otpInterval = useRef<number | null>(null);\r\n  const [otpVerified, setOtpVerified] = useState(false);\r\n  const [newPassword, setNewPassword] = useState(\"\");\r\n  const [newPassword2, setNewPassword2] = useState(\"\");\r\n  const [forgotBusy, setForgotBusy] = useState(false);\r\n  const [forgotMessage, setForgotMessage] = useState<{ type: \"error\" | \"success\"; text: string } | null>(null);\r\n  const [lastPasswordChange, setLastPasswordChange] = useState<number | null>(null);\r\n\r\n  // cleanup intervals on unmount\r\n  useEffect(() => {\r\n    return () => {\r\n      if (otpInterval.current) {\r\n        window.clearInterval(otpInterval.current);\r\n        otpInterval.current = null;\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  // load last password change timestamp from localStorage (client-side convenience only)\r\n  useEffect(() => {\r\n    try {\r\n      const raw = localStorage.getItem(\"lastPasswordChange\");\r\n      if (raw) setLastPasswordChange(Number(raw));\r\n    } catch (e) {}\r\n  }, []);\r\n\r\n  // clear success messages after short delay\r\n  useEffect(() => {\r\n    if (!successMsg) return;\r\n    const t = setTimeout(() => setSuccessMsg(null), 3000);\r\n    return () => clearTimeout(t);\r\n  }, [successMsg]);\r\n\r\n  // login submit\r\n  async function handleSubmit(e: React.FormEvent) {\r\n    e.preventDefault();\r\n    setError(null);\r\n    if (!email) return setError(\"Please enter your email.\");\r\n    if (!/\\S+@\\S+\\.\\S+/.test(email)) return setError(\"Please enter a valid email address.\");\r\n    if (!password) return setError(\"Please enter your password.\");\r\n\r\n    setBusy(true);\r\n    try {\r\n      const res = await safeJsonFetch(\"/api/auth/login\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ email: email.trim().toLowerCase(), password, remember }),\r\n      });\r\n      if (!res.ok) {\r\n        setError(res.data?.error ?? (res.data?.__rawText ? \"Server returned non-JSON response\" : \"Login failed\"));\r\n      } else {\r\n        setSuccessMsg(\"Signed in — redirecting…\");\r\n        // navigate to welcome page after small delay for UX\r\n        setTimeout(() => router.push(\"/welcome\"), 600);\r\n      }\r\n    } catch (err) {\r\n      console.error(\"login error\", err);\r\n      setError(\"Network error. Check your connection.\");\r\n    } finally {\r\n      setBusy(false);\r\n    }\r\n  }\r\n\r\n  // Google sign-in success handler\r\n  async function onGoogleSuccess(credentialResponse: CredentialResponse | any) {\r\n    setError(null);\r\n    if (!credentialResponse?.credential) {\r\n      setError(\"Google returned no credential. Try again.\");\r\n      return;\r\n    }\r\n\r\n    let decoded: any;\r\n    try {\r\n      decoded = jwtDecode(credentialResponse.credential);\r\n    } catch (err) {\r\n      console.error(\"jwt decode error\", err);\r\n      setError(\"Failed to decode Google token.\");\r\n      return;\r\n    }\r\n\r\n    const googleEmail = decoded?.email;\r\n    const googleSub = decoded?.sub;\r\n\r\n    if (!googleEmail || !googleSub) {\r\n      setError(\"Google account did not provide email. Use a Google account with email enabled.\");\r\n      return;\r\n    }\r\n\r\n    setBusy(true);\r\n    try {\r\n      const res = await safeJsonFetch(\"/api/auth/google/login\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ email: googleEmail, sub: googleSub }),\r\n      });\r\n      if (!res.ok) {\r\n        setError(res.data?.error ?? \"Google login failed. If you don't have an account, sign up first.\");\r\n      } else {\r\n        setSuccessMsg(\"Signed in with Google — redirecting…\");\r\n        setTimeout(() => router.push(\"/welcome\"), 600);\r\n      }\r\n    } catch (err) {\r\n      console.error(\"google login error\", err);\r\n      setError(\"Network error during Google login.\");\r\n    } finally {\r\n      setBusy(false);\r\n    }\r\n  }\r\n\r\n  function onGoogleError() {\r\n    setError(\"Google authentication failed or was cancelled.\");\r\n  }\r\n\r\n  // --- Reset-pass flow ---\r\n  function openForgotModal() {\r\n    // check local lastPasswordChange to prevent change within 24h\r\n    if (lastPasswordChange) {\r\n      const elapsed = Date.now() - lastPasswordChange;\r\n      if (elapsed < 24 * 60 * 60 * 1000) {\r\n        setForgotMessage({ type: \"error\", text: \"You can change your password only once every 24 hours.\" });\r\n        setTimeout(() => setForgotMessage(null), 6000);\r\n        return;\r\n      }\r\n    }\r\n    setForgotOpen(true);\r\n    setForgotEmail(\"\");\r\n    setOtpSent(false);\r\n    setForgotOtp(\"\");\r\n    setOtpVerified(false);\r\n    setNewPassword(\"\");\r\n    setNewPassword2(\"\");\r\n    setForgotMessage(null);\r\n  }\r\n\r\n  function closeForgotModal() {\r\n    setForgotOpen(false);\r\n    setForgotMessage(null);\r\n    if (otpInterval.current) {\r\n      window.clearInterval(otpInterval.current);\r\n      otpInterval.current = null;\r\n    }\r\n    setSecondsLeft(0);\r\n  }\r\n\r\n  async function handleSendOtp() {\r\n    setForgotMessage(null);\r\n    if (!forgotEmail || !/\\S+@\\S+\\.\\S+/.test(forgotEmail)) {\r\n      return setForgotMessage({ type: \"error\", text: \"Please enter a valid email address.\" });\r\n    }\r\n    setForgotBusy(true);\r\n    try {\r\n      const res = await safeJsonFetch(\"/api/auth/reset-pass/send-otp\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ email: forgotEmail.trim().toLowerCase() }),\r\n      });\r\n      if (!res.ok) {\r\n        setForgotMessage({ type: \"error\", text: res.data?.error ?? \"Failed to send OTP.\" });\r\n      } else {\r\n        setOtpSent(true);\r\n        setForgotOtp(\"\");\r\n        setSecondsLeft(60);\r\n        setForgotMessage({ type: \"success\", text: \"OTP sent — check your email.\" });\r\n        // start countdown\r\n        if (otpInterval.current) {\r\n          window.clearInterval(otpInterval.current);\r\n          otpInterval.current = null;\r\n        }\r\n        otpInterval.current = window.setInterval(() => {\r\n          setSecondsLeft((s) => {\r\n            if (s <= 1) {\r\n              if (otpInterval.current) {\r\n                window.clearInterval(otpInterval.current);\r\n                otpInterval.current = null;\r\n              }\r\n              return 0;\r\n            }\r\n            return s - 1;\r\n          });\r\n        }, 1000);\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n      setForgotMessage({ type: \"error\", text: \"Network error while sending OTP.\" });\r\n    } finally {\r\n      setForgotBusy(false);\r\n    }\r\n  }\r\n\r\n  async function handleResendOtp() {\r\n    if (secondsLeft > 0) return;\r\n    await handleSendOtp();\r\n  }\r\n\r\n  async function handleVerifyOtp() {\r\n    if (forgotOtp.length !== 6) return setForgotMessage({ type: \"error\", text: \"Enter the 6-digit OTP.\" });\r\n    setForgotBusy(true);\r\n    try {\r\n      const res = await safeJsonFetch(\"/api/auth/reset-pass/verify-otp\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ email: forgotEmail.trim().toLowerCase(), code: forgotOtp }),\r\n      });\r\n      if (!res.ok) {\r\n        setForgotMessage({ type: \"error\", text: res.data?.error ?? \"OTP verification failed.\" });\r\n      } else {\r\n        setOtpVerified(true);\r\n        setForgotMessage({ type: \"success\", text: \"OTP verified. Enter a new password.\" });\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n      setForgotMessage({ type: \"error\", text: \"Network error while verifying OTP.\" });\r\n    } finally {\r\n      setForgotBusy(false);\r\n    }\r\n  }\r\n\r\n  async function handleResetPassword(e?: React.FormEvent) {\r\n    if (e) e.preventDefault();\r\n    setForgotMessage(null);\r\n\r\n    // double-check 24h lockout (client side convenience)\r\n    if (lastPasswordChange) {\r\n      const elapsed = Date.now() - lastPasswordChange;\r\n      if (elapsed < 24 * 60 * 60 * 1000) {\r\n        setForgotMessage({ type: \"error\", text: \"You can change your password only once every 24 hours.\" });\r\n        return;\r\n      }\r\n    }\r\n\r\n    if (!otpVerified) return setForgotMessage({ type: \"error\", text: \"Verify the OTP first.\" });\r\n    if (!newPassword || newPassword.length < 8) return setForgotMessage({ type: \"error\", text: \"Password must be at least 8 characters.\" });\r\n    if (newPassword !== newPassword2) return setForgotMessage({ type: \"error\", text: \"Passwords do not match.\" });\r\n\r\n    setForgotBusy(true);\r\n    try {\r\n      const res = await safeJsonFetch(\"/api/auth/reset-pass/reset\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ email: forgotEmail.trim().toLowerCase(), password: newPassword }),\r\n      });\r\n      if (!res.ok) {\r\n        setForgotMessage({ type: \"error\", text: res.data?.error ?? \"Failed to reset password.\" });\r\n      } else {\r\n        setForgotMessage({ type: \"success\", text: \"Your password has been changed.\" });\r\n        // store last change timestamp locally (backend should also enforce)\r\n        const ts = Date.now();\r\n        try { localStorage.setItem(\"lastPasswordChange\", String(ts)); } catch (e) {}\r\n        setLastPasswordChange(ts);\r\n        // close modal after a short delay\r\n        setTimeout(() => {\r\n          closeForgotModal();\r\n          setSuccessMsg(\"Password updated — you can now sign in.\");\r\n        }, 1500);\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n      setForgotMessage({ type: \"error\", text: \"Network error while resetting password.\" });\r\n    } finally {\r\n      setForgotBusy(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-b from-zinc-50 to-white dark:from-black dark:to-zinc-900 flex items-center justify-center py-8 px-4\">\r\n      <main className=\"w-full max-w-6xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-8 items-center\">\r\n        {/* Left: marketing -- hidden on small screens */}\r\n        <aside className=\"hidden lg:flex flex-col justify-center rounded-2xl overflow-hidden bg-gradient-to-tr from-sky-600 to-indigo-600 text-white p-10 shadow-xl\">\r\n          <div className=\"relative z-10\">\r\n            <div className=\"flex items-center gap-3 mb-6\">\r\n              <div className=\"w-12 h-12 rounded-lg bg-white/10 flex items-center justify-center\">\r\n                <svg className=\"w-6 h-6 text-white\" viewBox=\"0 0 24 24\" fill=\"none\" aria-hidden>\r\n                  <path d=\"M21 15a2 2 0 0 1-2 2H8l-5 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z\" stroke=\"currentColor\" strokeWidth=\"1.25\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n                </svg>\r\n              </div>\r\n              <div>\r\n                <h3 className=\"text-lg font-semibold\">UnifyReach</h3>\r\n                <p className=\"text-xs opacity-90\">Customer engagement, simplified</p>\r\n              </div>\r\n            </div>\r\n\r\n            <h2 className=\"text-3xl font-extrabold leading-tight mb-4\">One inbox for every conversation</h2>\r\n            <p className=\"max-w-md text-sm opacity-95 leading-relaxed mb-6\">Centralize SMS, WhatsApp and Email. Collaborate with your team in real time, respond faster, and keep every contact conversation-ready.</p>\r\n          </div>\r\n        </aside>\r\n\r\n        {/* Right: auth card */}\r\n        <section className=\"flex items-center justify-center\">\r\n          <div className=\"w-full max-w-md bg-white dark:bg-zinc-900 rounded-2xl shadow-lg p-6 sm:p-8 ring-1 ring-black/5 dark:ring-white/6\">\r\n            <header className=\"mb-6\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                  <h1 className=\"text-2xl sm:text-3xl font-bold text-zinc-900 dark:text-zinc-50\">Welcome back</h1>\r\n                  <p className=\"text-sm sm:text-base text-zinc-500 dark:text-zinc-300\">Sign in to manage conversations & teams</p>\r\n                </div>\r\n              </div>\r\n            </header>\r\n\r\n            <div aria-live=\"polite\" className=\"min-h-[1.5rem] mb-4\">\r\n              {error && <div className=\"rounded-md bg-red-50 px-3 py-2 text-sm text-red-700 mb-3\">{error}</div>}\r\n              {successMsg && <div className=\"rounded-md bg-green-50 px-3 py-2 text-sm text-green-700 mb-3\">{successMsg}</div>}\r\n            </div>\r\n\r\n            <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n              <label className=\"block\">\r\n                <span className=\"text-sm font-medium text-zinc-700 dark:text-zinc-300\">Email</span>\r\n                <input\r\n                  type=\"email\"\r\n                  inputMode=\"email\"\r\n                  value={email}\r\n                  onChange={(e) => setEmail(e.target.value)}\r\n                  required\r\n                  className=\"mt-2 w-full rounded-lg border border-zinc-200 dark:border-zinc-800 px-3 py-2 bg-white dark:bg-zinc-950 focus:outline-none focus:ring-2 focus:ring-sky-400\"\r\n                  placeholder=\"you@company.com\"\r\n                  autoComplete=\"email\"\r\n                />\r\n              </label>\r\n\r\n              <label className=\"block relative\">\r\n                <span className=\"text-sm font-medium text-zinc-700 dark:text-zinc-300\">Password</span>\r\n                <div className=\"mt-2 flex items-center gap-2\">\r\n                  <input\r\n                    type={showPwd ? \"text\" : \"password\"}\r\n                    value={password}\r\n                    onChange={(e) => setPassword(e.target.value)}\r\n                    required\r\n                    className=\"flex-1 rounded-lg border border-zinc-200 dark:border-zinc-800 px-3 py-2 bg-white dark:bg-zinc-950 focus:outline-none focus:ring-2 focus:ring-sky-400\"\r\n                    placeholder=\"Enter your password\"\r\n                    autoComplete=\"current-password\"\r\n                    aria-describedby=\"password-visibility\"\r\n                  />\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => setShowPwd((s) => !s)}\r\n                    aria-pressed={showPwd}\r\n                    aria-label={showPwd ? \"Hide password\" : \"Show password\"}\r\n                    id=\"password-visibility\"\r\n                    className=\"inline-flex items-center justify-center rounded-md px-3 py-2 bg-zinc-50 dark:bg-zinc-800 border border-zinc-100 dark:border-zinc-700 hover:bg-zinc-100 dark:hover:bg-zinc-700\"\r\n                  >\r\n                    {showPwd ? (\r\n                      <svg className=\"w-5 h-5 text-zinc-700 dark:text-zinc-200\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n                        <path d=\"M3 3l18 18\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n                        <path d=\"M10.58 10.58a3 3 0 0 0 4.24 4.24\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n                      </svg>\r\n                    ) : (\r\n                      <svg className=\"w-5 h-5 text-zinc-700 dark:text-zinc-200\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n                        <path d=\"M2.5 12s3.5-6.5 9.5-6.5S21.5 12 21.5 12s-3.5 6.5-9.5 6.5S2.5 12 2.5 12z\" stroke=\"currentColor\" strokeWidth=\"1.25\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n                        <circle cx=\"12\" cy=\"12\" r=\"2.5\" stroke=\"currentColor\" strokeWidth=\"1.25\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n                      </svg>\r\n                    )}\r\n                  </button>\r\n                </div>\r\n              </label>\r\n\r\n              <div className=\"flex items-center justify-between text-sm\">\r\n                <label className=\"inline-flex items-center gap-2 text-zinc-600 dark:text-zinc-300\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    checked={remember}\r\n                    onChange={(e) => setRemember(e.target.checked)}\r\n                    className=\"h-4 w-4 rounded border-zinc-300 text-sky-600 focus:ring-sky-500\"\r\n                  />\r\n                  Remember me\r\n                </label>\r\n                <button type=\"button\" onClick={openForgotModal} className=\"text-sm text-sky-600 hover:underline\">Forgot password?</button>\r\n              </div>\r\n\r\n              <button\r\n                type=\"submit\"\r\n                disabled={busy}\r\n                className=\"w-full rounded-md px-4 py-2 text-white font-semibold transition-colors disabled:opacity-60\"\r\n                style={{ background: \"linear-gradient(90deg,#06b6d4,#7c3aed)\", boxShadow: \"0 8px 20px rgba(124,58,237,0.12)\" }}\r\n              >\r\n                {busy ? \"Signing in…\" : \"Sign in\"}\r\n              </button>\r\n            </form>\r\n\r\n            <div className=\"my-4 flex items-center gap-3\">\r\n              <div className=\"flex-1 h-px bg-zinc-100 dark:bg-zinc-800\" />\r\n              <div className=\"text-xs text-zinc-400\">or continue with</div>\r\n              <div className=\"flex-1 h-px bg-zinc-100 dark:bg-zinc-800\" />\r\n            </div>\r\n\r\n            <div className=\"space-y-3\">\r\n              {googleClientId ? (\r\n                <div className=\"w-full\">\r\n                  <GoogleOAuthProvider clientId={googleClientId}>\r\n                    <GoogleLogin onSuccess={onGoogleSuccess} onError={onGoogleError} useOneTap={false} />\r\n                  </GoogleOAuthProvider>\r\n                </div>\r\n              ) : (\r\n                <a\r\n                  href=\"#\"\r\n                  onClick={(e) => {\r\n                    e.preventDefault();\r\n                    setError(\"Google client id is not configured. Set NEXT_PUBLIC_GOOGLE_CLIENT_ID\");\r\n                  }}\r\n                  className=\"flex items-center justify-center gap-3 w-full rounded-md border border-zinc-200 dark:border-zinc-800 px-4 py-2 hover:bg-zinc-50 dark:hover:bg-zinc-800 transition\"\r\n                >\r\n                  <svg className=\"w-5 h-5\" viewBox=\"0 0 533.5 544.3\" aria-hidden>\r\n                    <path fill=\"#4285f4\" d=\"M533.5 278.4c0-18.4-1.6-36.1-4.7-53.4H272v101.2h146.9c-6.3 34-25 62.8-53.4 82v68.4h86.5c50.6-46.6 81.5-115.4 81.5-198.2z\"/>\r\n                    <path fill=\"#34a853\" d=\"M272 544.3c72.6 0 133.6-24.1 178.2-65.6l-86.5-68.4c-24 16.1-54.9 25.6-91.7 25.6-70.6 0-130.3-47.6-151.6-111.6H34.7v69.8C79.2 485.7 168.6 544.3 272 544.3z\"/>\r\n                    <path fill=\"#fbbc04\" d=\"M120.4 331.9c-10.9-32.9-10.9-68.2 0-101.1V161h-85.7C9.9 211.3 0 245.9 0 278.4c0 32.6 9.9 67.1 34.7 97.5l85.7-44z\"/>\r\n                    <path fill=\"#ea4335\" d=\"M272 109.1c39.4 0 74.7 13.6 102.6 40.4l77-77C405.6 25 345.1 0 272 0 168.6 0 79.2 58.6 34.7 146.1l85.7 44.8C141.7 156.7 201.4 109.1 272 109.1z\"/>\r\n                  </svg>\r\n                  <span className=\"text-sm font-medium\">Continue with Google</span>\r\n                </a>\r\n              )}\r\n\r\n              <a href=\"/auth/signup\" className=\"block text-center text-sm text-zinc-600 dark:text-zinc-300 hover:underline\">Create a new account</a>\r\n            </div>\r\n\r\n            <footer className=\"mt-6 text-xs text-zinc-400\">\r\n              By signing in you agree to our <a className=\"text-sky-600 hover:underline\" href=\"/terms\">Terms</a> and <a className=\"text-sky-600 hover:underline\" href=\"/privacy\">Privacy</a>.\r\n            </footer>\r\n          </div>\r\n        </section>\r\n      </main>\r\n\r\n      {/* Reset-pass modal */}\r\n      {forgotOpen && (\r\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4\">\r\n          <div className=\"w-full max-w-md bg-white dark:bg-zinc-900 rounded-2xl shadow-lg p-5 sm:p-6 ring-1 ring-black/5 max-h-[90vh] overflow-y-auto\">\r\n            <div className=\"flex items-start justify-between sticky top-0 bg-white dark:bg-zinc-900 pt-2 -mx-5 px-5\">\r\n              <h3 className=\"text-lg font-semibold text-zinc-900 dark:text-zinc-50\">Reset password</h3>\r\n              <button onClick={closeForgotModal} className=\"text-zinc-500 hover:text-zinc-700 ml-4\">Close</button>\r\n            </div>\r\n\r\n            <div className=\"mt-3\">\r\n              {forgotMessage && (\r\n                <div className={`rounded-md px-3 py-2 text-sm ${forgotMessage.type === \"error\" ? \"bg-red-50 text-red-700\" : \"bg-green-50 text-green-700\"}`}>\r\n                  {forgotMessage.text}\r\n                </div>\r\n              )}\r\n\r\n              {!otpSent && (\r\n                <div className=\"mt-3 space-y-3\">\r\n                  <label className=\"block\">\r\n                    <span className=\"text-sm text-zinc-700 dark:text-zinc-300\">Enter your email</span>\r\n                    <input value={forgotEmail} onChange={(e) => setForgotEmail(e.target.value)} className=\"mt-2 w-full rounded-lg border border-zinc-200 dark:border-zinc-800 px-3 py-2\" placeholder=\"you@company.com\" />\r\n                  </label>\r\n\r\n                  <div className=\"flex flex-col sm:flex-row gap-3\">\r\n                    <button onClick={handleSendOtp} disabled={forgotBusy} className=\"flex-1 rounded-md px-4 py-2 text-white font-semibold\" style={{ background: \"linear-gradient(90deg,#10b981,#06b6d4)\" }}>\r\n                      {forgotBusy ? \"Sending…\" : \"Send OTP\"}\r\n                    </button>\r\n                    <button onClick={closeForgotModal} className=\"inline-flex items-center gap-2 rounded-md px-3 py-2 border border-zinc-200 text-sm hover:bg-zinc-50\">Cancel</button>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {otpSent && !otpVerified && (\r\n                <div className=\"mt-3 space-y-3\">\r\n                  <p className=\"text-sm text-zinc-600\">We sent a 6-digit code to <strong>{forgotEmail}</strong>. Enter it below.</p>\r\n                  <OtpInputGrid value={forgotOtp} onChange={setForgotOtp} />\r\n\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <button onClick={handleVerifyOtp} disabled={forgotBusy} className=\"rounded-md px-4 py-2 bg-emerald-600 text-white font-semibold\">\r\n                      {forgotBusy ? \"Verifying…\" : \"Verify OTP\"}\r\n                    </button>\r\n\r\n                    <div className=\"flex items-center gap-3\">\r\n                      <div className=\"text-sm text-zinc-500\">{secondsLeft > 0 ? `Resend in ${secondsLeft}s` : \"Didn’t receive it?\"}</div>\r\n                      <button onClick={handleResendOtp} disabled={secondsLeft > 0 || forgotBusy} className={`text-sm font-medium ${secondsLeft > 0 ? \"text-zinc-400\" : \"text-emerald-600\"}`}>\r\n                        Resend\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {otpVerified && (\r\n                <form onSubmit={handleResetPassword} className=\"mt-3 space-y-3\">\r\n                  <div>\r\n                    <label className=\"block text-sm text-zinc-700 dark:text-zinc-300\">New password</label>\r\n                    <input type=\"password\" value={newPassword} onChange={(e) => setNewPassword(e.target.value)} required className=\"mt-2 w-full rounded-lg border border-zinc-200 dark:border-zinc-800 px-3 py-2\" placeholder=\"Enter new password\" />\r\n                    <p className=\"text-xs text-zinc-400 mt-1\">Minimum 8 characters.</p>\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm text-zinc-700 dark:text-zinc-300\">Confirm new password</label>\r\n                    <input type=\"password\" value={newPassword2} onChange={(e) => setNewPassword2(e.target.value)} required className=\"mt-2 w-full rounded-lg border border-zinc-200 dark:border-zinc-800 px-3 py-2\" placeholder=\"Re-enter new password\" />\r\n                  </div>\r\n\r\n                  <div className=\"flex gap-3\">\r\n                    <button type=\"submit\" disabled={forgotBusy} className=\"flex-1 rounded-md px-4 py-2 text-white font-semibold\" style={{ background: \"linear-gradient(90deg,#06b6d4,#7c3aed)\" }}>\r\n                      {forgotBusy ? \"Saving…\" : \"Save new password\"}\r\n                    </button>\r\n                    <button type=\"button\" onClick={closeForgotModal} className=\"inline-flex items-center gap-2 rounded-md px-3 py-2 border border-zinc-200 text-sm hover:bg-zinc-50\">Cancel</button>\r\n                  </div>\r\n                </form>\r\n              )}\r\n\r\n              <div className=\"mt-2 text-xs text-zinc-500\">Note: After changing your password you won't be able to change it again for 24 hours.</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}