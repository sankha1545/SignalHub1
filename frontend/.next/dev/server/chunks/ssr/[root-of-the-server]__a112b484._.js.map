{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 94, "column": 0}, "map": {"version":3,"sources":["file:///E:/Attack%20Capital/SignalHub/frontend/src/lib/socketClient.ts"],"sourcesContent":["import { io, Socket } from \"socket.io-client\";\r\n\r\n\r\nlet socket: Socket | null = null;\r\n\r\n\r\nfunction getSocket() {\r\nif (!socket) {\r\nsocket = io(process.env.NEXT_PUBLIC_SOCKET_URL || \"\", {\r\npath: \"/api/socketio\",\r\nautoConnect: true,\r\ntransports: [\"websocket\"],\r\n});\r\n}\r\nreturn socket;\r\n}\r\n\r\n\r\nexport default getSocket();"],"names":[],"mappings":";;;;AAAA;;AAGA,IAAI,SAAwB;AAG5B,SAAS;IACT,IAAI,CAAC,QAAQ;QACb,SAAS,IAAA,8LAAE,EAAC,QAAQ,GAAG,CAAC,sBAAsB,IAAI,IAAI;YACtD,MAAM;YACN,aAAa;YACb,YAAY;gBAAC;aAAY;QACzB;IACA;IACA,OAAO;AACP;uCAGe","debugId":null}},
    {"offset": {"line": 118, "column": 0}, "map": {"version":3,"sources":["file:///E:/Attack%20Capital/SignalHub/frontend/src/app/ui/forms/create-team/page.tsx"],"sourcesContent":["// src/app/ui/forms/create-team/page.tsx\r\n\"use client\";\r\n\r\nimport React, { useEffect, useMemo, useState } from \"react\";\r\nimport { motion } from \"framer-motion\";\r\nimport { X, Plus, UserPlus, Star, Trash2 } from \"lucide-react\";\r\nimport socketClient from \"@/lib/socketClient\";\r\n\r\ntype User = { id: string; name?: string; email?: string };\r\ntype TeamMemberShape = { id?: string; user?: { id?: string; name?: string; email?: string } };\r\n\r\ntype Team = {\r\n  id?: string;\r\n  name?: string;\r\n  description?: string | null;\r\n  manager?: { id?: string; name?: string };\r\n  managerId?: string | null;\r\n  featured?: boolean;\r\n  gradient?: string;\r\n  projects?: number;\r\n  completion?: number;\r\n  members?: TeamMemberShape[];\r\n};\r\n\r\ntype Props = {\r\n  managers?: User[]; // optional pre-provided lists (if parent fetched)\r\n  employees?: User[];\r\n  loadingUsers?: boolean;\r\n  initialTeam?: Team | null;\r\n  onCreate?: (teamOrResponse: any) => void;\r\n  onUpdate?: (id: string, payload: any) => void;\r\n  onDelete?: (id: string) => void;\r\n  onClose: () => void;\r\n};\r\n\r\n/* ---------- Helpers ---------- */\r\nfunction getInitialsFromName(name = \"\") {\r\n  const parts = name.trim().split(/\\s+/).filter(Boolean);\r\n  if (parts.length === 0) return \"\";\r\n  if (parts.length === 1) return parts[0].slice(0, 2).toUpperCase();\r\n  return (parts[0][0] + parts[parts.length - 1][0]).toUpperCase();\r\n}\r\n\r\n/**\r\n * Fetches a URL expecting a list or wrapper object { users: [...] } etc.\r\n * Returns array or throws on HTTP error.\r\n */\r\nasync function fetchJsonList(url: string) {\r\n  const res = await fetch(url, { credentials: \"same-origin\" });\r\n  if (!res.ok) throw new Error(`HTTP ${res.status}`);\r\n  const j = await res.json().catch(() => null);\r\n  if (!j) return [];\r\n  if (Array.isArray(j)) return j;\r\n  if (Array.isArray((j as any).users)) return (j as any).users;\r\n  if (Array.isArray((j as any).data)) return (j as any).data;\r\n  if (Array.isArray((j as any).teams)) return (j as any).teams;\r\n  return [];\r\n}\r\n\r\n/* ---------- Component ---------- */\r\nexport default function CreateTeamForm({\r\n  managers: managersProp,\r\n  employees: employeesProp,\r\n  loadingUsers: loadingUsersProp = false,\r\n  initialTeam = null,\r\n  onCreate,\r\n  onUpdate,\r\n  onDelete,\r\n  onClose,\r\n}: Props) {\r\n  const isEdit = Boolean(initialTeam?.id);\r\n\r\n  // Controlled form state (initialize from initialTeam if present)\r\n  const [name, setName] = useState(initialTeam?.name ?? \"\");\r\n  const [description, setDescription] = useState(initialTeam?.description ?? \"\");\r\n  const [managerId, setManagerId] = useState<string | \"\">(initialTeam?.manager?.id ?? initialTeam?.managerId ?? \"\");\r\n  const [featured, setFeatured] = useState<boolean>(initialTeam?.featured ?? false);\r\n  const [gradient, setGradient] = useState<string>(initialTeam?.gradient ?? \"from-blue-500 to-cyan-500\");\r\n  // Use number | \"\" pattern so empty field stays empty\r\n  const [projects, setProjects] = useState<number | \"\">(initialTeam?.projects ?? \"\");\r\n  const [completion, setCompletion] = useState<number | \"\">(initialTeam?.completion ?? \"\");\r\n  const [memberIds, setMemberIds] = useState<string[]>(\r\n    () =>\r\n      (initialTeam?.members ?? []).map((m: any) => String(m?.user?.id ?? m?.userId ?? m?.id ?? m)) ?? []\r\n  );\r\n\r\n  // Directory users (fetched or from props)\r\n  const [employees, setEmployees] = useState<User[]>(employeesProp ?? []);\r\n  const [managers, setManagers] = useState<User[]>(managersProp ?? []);\r\n  const [loadingManagers, setLoadingManagers] = useState<boolean>(!!loadingUsersProp);\r\n  const [loadingEmployees, setLoadingEmployees] = useState<boolean>(!!loadingUsersProp);\r\n\r\n  // UI\r\n  const [membersInput, setMembersInput] = useState(\"\");\r\n  const [submitting, setSubmitting] = useState(false);\r\n  const [deleting, setDeleting] = useState(false);\r\n  const [errorMsg, setErrorMsg] = useState<string | null>(null);\r\n\r\n  // Gradient choices\r\n  const gradientOptions = [\r\n    { id: \"blue\", label: \"Blue / Cyan\", value: \"from-blue-500 to-cyan-500\" },\r\n    { id: \"violet\", label: \"Violet / Purple\", value: \"from-violet-500 to-purple-500\" },\r\n    { id: \"orange\", label: \"Orange / Rose\", value: \"from-orange-500 to-rose-500\" },\r\n    { id: \"emerald\", label: \"Emerald / Teal\", value: \"from-emerald-500 to-teal-500\" },\r\n    { id: \"cyan\", label: \"Cyan / Blue\", value: \"from-cyan-500 to-blue-500\" },\r\n    { id: \"pink\", label: \"Pink / Rose\", value: \"from-pink-500 to-rose-500\" },\r\n  ];\r\n\r\n  // Fetch lists if parent didn't provide them\r\n  useEffect(() => {\r\n    let mounted = true;\r\n\r\n    if (!managersProp) {\r\n      setLoadingManagers(true);\r\n      fetchJsonList(\"/api/users?role=MANAGER\")\r\n        .then((list) => {\r\n          if (!mounted) return;\r\n          setManagers(list.map((u: any) => ({ id: String(u.id), name: u.name ?? u.email ?? u.id, email: u.email })));\r\n        })\r\n        .catch((err) => {\r\n          console.warn(\"Could not load managers:\", err);\r\n          if (mounted) setManagers([]);\r\n        })\r\n        .finally(() => {\r\n          if (mounted) setLoadingManagers(false);\r\n        });\r\n    } else {\r\n      setManagers(managersProp);\r\n      setLoadingManagers(false);\r\n    }\r\n\r\n    if (!employeesProp) {\r\n      setLoadingEmployees(true);\r\n      fetchJsonList(\"/api/users?role=EMPLOYEE\")\r\n        .then((list) => {\r\n          if (!mounted) return;\r\n          setEmployees(list.map((u: any) => ({ id: String(u.id), name: u.name ?? u.email ?? u.id, email: u.email })));\r\n        })\r\n        .catch((err) => {\r\n          console.warn(\"Could not load employees:\", err);\r\n          if (mounted) setEmployees([]);\r\n        })\r\n        .finally(() => {\r\n          if (mounted) setLoadingEmployees(false);\r\n        });\r\n    } else {\r\n      setEmployees(employeesProp);\r\n      setLoadingEmployees(false);\r\n    }\r\n\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, [managersProp, employeesProp]);\r\n\r\n  // Keep initialTeam changes in sync\r\n  useEffect(() => {\r\n    if (!initialTeam) return;\r\n    setName(initialTeam.name ?? \"\");\r\n    setDescription(initialTeam.description ?? \"\");\r\n    setManagerId(initialTeam.manager?.id ?? initialTeam.managerId ?? \"\");\r\n    setFeatured(initialTeam.featured ?? false);\r\n    setGradient(initialTeam.gradient ?? \"from-blue-500 to-cyan-500\");\r\n    setProjects(initialTeam.projects ?? \"\");\r\n    setCompletion(initialTeam.completion ?? \"\");\r\n    setMemberIds((initialTeam.members ?? []).map((m: any) => String(m?.user?.id ?? m?.userId ?? m?.id ?? m)));\r\n  }, [initialTeam]);\r\n\r\n  // Selected member objects for chips UI\r\n  const selectedMembers = useMemo(() => {\r\n    return memberIds\r\n      .map((id) => employees.find((e) => e.id === id))\r\n      .filter(Boolean)\r\n      .map((e: any) => ({ id: e.id, name: e.name, initials: getInitialsFromName(e.name ?? \"\") }));\r\n  }, [memberIds, employees]);\r\n\r\n  function toggleMember(id: string) {\r\n    setMemberIds((prev) => (prev.includes(id) ? prev.filter((x) => x !== id) : [...prev, id]));\r\n  }\r\n\r\n  // Add ad-hoc member (not in directory): create synthetic id and include in payload as adhocMembers\r\n  function addAdhocMember(nameStr: string) {\r\n    const trimmed = (nameStr || \"\").trim();\r\n    if (!trimmed) return;\r\n    const fakeId = `adhoc-${Date.now()}-${Math.random().toString(36).slice(2, 8)}`;\r\n    setEmployees((prev) => [{ id: fakeId, name: trimmed }, ...prev]);\r\n    setMemberIds((prev) => [...prev, fakeId]);\r\n    setMembersInput(\"\");\r\n  }\r\n\r\n  function buildPayload() {\r\n    // clamp completion to 0..100\r\n    const comp = typeof completion === \"number\" ? Math.max(0, Math.min(100, completion)) : 0;\r\n    const proj = typeof projects === \"number\" ? Math.max(0, projects) : 0;\r\n\r\n    return {\r\n      name: name.trim(),\r\n      description: description?.trim() || null,\r\n      managerId: managerId || null,\r\n      featured: !!featured,\r\n      gradient,\r\n      projects: proj,\r\n      completion: comp,\r\n      memberUserIds: memberIds.filter((id) => !id.startsWith(\"adhoc-\")),\r\n      adhocMembers: memberIds\r\n        .filter((id) => id.startsWith(\"adhoc-\"))\r\n        .map((id) => {\r\n          const u = employees.find((x) => x.id === id);\r\n          return { name: u?.name ?? \"\" };\r\n        }),\r\n    };\r\n  }\r\n\r\n  async function createTeamServer(payload: any) {\r\n    const res = await fetch(\"/api/teams\", {\r\n      method: \"POST\",\r\n      credentials: \"same-origin\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(payload),\r\n    });\r\n    const j = await res.json().catch(() => ({}));\r\n    if (!res.ok) throw new Error(j?.message || `Failed to create team (${res.status})`);\r\n    return j?.team ?? j;\r\n  }\r\n\r\n  // NEW: create team chat server-side (non-blocking, safe)\r\n  async function createTeamChatServer(team: any) {\r\n    if (!team?.id) return;\r\n    try {\r\n      await fetch(\"/api/chats\", {\r\n        method: \"POST\",\r\n        credentials: \"same-origin\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({\r\n          type: \"team\",\r\n          teamId: team.id,\r\n          name: team.name ?? `Team ${team.id}`,\r\n        }),\r\n      });\r\n    } catch (err) {\r\n      // do not surface to user — server-side can create later or admin can bootstrap\r\n      console.warn(\"Failed to create team chat:\", err);\r\n    }\r\n  }\r\n\r\n  async function handleSubmit(e?: React.FormEvent) {\r\n    e?.preventDefault();\r\n    setErrorMsg(null);\r\n    if (!name.trim()) {\r\n      setErrorMsg(\"Team name is required\");\r\n      return;\r\n    }\r\n    setSubmitting(true);\r\n    const payload = buildPayload();\r\n    try {\r\n      if (isEdit && initialTeam?.id) {\r\n        // update\r\n        if (onUpdate) {\r\n          await Promise.resolve(onUpdate(initialTeam.id as string, payload));\r\n        } else {\r\n          const res = await fetch(`/api/teams/${encodeURIComponent(String(initialTeam.id))}`, {\r\n            method: \"PUT\",\r\n            credentials: \"same-origin\",\r\n            headers: { \"Content-Type\": \"application/json\" },\r\n            body: JSON.stringify(payload),\r\n          });\r\n          const j = await res.json().catch(() => ({}));\r\n          if (!res.ok) throw new Error(j?.message || `Update failed (${res.status})`);\r\n        }\r\n      } else {\r\n        // create\r\n        if (onCreate) {\r\n          // call server and pass the server response (or optimistic) to parent\r\n          try {\r\n            const created = await createTeamServer(payload);\r\n\r\n            // try to create a team chat (best-effort, non-blocking)\r\n            createTeamChatServer(created).catch(() => { /* intentionally swallow */ });\r\n\r\n            // emit socket event so connected clients can react immediately\r\n            try {\r\n              if (socketClient && typeof socketClient.emit === \"function\") {\r\n                socketClient.emit(\"team:created\", { team: created });\r\n              }\r\n            } catch (err) {\r\n              console.warn(\"Socket emit failed (team:created):\", err);\r\n            }\r\n\r\n            await Promise.resolve(onCreate(created));\r\n          } catch (err) {\r\n            // server create failed — still return optimistic object to parent so UI reflects inputs\r\n            const optimistic = {\r\n              id: `tmp-${Date.now()}`,\r\n              ...payload,\r\n              manager: managers.find((m) => m.id === payload.managerId) ?? null,\r\n              members: memberIds.map((id) => {\r\n                const u = employees.find((e) => e.id === id);\r\n                return { id, user: u ? { id: u.id, name: u.name, email: u.email } : undefined, initials: u ? getInitialsFromName(u.name ?? \"\") : undefined };\r\n              }),\r\n            };\r\n            // Attempt to create a chat for optimistic team (best-effort - it's okay if it fails)\r\n            createTeamChatServer(optimistic).catch(() => { /* ignore */ });\r\n\r\n            try {\r\n              if (socketClient && typeof socketClient.emit === \"function\") {\r\n                socketClient.emit(\"team:created\", { team: optimistic });\r\n              }\r\n            } catch (err2) {\r\n              console.warn(\"Socket emit failed for optimistic team:\", err2);\r\n            }\r\n\r\n            console.warn(\"Create failed, returning optimistic:\", err);\r\n            await Promise.resolve(onCreate(optimistic));\r\n          }\r\n        } else {\r\n          // no parent handler — attempt server create and ignore response except errors\r\n          const created = await createTeamServer(payload);\r\n          createTeamChatServer(created).catch(() => {});\r\n          try {\r\n            if (socketClient && typeof socketClient.emit === \"function\") {\r\n              socketClient.emit(\"team:created\", { team: created });\r\n            }\r\n          } catch (err) {\r\n            console.warn(\"Socket emit failed (team:created):\", err);\r\n          }\r\n        }\r\n      }\r\n\r\n      onClose();\r\n    } catch (err: any) {\r\n      console.error(\"Create/Update team error:\", err);\r\n      setErrorMsg(err?.message || \"Operation failed\");\r\n    } finally {\r\n      setSubmitting(false);\r\n    }\r\n  }\r\n\r\n  async function handleDeleteClick() {\r\n    if (!initialTeam?.id) return;\r\n    const yes = window.confirm(`Delete team \"${initialTeam.name ?? initialTeam.id}\"? This cannot be undone.`);\r\n    if (!yes) return;\r\n    setDeleting(true);\r\n    setErrorMsg(null);\r\n    try {\r\n      if (onDelete) {\r\n        await Promise.resolve(onDelete(initialTeam.id as string));\r\n      } else {\r\n        const res = await fetch(`/api/teams/${encodeURIComponent(String(initialTeam.id))}`, {\r\n          method: \"DELETE\",\r\n          credentials: \"same-origin\",\r\n        });\r\n        const j = await res.json().catch(() => ({}));\r\n        if (!res.ok) throw new Error(j?.message || `Delete failed (${res.status})`);\r\n      }\r\n\r\n      // Inform socket listeners that a team was deleted so UIs can update (best-effort)\r\n      try {\r\n        if (socketClient && typeof socketClient.emit === \"function\") {\r\n          socketClient.emit(\"team:deleted\", { teamId: initialTeam.id });\r\n        }\r\n      } catch (err) {\r\n        console.warn(\"Socket emit failed (team:deleted):\", err);\r\n      }\r\n\r\n      onClose();\r\n    } catch (err: any) {\r\n      console.error(\"Delete team failed:\", err);\r\n      setErrorMsg(err?.message || \"Failed to delete team\");\r\n    } finally {\r\n      setDeleting(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0, scale: 0.98, y: 10 }}\r\n      animate={{ opacity: 1, scale: 1, y: 0 }}\r\n      exit={{ opacity: 0, scale: 0.98 }}\r\n      transition={{ duration: 0.18 }}\r\n      className=\"w-full max-w-2xl mx-4 bg-white rounded-2xl border border-slate-200 shadow-2xl p-6\"\r\n      role=\"dialog\"\r\n      aria-modal=\"true\"\r\n    >\r\n      <div className=\"flex items-start justify-between mb-4\">\r\n        <div>\r\n          <h3 className=\"text-xl font-bold text-slate-800 flex items-center gap-2\">\r\n            <UserPlus className=\"w-5 h-5\" />\r\n            {isEdit ? \"Edit Team\" : \"Create Team\"}\r\n          </h3>\r\n          <p className=\"text-sm text-slate-500\">{isEdit ? \"Update team details\" : \"Add a new team to your workspace\"}</p>\r\n        </div>\r\n\r\n        <div className=\"flex items-center gap-2\">\r\n          {isEdit && (\r\n            <button\r\n              onClick={handleDeleteClick}\r\n              disabled={deleting}\r\n              className=\"px-3 py-2 rounded-md hover:bg-red-50 text-rose-600 flex items-center gap-2\"\r\n              title=\"Delete team\"\r\n            >\r\n              <Trash2 className=\"w-4 h-4\" />\r\n              {deleting ? \"Deleting…\" : \"Delete\"}\r\n            </button>\r\n          )}\r\n\r\n          <button onClick={onClose} className=\"p-2 rounded-lg hover:bg-slate-100 transition-colors\" aria-label=\"Close\">\r\n            <X className=\"w-5 h-5 text-slate-600\" />\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n        {/* Name + Manager */}\r\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3\">\r\n          <label className=\"flex flex-col\">\r\n            <span className=\"text-xs font-medium text-slate-600 mb-1\">Team name</span>\r\n            <input\r\n              required\r\n              value={name}\r\n              onChange={(e) => setName(e.target.value)}\r\n              className=\"px-3 py-3 rounded-xl border border-slate-200 focus:outline-none\"\r\n              placeholder=\"Product Development\"\r\n              aria-label=\"Team name\"\r\n            />\r\n          </label>\r\n\r\n          <label className=\"flex flex-col\">\r\n            <span className=\"text-xs font-medium text-slate-600 mb-1\">Team lead (manager)</span>\r\n            {loadingManagers ? (\r\n              <div className=\"px-3 py-3 rounded-xl border border-slate-200 text-sm text-slate-500\">Loading managers…</div>\r\n            ) : managers.length === 0 ? (\r\n              <input\r\n                value={managerId}\r\n                onChange={(e) => setManagerId(e.target.value)}\r\n                placeholder=\"No managers found — type manager id\"\r\n                className=\"px-3 py-3 rounded-xl border border-slate-200\"\r\n                aria-label=\"Manager id\"\r\n              />\r\n            ) : (\r\n              <select value={managerId} onChange={(e) => setManagerId(e.target.value)} className=\"px-3 py-3 rounded-xl border border-slate-200\" aria-label=\"Manager select\">\r\n                <option value=\"\">— Select manager —</option>\r\n                {managers.map((m) => (\r\n                  <option key={m.id} value={m.id}>\r\n                    {m.name ?? m.email ?? m.id}\r\n                    {m.email ? ` — ${m.email}` : \"\"}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            )}\r\n          </label>\r\n        </div>\r\n\r\n        {/* Description */}\r\n        <label className=\"flex flex-col\">\r\n          <span className=\"text-xs font-medium text-slate-600 mb-1\">Description</span>\r\n          <textarea value={description ?? \"\"} onChange={(e) => setDescription(e.target.value)} rows={3} placeholder=\"Short description...\" className=\"px-3 py-3 rounded-xl border border-slate-200\" aria-label=\"Description\" />\r\n        </label>\r\n\r\n        {/* Projects, completion, featured */}\r\n        <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-3 items-end\">\r\n          <label className=\"flex flex-col\">\r\n            <span className=\"text-xs font-medium text-slate-600 mb-1\">Projects</span>\r\n            <input\r\n              type=\"number\"\r\n              min={0}\r\n              value={projects}\r\n              onChange={(e) => {\r\n                const v = e.target.value;\r\n                setProjects(v === \"\" ? \"\" : Math.max(0, Number(v)));\r\n              }}\r\n              className=\"px-3 py-3 rounded-xl border border-slate-200\"\r\n              placeholder=\"0\"\r\n              aria-label=\"Projects count\"\r\n            />\r\n          </label>\r\n\r\n          <label className=\"flex flex-col\">\r\n            <span className=\"text-xs font-medium text-slate-600 mb-1\">Completion (%)</span>\r\n            <input\r\n              type=\"number\"\r\n              min={0}\r\n              max={100}\r\n              value={completion}\r\n              onChange={(e) => {\r\n                const v = e.target.value;\r\n                if (v === \"\") return setCompletion(\"\");\r\n                const n = Math.max(0, Math.min(100, Number(v)));\r\n                setCompletion(Number.isNaN(n) ? 0 : n);\r\n              }}\r\n              className=\"px-3 py-3 rounded-xl border border-slate-200\"\r\n              placeholder=\"0\"\r\n              aria-label=\"Completion percent\"\r\n            />\r\n          </label>\r\n\r\n          <label className=\"flex items-center gap-3\">\r\n            <input id=\"featured\" type=\"checkbox\" checked={featured} onChange={() => setFeatured((f) => !f)} className=\"w-4 h-4 rounded\" aria-label=\"Featured\" />\r\n            <div className=\"flex flex-col\">\r\n              <span className=\"text-sm font-medium text-slate-700\">Featured</span>\r\n              <span className=\"text-xs text-slate-500 flex items-center gap-1\">\r\n                <Star className=\"w-3.5 h-3.5\" />\r\n                Highlight in the UI\r\n              </span>\r\n            </div>\r\n          </label>\r\n        </div>\r\n\r\n        {/* Gradient selector */}\r\n        <div>\r\n          <span className=\"text-xs font-medium text-slate-600 mb-2 block\">Accent gradient</span>\r\n          <div className=\"flex flex-wrap gap-2\" role=\"radiogroup\" aria-label=\"Accent gradient\">\r\n            {gradientOptions.map((g) => (\r\n              <button\r\n                key={g.id}\r\n                type=\"button\"\r\n                onClick={() => setGradient(g.value)}\r\n                className={`flex items-center gap-2 px-3 py-2 rounded-xl border ${g.value === gradient ? \"border-blue-500 ring-2 ring-blue-200\" : \"border-slate-200\"}`}\r\n                aria-pressed={g.value === gradient}\r\n              >\r\n                <div className={`w-8 h-8 rounded-lg bg-gradient-to-br ${g.value}`} />\r\n                <span className=\"text-sm text-slate-700\">{g.label}</span>\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Members selection + ad-hoc input */}\r\n        <div>\r\n          <div className=\"flex items-center justify-between mb-2\">\r\n            <div>\r\n              <span className=\"text-xs font-medium text-slate-600\">Members</span>\r\n              <p className=\"text-xs text-slate-500\">Select existing employees or add a name</p>\r\n            </div>\r\n            <div className=\"text-xs text-slate-400\">{memberIds.length} selected</div>\r\n          </div>\r\n\r\n          <div className=\"grid grid-cols-1 gap-2 max-h-40 overflow-auto p-2 border rounded-md bg-white\">\r\n            {loadingEmployees ? (\r\n              <div className=\"text-sm text-slate-500\">Loading employees…</div>\r\n            ) : employees.length === 0 ? (\r\n              <div className=\"text-sm text-slate-500\">No employees found</div>\r\n            ) : (\r\n              employees.map((u) => (\r\n                <label key={u.id} className=\"flex items-center gap-2 py-1 px-2 rounded hover:bg-slate-50\">\r\n                  <input type=\"checkbox\" checked={memberIds.includes(u.id)} onChange={() => toggleMember(u.id)} className=\"w-4 h-4\" />\r\n                  <div className=\"text-sm text-slate-700\">{u.name ?? u.email ?? u.id}{u.email ? ` — ${u.email}` : \"\"}</div>\r\n                </label>\r\n              ))\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"mt-3 flex gap-2\">\r\n            <input\r\n              value={membersInput}\r\n              onChange={(e) => setMembersInput(e.target.value)}\r\n              onKeyDown={(e) => {\r\n                if (e.key === \"Enter\") {\r\n                  e.preventDefault();\r\n                  addAdhocMember(membersInput);\r\n                }\r\n              }}\r\n              placeholder=\"Type a name and press Enter to add someone not in directory\"\r\n              className=\"flex-1 px-3 py-3 rounded-xl border border-slate-200\"\r\n              aria-label=\"Add ad-hoc member\"\r\n            />\r\n            <button type=\"button\" onClick={() => addAdhocMember(membersInput)} className=\"px-4 py-2 rounded-xl bg-slate-100 hover:bg-slate-200\" aria-label=\"Add member\">\r\n              <Plus className=\"w-4 h-4\" />\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"mt-3 flex flex-wrap gap-2\">\r\n            {selectedMembers.map((m) => (\r\n              <div key={m.id} className=\"flex items-center gap-2 bg-slate-50 border border-slate-200 px-3 py-2 rounded-xl\">\r\n                <div className=\"w-8 h-8 rounded-full bg-gradient-to-br from-slate-200 to-slate-300 flex items-center justify-center text-xs font-semibold text-slate-700\">\r\n                  {m.initials}\r\n                </div>\r\n                <div className=\"text-sm text-slate-700\">{m.name}</div>\r\n                <button type=\"button\" onClick={() => toggleMember(m.id)} className=\"ml-2 p-1 rounded-md hover:bg-slate-100\" aria-label={`Remove ${m.name}`}>\r\n                  ✕\r\n                </button>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {errorMsg && <div className=\"text-sm text-rose-600\" role=\"alert\">{errorMsg}</div>}\r\n\r\n        <div className=\"flex items-center gap-3 justify-end pt-2\">\r\n          <button type=\"button\" onClick={onClose} className=\"px-4 py-2 rounded-xl bg-slate-100 hover:bg-slate-200\">\r\n            Cancel\r\n          </button>\r\n\r\n          <motion.button\r\n            whileHover={{ scale: 1.02 }}\r\n            whileTap={{ scale: 0.98 }}\r\n            type=\"submit\"\r\n            disabled={submitting}\r\n            className=\"px-5 py-2.5 bg-gradient-to-br from-blue-500 to-cyan-500 text-white rounded-xl font-medium shadow-md disabled:opacity-60\"\r\n            aria-disabled={submitting}\r\n          >\r\n            <div className=\"flex items-center gap-2\">\r\n              <Plus className=\"w-4 h-4\" />\r\n              {submitting ? (isEdit ? \"Updating…\" : \"Creating…\") : isEdit ? \"Update Team\" : \"Create Team\"}\r\n            </div>\r\n          </motion.button>\r\n        </div>\r\n      </form>\r\n    </motion.div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1200, "column": 0}, "map": {"version":3,"sources":["file:///E:/Attack%20Capital/SignalHub/frontend/src/app/ui/forms/Schedule-meeting/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useMemo, useState } from \"react\";\r\nimport { motion } from \"framer-motion\";\r\nimport { X, Clock, Calendar, User, Bell } from \"lucide-react\";\r\n\r\n/**\r\n * ScheduleMeetingForm\r\n *\r\n * Props:\r\n * - team: the team object (contains members array)\r\n * - onClose: () => void\r\n * - onSchedule: (meeting) => void  // meeting contains organizer, meetingTime (ISO), reminderBefore (minutes), inviteTime (ISO), teamId\r\n *\r\n * Behavior:\r\n * - User selects organizer name, meeting date-time (datetime-local), reminder before (select)\r\n * - The component computes inviteTime = meetingTime - reminderBefore (minutes)\r\n * - On submit, calls onSchedule with meeting object including inviteTime\r\n *\r\n * Note: This is a client-side form. For real invites, hook onSchedule to an API that will persist & schedule notifications.\r\n */\r\n\r\ntype Member = { name: string; initials?: string };\r\n\r\nexport default function ScheduleMeetingForm({\r\n  team,\r\n  onClose,\r\n  onSchedule,\r\n}: {\r\n  team: any;\r\n  onClose: () => void;\r\n  onSchedule: (meeting: any) => void;\r\n}) {\r\n  const [organizer, setOrganizer] = useState(\"\");\r\n  const [meetingTime, setMeetingTime] = useState<string>(() => {\r\n    // default: next hour rounded to next 30 minutes in local time (helps UX)\r\n    const d = new Date();\r\n    d.setMinutes(0, 0, 0);\r\n    d.setHours(d.getHours() + 1);\r\n    // format to yyyy-MM-ddTHH:mm for input value\r\n    const pad = (n: number) => (n < 10 ? `0${n}` : `${n}`);\r\n    const yyyy = d.getFullYear();\r\n    const mm = pad(d.getMonth() + 1);\r\n    const dd = pad(d.getDate());\r\n    const hh = pad(d.getHours());\r\n    const min = pad(d.getMinutes());\r\n    return `${yyyy}-${mm}-${dd}T${hh}:${min}`;\r\n  });\r\n\r\n  const reminderOptions = [10, 20, 30, 40, 50, 60]; // minutes\r\n  const [reminderBefore, setReminderBefore] = useState<number>(20);\r\n\r\n  // compute invite time (Date object) whenever meetingTime or reminderBefore changes\r\n  const inviteTime = useMemo(() => {\r\n    if (!meetingTime) return null;\r\n    // meetingTime is local ISO without timezone (datetime-local). Construct Date using local parts.\r\n    const dt = new Date(meetingTime);\r\n    if (Number.isNaN(dt.getTime())) return null;\r\n    const invite = new Date(dt.getTime() - reminderBefore * 60 * 1000);\r\n    return invite;\r\n  }, [meetingTime, reminderBefore]);\r\n\r\n  function formatToIST(date: Date | null) {\r\n    if (!date) return \"\";\r\n    try {\r\n      // Use Asia/Kolkata as requested — browser may support timeZone in toLocaleString\r\n      return date.toLocaleString(\"en-IN\", {\r\n        timeZone: \"Asia/Kolkata\",\r\n        year: \"numeric\",\r\n        month: \"short\",\r\n        day: \"numeric\",\r\n        hour: \"numeric\",\r\n        minute: \"2-digit\",\r\n        hour12: true,\r\n      });\r\n    } catch (e) {\r\n      // fallback to simple locale representation\r\n      return date.toLocaleString();\r\n    }\r\n  }\r\n\r\n  function handleSubmit(e: React.FormEvent) {\r\n    e.preventDefault();\r\n    if (!organizer.trim()) {\r\n      alert(\"Please enter the meeting organizer's name.\");\r\n      return;\r\n    }\r\n    if (!meetingTime) {\r\n      alert(\"Please pick a meeting time.\");\r\n      return;\r\n    }\r\n    if (!inviteTime) {\r\n      alert(\"Invalid meeting time.\");\r\n      return;\r\n    }\r\n\r\n    const meeting = {\r\n      teamId: team?.id,\r\n      teamName: team?.name,\r\n      organizer: organizer.trim(),\r\n      meetingTimeISO: new Date(meetingTime).toISOString(),\r\n      reminderBeforeMinutes: reminderBefore,\r\n      inviteTimeISO: inviteTime.toISOString(),\r\n      // include list of invitees (team members)\r\n      invitees: (team?.members || []).map((m: Member) => ({ name: m.name, initials: m.initials })),\r\n    };\r\n\r\n    // callback to parent\r\n    onSchedule(meeting);\r\n    // no local persistence here; parent should handle persisting/scheduling\r\n  }\r\n\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0, scale: 0.98, y: 8 }}\r\n      animate={{ opacity: 1, scale: 1, y: 0 }}\r\n      exit={{ opacity: 0, scale: 0.98 }}\r\n      transition={{ duration: 0.16 }}\r\n      className=\"w-full max-w-2xl mx-4 bg-white rounded-2xl border border-slate-200 shadow-2xl p-6\"\r\n      role=\"dialog\"\r\n      aria-modal=\"true\"\r\n    >\r\n      <div className=\"flex items-start justify-between mb-4\">\r\n        <div>\r\n          <h3 className=\"text-xl font-bold text-slate-800 flex items-center gap-2\">\r\n            <Calendar className=\"w-5 h-5\" />\r\n            Schedule Meeting\r\n          </h3>\r\n          <p className=\"text-sm text-slate-500\">\r\n            Invite all members of <span className=\"font-medium text-slate-700\">{team?.name}</span>\r\n          </p>\r\n        </div>\r\n\r\n        <button\r\n          onClick={onClose}\r\n          className=\"p-2 rounded-lg hover:bg-slate-100 transition-colors\"\r\n          aria-label=\"Close schedule meeting\"\r\n        >\r\n          <X className=\"w-5 h-5 text-slate-600\" />\r\n        </button>\r\n      </div>\r\n\r\n      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n        {/* Organizer */}\r\n        <label className=\"flex flex-col\">\r\n          <span className=\"text-xs font-medium text-slate-600 mb-1\">Meeting Organizer</span>\r\n          <div className=\"flex items-center gap-2\">\r\n            <User className=\"w-4 h-4 text-slate-400\" />\r\n            <input\r\n              value={organizer}\r\n              onChange={(e) => setOrganizer(e.target.value)}\r\n              placeholder=\"Organizer name (e.g., Sarah Chen)\"\r\n              className=\"flex-1 px-3 py-3 rounded-xl border border-slate-200 focus:outline-none focus:ring-2 focus:ring-emerald-500/20\"\r\n            />\r\n          </div>\r\n        </label>\r\n\r\n        {/* Meeting time */}\r\n        <label className=\"flex flex-col\">\r\n          <span className=\"text-xs font-medium text-slate-600 mb-1\">Meeting time</span>\r\n          <div className=\"flex items-center gap-2\">\r\n            <Clock className=\"w-4 h-4 text-slate-400\" />\r\n            <input\r\n              type=\"datetime-local\"\r\n              value={meetingTime}\r\n              onChange={(e) => setMeetingTime(e.target.value)}\r\n              className=\"flex-1 px-3 py-3 rounded-xl border border-slate-200 focus:outline-none\"\r\n            />\r\n          </div>\r\n          <p className=\"text-xs text-slate-500 mt-1\">\r\n            Time shown & calculated in your browser's local timezone. Invite times are displayed in IST below.\r\n          </p>\r\n        </label>\r\n\r\n        {/* Reminder before */}\r\n        <div>\r\n          <span className=\"text-xs font-medium text-slate-600 mb-2 block\">Reminder before</span>\r\n          <div className=\"flex flex-wrap gap-2\">\r\n            {reminderOptions.map((mins) => (\r\n              <button\r\n                key={mins}\r\n                type=\"button\"\r\n                onClick={() => setReminderBefore(mins)}\r\n                className={`px-3 py-2 rounded-xl border ${\r\n                  mins === reminderBefore ? \"border-emerald-500 ring-2 ring-emerald-200\" : \"border-slate-200\"\r\n                }`}\r\n              >\r\n                {mins} mins\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Computed invite time preview */}\r\n        <div className=\"p-3 rounded-lg bg-slate-50 border border-slate-100\">\r\n          <p className=\"text-sm text-slate-600\">\r\n            <span className=\"font-medium text-slate-800\">Invite time:</span>{\" \"}\r\n            {inviteTime ? (\r\n              <>\r\n                {formatToIST(inviteTime)}{\" \"}\r\n                <span className=\"text-xs text-slate-400\">({reminderBefore} min before meeting)</span>\r\n              </>\r\n            ) : (\r\n              <span className=\"text-slate-400\">Pick a meeting time</span>\r\n            )}\r\n          </p>\r\n          <p className=\"text-xs text-slate-500 mt-1\">\r\n            Invitations will be sent to the team's members at this time (local IST shown).\r\n          </p>\r\n        </div>\r\n\r\n        {/* Invitees preview */}\r\n        <div>\r\n          <div className=\"flex items-center justify-between mb-2\">\r\n            <div>\r\n              <span className=\"text-xs font-medium text-slate-600\">Invitees</span>\r\n              <p className=\"text-xs text-slate-500\">Team members who will receive the invite</p>\r\n            </div>\r\n            <div className=\"text-xs text-slate-400\">{(team?.members || []).length} members</div>\r\n          </div>\r\n\r\n          <div className=\"flex flex-wrap gap-2\">\r\n            {(team?.members || []).map((m: Member, i: number) => (\r\n              <div\r\n                key={`${m.name}-${i}`}\r\n                className=\"flex items-center gap-2 bg-white border border-slate-100 px-3 py-2 rounded-xl shadow-sm\"\r\n              >\r\n                <div className=\"w-8 h-8 rounded-full bg-gradient-to-br from-slate-200 to-slate-300 flex items-center justify-center text-xs font-semibold text-slate-700\">\r\n                  {m.initials ?? (m.name ? m.name.split(\" \").map((p) => p[0]).join(\"\").slice(0, 2).toUpperCase() : \"\")}\r\n                </div>\r\n                <div className=\"text-sm text-slate-700\">{m.name}</div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Actions */}\r\n        <div className=\"flex items-center gap-3 justify-end pt-2\">\r\n          <button\r\n            type=\"button\"\r\n            onClick={onClose}\r\n            className=\"px-4 py-2 rounded-xl bg-slate-100 hover:bg-slate-200 text-slate-700\"\r\n          >\r\n            Cancel\r\n          </button>\r\n\r\n          <motion.button\r\n            whileHover={{ scale: 1.02 }}\r\n            whileTap={{ scale: 0.98 }}\r\n            type=\"submit\"\r\n            className=\"px-5 py-2.5 bg-gradient-to-br from-blue-500 to-cyan-500 text-white rounded-xl font-medium shadow-md flex items-center gap-2\"\r\n          >\r\n            <Bell className=\"w-4 h-4\" />\r\n            Schedule & Invite\r\n          </motion.button>\r\n        </div>\r\n      </form>\r\n    </motion.div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1731, "column": 0}, "map": {"version":3,"sources":["file:///E:/Attack%20Capital/SignalHub/frontend/src/components/ui/modal.tsx"],"sourcesContent":["// components/ui/modal.tsx\r\n\"use client\";\r\n\r\nimport React, { useEffect, useRef } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport clsx from \"clsx\";\r\nimport { X } from \"lucide-react\";\r\n\r\n/**\r\n * Improved Modal primitive\r\n *\r\n * Props:\r\n *  - children: content inside modal (panel)\r\n *  - onClose: called when modal requests close (ESC, backdrop click, close button)\r\n *  - ariaLabel: string for aria-label on the dialog (default: \"Dialog\")\r\n *  - className: optional className to apply to panel (merged with defaults)\r\n *\r\n * Behavior:\r\n *  - renders into document.body using a portal\r\n *  - traps focus (Tab / Shift+Tab)\r\n *  - ESC closes modal\r\n *  - click on backdrop closes modal\r\n *  - locks body scroll while open\r\n *  - provides built-in animated close button and subtle entrance/exit animations\r\n */\r\n\r\ntype ModalProps = {\r\n  children: React.ReactNode;\r\n  onClose: () => void;\r\n  ariaLabel?: string;\r\n  className?: string;\r\n};\r\n\r\nconst FOCUSABLE_SELECTOR =\r\n  'a[href], area[href], input:not([disabled]):not([type=\"hidden\"]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex]:not([tabindex=\"-1\"]), [contenteditable]';\r\n\r\nconst getFocusableElements = (container: HTMLElement | null) => {\r\n  if (!container) return [];\r\n  try {\r\n    return Array.from(container.querySelectorAll<HTMLElement>(FOCUSABLE_SELECTOR)).filter(\r\n      (el) => !!(el.offsetWidth || el.offsetHeight || el.getClientRects().length)\r\n    );\r\n  } catch {\r\n    return [];\r\n  }\r\n};\r\n\r\nexport const Modal: React.FC<ModalProps> = ({ children, onClose, ariaLabel = \"Dialog\", className }) => {\r\n  const overlayRef = useRef<HTMLDivElement | null>(null);\r\n  const panelRef = useRef<HTMLDivElement | null>(null);\r\n  const lastFocused = useRef<HTMLElement | null>(null);\r\n\r\n  // ensure portal root exists\r\n  useEffect(() => {\r\n    let root = document.getElementById(\"modal-root\");\r\n    if (!root) {\r\n      root = document.createElement(\"div\");\r\n      root.id = \"modal-root\";\r\n      document.body.appendChild(root);\r\n    }\r\n  }, []);\r\n\r\n  // lock scroll + preserve/restore focus\r\n  useEffect(() => {\r\n    lastFocused.current = document.activeElement as HTMLElement | null;\r\n    const originalOverflow = document.body.style.overflow;\r\n    document.body.style.overflow = \"hidden\";\r\n\r\n    // focus the panel (or first focusable element) shortly after mount\r\n    const t = setTimeout(() => {\r\n      const focusable = getFocusableElements(panelRef.current);\r\n      if (focusable.length) focusable[0].focus();\r\n      else panelRef.current?.focus();\r\n    }, 30);\r\n\r\n    return () => {\r\n      clearTimeout(t);\r\n      document.body.style.overflow = originalOverflow;\r\n      try {\r\n        lastFocused.current?.focus();\r\n      } catch {\r\n        // ignore\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  // key handlers: ESC + focus trap (Tab / Shift+Tab)\r\n  useEffect(() => {\r\n    const onKey = (e: KeyboardEvent) => {\r\n      if (e.key === \"Escape\") {\r\n        e.preventDefault();\r\n        onClose();\r\n        return;\r\n      }\r\n      if (e.key === \"Tab\") {\r\n        const focusable = getFocusableElements(panelRef.current);\r\n        if (focusable.length === 0) {\r\n          e.preventDefault();\r\n          return;\r\n        }\r\n        const idx = focusable.indexOf(document.activeElement as HTMLElement);\r\n        if (e.shiftKey) {\r\n          if (idx === 0 || document.activeElement === panelRef.current) {\r\n            e.preventDefault();\r\n            focusable[focusable.length - 1].focus();\r\n          }\r\n        } else {\r\n          if (idx === focusable.length - 1) {\r\n            e.preventDefault();\r\n            focusable[0].focus();\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"keydown\", onKey);\r\n    return () => document.removeEventListener(\"keydown\", onKey);\r\n  }, [onClose]);\r\n\r\n  // backdrop click to close\r\n  const onBackdropMouseDown = (e: React.MouseEvent) => {\r\n    if (e.target === overlayRef.current) onClose();\r\n  };\r\n\r\n  // Motion variants for panel and backdrop\r\n  const backdropVariants = {\r\n    hidden: { opacity: 0 },\r\n    visible: { opacity: 0.5 },\r\n    exit: { opacity: 0 },\r\n  };\r\n\r\n  const panelVariants = {\r\n    hidden: { opacity: 0, y: 8, scale: 0.995 },\r\n    visible: { opacity: 1, y: 0, scale: 1 },\r\n    exit: { opacity: 0, y: 8, scale: 0.995 },\r\n  };\r\n\r\n  const modal = (\r\n    <AnimatePresence>\r\n      <div\r\n        ref={overlayRef}\r\n        onMouseDown={onBackdropMouseDown}\r\n        className=\"fixed inset-0 z-50 flex items-center justify-center p-4 sm:p-6\"\r\n        aria-hidden={false}\r\n      >\r\n        {/* Backdrop */}\r\n        <motion.div\r\n          key=\"backdrop\"\r\n          initial=\"hidden\"\r\n          animate=\"visible\"\r\n          exit=\"exit\"\r\n          variants={backdropVariants}\r\n          transition={{ duration: 0.18 }}\r\n          className=\"absolute inset-0 bg-black/60 backdrop-blur-sm\"\r\n        />\r\n\r\n        {/* Panel */}\r\n        <motion.div\r\n          key=\"panel\"\r\n          ref={panelRef}\r\n          role=\"dialog\"\r\n          aria-modal=\"true\"\r\n          aria-label={ariaLabel}\r\n          tabIndex={-1}\r\n          initial=\"hidden\"\r\n          animate=\"visible\"\r\n          exit=\"exit\"\r\n          variants={panelVariants}\r\n          transition={{ duration: 0.22, ease: \"easeOut\" }}\r\n          className={clsx(\r\n            // defaults: professional panel that matches team page design\r\n            \"relative z-10 w-full max-w-2xl rounded-2xl bg-white border border-slate-100 shadow-lg overflow-hidden outline-none\",\r\n            // safe max-height and internal scroll when needed\r\n            \"max-h-[90vh] overflow-auto\",\r\n            // allow consumer to pass additional width/padding overrides\r\n            className\r\n          )}\r\n          style={{ WebkitTapHighlightColor: \"transparent\" }}\r\n        >\r\n          {/* Panel inner: we provide a consistent padding layout for header/body/footer */}\r\n          <div className=\"relative\">\r\n            {/* Close button (top-right) */}\r\n            <button\r\n              aria-label=\"Close dialog\"\r\n              onClick={onClose}\r\n              className=\"absolute right-3 top-3 z-20 inline-flex items-center justify-center rounded-md p-1.5 text-slate-600 hover:bg-slate-100 hover:text-slate-800 transition\"\r\n              type=\"button\"\r\n            >\r\n              <X className=\"w-4 h-4\" />\r\n            </button>\r\n\r\n            {/* Content wrapper */}\r\n            <div className=\"p-4 sm:p-6\">\r\n              {/*\r\n                Children controls layout.\r\n                Consumers (e.g., Teams page) typically render their own header/body inside.\r\n                We provide consistent background and padding so the child's header fits perfectly.\r\n              */}\r\n              {children}\r\n            </div>\r\n          </div>\r\n        </motion.div>\r\n      </div>\r\n    </AnimatePresence>\r\n  );\r\n\r\n  const root = typeof window !== \"undefined\" ? document.getElementById(\"modal-root\") : null;\r\n  if (root) return createPortal(modal, root);\r\n\r\n  // Fallback inline render (shouldn't happen in client)\r\n  return modal as any;\r\n};\r\n\r\nexport default Modal;\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1964, "column": 0}, "map": {"version":3,"sources":["file:///E:/Attack%20Capital/SignalHub/frontend/src/app/dashboard/admin/teams/page.tsx"],"sourcesContent":["// src/app/dashboard/admin/teams/page.tsx\r\n\"use client\";\r\n\r\nimport React, { useEffect, useMemo, useState } from \"react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport {\r\n  Search,\r\n  Users,\r\n  Plus,\r\n  MoreVertical,\r\n  Mail,\r\n  Crown,\r\n  Star,\r\n  Settings,\r\n  TrendingUp,\r\n  Activity,\r\n  Award,\r\n  Target,\r\n  Edit,\r\n  Trash2,\r\n} from \"lucide-react\";\r\nimport CreateTeamForm from \"@/app/ui/forms/create-team/page\";\r\nimport ScheduleMeetingForm from \"@/app/ui/forms/Schedule-meeting/page\";\r\nimport Modal from \"@/components/ui/modal\"; // shared Modal (backdrop + panel)\r\n\r\n/* ----------------- Helpers ----------------- */\r\nfunction safeParseListResponse(j: any) {\r\n  if (!j) return [];\r\n  if (Array.isArray(j)) return j;\r\n  if (Array.isArray(j.teams)) return j.teams;\r\n  if (Array.isArray(j.users)) return j.users;\r\n  if (Array.isArray(j.data)) return j.data;\r\n  return [];\r\n}\r\nfunction uidFromTeam(team: any, idx: number) {\r\n  return team?.id ?? `team_tmp_${idx}_${(team?.name ?? \"unknown\").slice(0, 6)}`;\r\n}\r\n\r\n/* ----------------- TeamCard ----------------- */\r\n/* ----------------- TeamCard (fixed layout) ----------------- */\r\n/* ----------------- TeamCard (ensure action buttons are fully visible) ----------------- */\r\nconst TeamCard = ({ team, delay, onOpenSchedule, onEdit, onDelete, onViewMembers }: any) => {\r\n  const [isHovered, setIsHovered] = useState(false);\r\n  const [menuOpen, setMenuOpen] = useState(false);\r\n\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0, y: 20 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      transition={{ duration: 0.36, delay }}\r\n      onMouseEnter={() => setIsHovered(true)}\r\n      onMouseLeave={() => {\r\n        setIsHovered(false);\r\n        setMenuOpen(false);\r\n      }}\r\n    className=\"relative p-6 pb-8 bg-white rounded-2xl border-none flex flex-col justify-between shadow-md\"\r\n>\r\n      {/* actions menu (absolute, above content) */}\r\n      <div className=\"absolute right-3 top-3 z-40\">\r\n        <div className=\"relative\">\r\n          <button\r\n            onClick={(e) => {\r\n              e.stopPropagation();\r\n              setMenuOpen((s) => !s);\r\n            }}\r\n            className=\"p-2 rounded-md hover:bg-slate-100\"\r\n            aria-label=\"Open team actions\"\r\n            type=\"button\"\r\n          >\r\n            <MoreVertical className=\"w-5 h-5 text-slate-600\" />\r\n          </button>\r\n\r\n          {menuOpen && (\r\n            <motion.div\r\n              initial={{ opacity: 0, scale: 0.98 }}\r\n              animate={{ opacity: 1, scale: 1 }}\r\n              exit={{ opacity: 0, scale: 0.98 }}\r\n              transition={{ duration: 0.12 }}\r\n              className=\"absolute right-0 mt-2 w-44 bg-white border-none rounded-lg shadow-lg z-50\"\r\n            >\r\n              <button\r\n                onClick={(e) => {\r\n                  e.stopPropagation();\r\n                  setMenuOpen(false);\r\n                  onEdit(team);\r\n                }}\r\n                className=\"w-full text-left px-3 py-2 hover:bg-slate-50 flex items-center gap-2\"\r\n                type=\"button\"\r\n              >\r\n                <Edit className=\"w-4 h-4\" /> Edit\r\n              </button>\r\n              <button\r\n                onClick={(e) => {\r\n                  e.stopPropagation();\r\n                  setMenuOpen(false);\r\n                  onDelete(team);\r\n                }}\r\n                className=\"w-full text-left px-3 py-2 hover:bg-slate-50 flex items-center gap-2 text-rose-600\"\r\n                type=\"button\"\r\n              >\r\n                <Trash2 className=\"w-4 h-4\" /> Delete\r\n              </button>\r\n            </motion.div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"relative\">\r\n        {/* header */}\r\n        <div className=\"flex items-start justify-between gap-4 mb-4\">\r\n          <div className=\"flex items-center gap-4 w-full\">\r\n            <motion.div\r\n              className={`w-14 h-14 rounded-xl bg-gradient-to-br ${team.gradient ?? \"from-blue-500 to-cyan-500\"} flex items-center justify-center shadow-md flex-shrink-0`}\r\n              animate={isHovered ? { scale: 1.03, rotate: 4 } : { scale: 1, rotate: 0 }}\r\n              transition={{ duration: 0.25 }}\r\n            >\r\n              <Users className=\"w-7 h-7 text-white\" />\r\n            </motion.div>\r\n\r\n            <div className=\"min-w-0 flex-1 pr-12\">\r\n              <h3 className=\"text-lg font-semibold text-slate-800 leading-tight break-words\">{team.name}</h3>\r\n              <p className=\"text-sm text-slate-500 mt-1 break-words\">{team.description ?? \"\"}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* lead & featured */}\r\n        <div className=\"flex flex-wrap items-center gap-2 mb-4\">\r\n          {team.manager?.name && (\r\n            <div className=\"flex items-center gap-1.5 px-3 py-1.5 bg-amber-50 text-amber-700 rounded-lg text-xs font-medium\">\r\n              <Crown className=\"w-3.5 h-3.5\" />\r\n              {team.manager.name}\r\n            </div>\r\n          )}\r\n          {team.featured && (\r\n            <div className=\"flex items-center gap-1.5 px-3 py-1.5 bg-blue-50 text-blue-700 rounded-lg text-xs font-medium\">\r\n              <Star className=\"w-3.5 h-3.5\" />\r\n              Featured\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* members avatars */}\r\n        <div className=\"flex -space-x-2 mb-4 flex-wrap\">\r\n          {(team.members ?? []).slice(0, 5).map((member: any, idx: number) => {\r\n            const key = member?.user?.id ?? member?.id ?? `m_${idx}`;\r\n            const title = member?.user?.name ?? member?.name ?? \"\";\r\n            const initials =\r\n              member?.user?.name\r\n                ? member.user.name.split(\" \").map((p: string) => p[0]).slice(0, 2).join(\"\")\r\n                : member.initials ?? (title ? title.slice(0, 2).toUpperCase() : \"U\");\r\n            return (\r\n              <div\r\n                key={key}\r\n                className=\"w-10 h-10 rounded-full bg-gradient-to-br from-slate-200 to-slate-300 border-2 border-white flex items-center justify-center text-xs font-semibold text-slate-700 shadow-sm\"\r\n                title={title}\r\n              >\r\n                {initials}\r\n              </div>\r\n            );\r\n          })}\r\n          {(team.members ?? []).length > 5 && (\r\n            <div className=\"w-10 h-10 rounded-full bg-slate-100 border-2 border-white flex items-center justify-center text-xs font-semibold text-slate-600\">\r\n              +{team.members.length - 5}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* stats */}\r\n        <div className=\"grid grid-cols-3 gap-4 mb-4 text-center\">\r\n          <div>\r\n            <p className=\"text-2xl font-bold text-slate-800\">{team.members?.length ?? 0}</p>\r\n            <p className=\"text-xs text-slate-500\">Members</p>\r\n          </div>\r\n          <div>\r\n            <p className=\"text-2xl font-bold text-slate-800\">{team.projects ?? 0}</p>\r\n            <p className=\"text-xs text-slate-500\">Projects</p>\r\n          </div>\r\n          <div>\r\n            <p className=\"text-2xl font-bold text-emerald-600\">{team.completion ?? 0}%</p>\r\n            <p className=\"text-xs text-slate-500\">Complete</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* actions — ensure visible and not clipped */}\r\n      <div className=\"mt-2 pt-2\">\r\n        <div className=\"flex flex-col sm:flex-row gap-2\">\r\n          <motion.button\r\n            onClick={() => onOpenSchedule(team)}\r\n            whileHover={{ scale: 1.02 }}\r\n            whileTap={{ scale: 0.98 }}\r\n            className=\"flex-1 px-4 py-2.5 bg-gradient-to-br from-blue-500 to-cyan-500 text-white rounded-xl text-sm font-medium shadow-md hover:shadow-lg transition flex items-center justify-center gap-2 whitespace-nowrap\"\r\n            type=\"button\"\r\n          >\r\n            <Mail className=\"w-4 h-4\" /> Schedule Meeting\r\n          </motion.button>\r\n\r\n          <motion.button\r\n            whileHover={{ scale: 1.05 }}\r\n            whileTap={{ scale: 0.95 }}\r\n            className=\"px-4 py-2.5 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-xl transition flex items-center justify-center gap-2 whitespace-nowrap\"\r\n            onClick={() => {\r\n              onViewMembers(team);\r\n            }}\r\n            type=\"button\"\r\n          >\r\n            <Settings className=\"w-4 h-4\" /> View Members\r\n          </motion.button>\r\n        </div>\r\n      </div>\r\n    </motion.div>\r\n  );\r\n};\r\n\r\n\r\n\r\n/* ----------------- StatCard ----------------- */\r\nconst StatCard = ({ icon: Icon, label, value, subtitle, gradient, delay }: any) => (\r\n  <motion.div\r\n    initial={{ opacity: 0, scale: 0.98 }}\r\n    animate={{ opacity: 1, scale: 1 }}\r\n    transition={{ duration: 0.3, delay }}\r\n    className=\"p-6 bg-white rounded-2xl border border-slate-200 hover:shadow-lg transition\"\r\n  >\r\n    <div className=\"flex items-start justify-between mb-4\">\r\n      <div className={`w-12 h-12 rounded-xl bg-gradient-to-br ${gradient} flex items-center justify-center shadow-md`}>\r\n        <Icon className=\"w-6 h-6 text-white\" />\r\n      </div>\r\n      <TrendingUp className=\"w-5 h-5 text-emerald-500\" />\r\n    </div>\r\n    <h3 className=\"text-3xl font-bold text-slate-800 mb-1\">{value}</h3>\r\n    <p className=\"text-sm font-medium text-slate-600 mb-1\">{label}</p>\r\n    <p className=\"text-xs text-slate-500\">{subtitle}</p>\r\n  </motion.div>\r\n);\r\n\r\n/* ----------------- Members Modal ----------------- */\r\nfunction MembersModal({\r\n  open,\r\n  onClose,\r\n  team,\r\n  onRemove,\r\n}: {\r\n  open: boolean;\r\n  onClose: () => void;\r\n  team: any | null;\r\n  onRemove: (memberId: string, isManager?: boolean) => Promise<void>;\r\n}) {\r\n  if (!team) return null;\r\n\r\n  const members = team.members ?? [];\r\n  const manager = team.manager ?? null;\r\n  const total = (members?.length ?? 0) + (manager ? 1 : 0);\r\n\r\n  return (\r\n    <Modal open={open} onClose={onClose} ariaLabel={`Members of ${team.name}`} className=\"max-w-2xl\">\r\n      <div className=\"w-full bg-transparent\">\r\n        {/* Single unified panel — header + content */}\r\n        <div className=\"bg-white rounded-2xl shadow-sm overflow-hidden\">\r\n          <div className=\"px-6 py-4 border-none\">\r\n            <div className=\"flex items-start justify-between gap-4\">\r\n              <div>\r\n                <h2 className=\"text-lg font-semibold text-slate-900\">{team.name ?? \"Team members\"}</h2>\r\n                <p className=\"text-sm text-slate-500 mt-1\">{total} member{total !== 1 ? \"s\" : \"\"}</p>\r\n              </div>\r\n              \r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"p-4 space-y-3 max-h-[60vh] overflow-auto\">\r\n            {/* Manager (if any) */}\r\n            {manager && (\r\n              <div className=\"flex items-center justify-between gap-4 bg-white rounded-lg p-3 border-none shadow-md\">\r\n                <div className=\"flex items-center gap-3 min-w-0\">\r\n                  <div className=\"w-10 h-10 rounded-full bg-gradient-to-br from-slate-200 to-slate-300 border-2 border-white flex items-center justify-center text-xs font-semibold text-slate-700\">\r\n                    {String((manager.name || \"\").split(\" \").map((p: string) => p[0]).slice(0, 2).join(\"\")).toUpperCase() || \"M\"}\r\n                  </div>\r\n                  <div className=\"min-w-0\">\r\n                    <div className=\"text-sm font-medium text-slate-800 truncate\">{manager.name ?? \"Manager\"}</div>\r\n                    {manager.email && <div className=\"text-xs text-slate-500 truncate\">{manager.email}</div>}\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"flex items-center gap-2\">\r\n                  <div className=\"text-xs font-medium px-2 py-1 rounded-full bg-amber-50 text-amber-700\">MANAGER</div>\r\n                  <button\r\n                    onClick={() => {\r\n                      if (!confirm(`Remove ${manager.name ?? \"this manager\"} from team \"${team.name}\"?`)) return;\r\n                      onRemove(manager.id ?? manager.user?.id ?? manager.userId, true);\r\n                    }}\r\n                    type=\"button\"\r\n                    className=\"px-3 py-1 rounded-md bg-rose-600 text-white hover:bg-rose-700 flex items-center gap-2\"\r\n                  >\r\n                    <Trash2 className=\"w-4 h-4\" /> Remove\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Member list */}\r\n            {members.length === 0 ? (\r\n              <div className=\"p-4 bg-slate-50 rounded-lg text-sm text-slate-600\">No members assigned to this team.</div>\r\n            ) : (\r\n              <ul className=\"space-y-3\">\r\n                {members.map((m: any, idx: number) => {\r\n                  const user = m?.user ?? {};\r\n                  const name = user?.name ?? m?.name ?? `Member ${idx + 1}`;\r\n                  const email = user?.email ?? m?.email ?? \"\";\r\n                  const role = m?.role ?? m?.assignedRole ?? \"Member\";\r\n                  const memberId = m?.id ?? user?.id ?? m?.userId ?? String(idx);\r\n                  return (\r\n                    <li key={memberId} className=\"flex items-center justify-between gap-4 bg-white rounded-lg p-3 border-none shadow-md\">\r\n                      <div className=\"flex items-center gap-3 min-w-0\">\r\n                        <div className=\"w-10 h-10 rounded-full bg-gradient-to-br from-slate-200 to-slate-300 border-2 border-white flex items-center justify-center text-xs font-semibold text-slate-700 \">\r\n                          {String(name.split(\" \").map((p: string) => p[0]).slice(0, 2).join(\"\")).toUpperCase()}\r\n                        </div>\r\n                        <div className=\"min-w-0\">\r\n                          <div className=\"text-sm font-medium text-slate-800 truncate\">{name}</div>\r\n                          {email && <div className=\"text-xs text-slate-500 truncate\">{email}</div>}\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"flex items-center gap-3\">\r\n                        <div className=\"text-sm text-slate-600 px-3 py-1 rounded-md bg-slate-50\">{role}</div>\r\n                        <button\r\n                          onClick={() => {\r\n                            if (!confirm(`Remove ${name} from team \"${team.name}\"?`)) return;\r\n                            onRemove(memberId);\r\n                          }}\r\n                          type=\"button\"\r\n                          className=\"px-3 py-1 rounded-md bg-rose-600 text-white hover:bg-rose-700 flex items-center gap-2\"\r\n                        >\r\n                          <Trash2 className=\"w-4 h-4\" /> Remove\r\n                        </button>\r\n                      </div>\r\n                    </li>\r\n                  );\r\n                })}\r\n              </ul>\r\n            )}\r\n          </div>\r\n\r\n          \r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\n/* ----------------- Main Page ----------------- */\r\nexport default function TeamsPage() {\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [showCreate, setShowCreate] = useState(false);\r\n  const [editTeam, setEditTeam] = useState<any | null>(null);\r\n  const [confirmDelete, setConfirmDelete] = useState<any | null>(null);\r\n\r\n  // schedule modal state\r\n  const [showSchedule, setShowSchedule] = useState(false);\r\n  const [selectedTeamForSchedule, setSelectedTeamForSchedule] = useState<any | null>(null);\r\n\r\n  // members modal state\r\n  const [showMembersModal, setShowMembersModal] = useState(false);\r\n  const [selectedTeamForMembers, setSelectedTeamForMembers] = useState<any | null>(null);\r\n\r\n  // data\r\n  const [teams, setTeams] = useState<any[]>([]);\r\n  const [teamsLoading, setTeamsLoading] = useState(true);\r\n  const [teamsError, setTeamsError] = useState<string | null>(null);\r\n\r\n  const [managers, setManagers] = useState<any[]>([]);\r\n  const [employees, setEmployees] = useState<any[]>([]);\r\n  const [usersLoading, setUsersLoading] = useState(true);\r\n\r\n  /* -- fetch teams -- */\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    (async () => {\r\n      setTeamsLoading(true);\r\n      setTeamsError(null);\r\n      try {\r\n        const res = await fetch(\"/api/teams\", { credentials: \"same-origin\" });\r\n        if (!res.ok) {\r\n          const alt = await fetch(\"/api/dashboard/teams\", { credentials: \"same-origin\" });\r\n          if (!alt.ok) throw new Error(\"Failed to load teams\");\r\n          const altJson = await alt.json().catch(() => null);\r\n          const list = safeParseListResponse(altJson);\r\n          if (mounted) setTeams(list);\r\n        } else {\r\n          const j = await res.json().catch(() => null);\r\n          const list = safeParseListResponse(j);\r\n          if (mounted) setTeams(list);\r\n        }\r\n      } catch (err: any) {\r\n        if (mounted) setTeamsError(err?.message || \"Could not fetch teams\");\r\n        console.error(\"[teams] fetch error:\", err);\r\n      } finally {\r\n        if (mounted) setTeamsLoading(false);\r\n      }\r\n    })();\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, []);\r\n\r\n  /* -- fetch users for selectors -- */\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    (async () => {\r\n      setUsersLoading(true);\r\n      try {\r\n        const [mRes, eRes] = await Promise.all([\r\n          fetch(\"/api/users?role=MANAGER\", { credentials: \"same-origin\" }),\r\n          fetch(\"/api/users?role=EMPLOYEE\", { credentials: \"same-origin\" }),\r\n        ]);\r\n\r\n        if (mRes.ok) {\r\n          const j = await mRes.json().catch(() => null);\r\n          const list = safeParseListResponse(j);\r\n          if (mounted) setManagers(list);\r\n        } else {\r\n          if (mounted) setManagers([]);\r\n        }\r\n\r\n        if (eRes.ok) {\r\n          const j = await eRes.json().catch(() => null);\r\n          const list = safeParseListResponse(j);\r\n          if (mounted) setEmployees(list);\r\n        } else {\r\n          if (mounted) setEmployees([]);\r\n        }\r\n      } catch (err) {\r\n        console.warn(\"[users] fetch failed:\", err);\r\n        if (mounted) {\r\n          setManagers([]);\r\n          setEmployees([]);\r\n        }\r\n      } finally {\r\n        if (mounted) setUsersLoading(false);\r\n      }\r\n    })();\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, []);\r\n\r\n  /* -- filtering -- */\r\n  const filteredTeams = useMemo(() => {\r\n    const q = searchQuery.trim().toLowerCase();\r\n    if (!q) return teams;\r\n    return teams.filter((team) =>\r\n      (team.name ?? \"\").toLowerCase().includes(q) ||\r\n      (team.description ?? \"\").toLowerCase().includes(q) ||\r\n      (team.manager?.name ?? \"\").toLowerCase().includes(q)\r\n    );\r\n  }, [teams, searchQuery]);\r\n\r\n  /* -- create / update handler: accepts either server object (with id) or payload -- */\r\n  async function handleCreateOrUpdateTeam(payloadOrCreated: any, opts?: { isEdit?: boolean; id?: string }) {\r\n    try {\r\n      if (opts?.isEdit && opts.id) {\r\n        const res = await fetch(`/api/teams/${encodeURIComponent(opts.id)}`, {\r\n          method: \"PUT\",\r\n          credentials: \"same-origin\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify(payloadOrCreated),\r\n        });\r\n        if (!res.ok) {\r\n          const err = await res.json().catch(() => ({}));\r\n          throw new Error(err?.message || `Failed to update team (${res.status})`);\r\n        }\r\n        const json = await res.json().catch(() => null);\r\n        const updated = json?.team ?? json;\r\n        setTeams((prev) =>\r\n          prev.map((t) => (t.id === opts.id ? (updated ? { ...t, ...updated } : { ...t, ...payloadOrCreated }) : t))\r\n        );\r\n        setEditTeam(null);\r\n        setShowCreate(false);\r\n        return;\r\n      }\r\n\r\n      if (payloadOrCreated && payloadOrCreated.id) {\r\n        setTeams((prev) => [payloadOrCreated, ...prev]);\r\n        setShowCreate(false);\r\n        return;\r\n      }\r\n\r\n      const res = await fetch(\"/api/teams\", {\r\n        method: \"POST\",\r\n        credentials: \"same-origin\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(payloadOrCreated),\r\n      });\r\n      if (!res.ok) {\r\n        const err = await res.json().catch(() => ({}));\r\n        throw new Error(err?.message || `Failed to create team (${res.status})`);\r\n      }\r\n      const json = await res.json().catch(() => null);\r\n      const created = json?.team ?? json;\r\n      if (created && created.id) {\r\n        setTeams((prev) => [created, ...prev]);\r\n      } else {\r\n        setTeams((prev) => [\r\n          {\r\n            id: `tmp_${Date.now()}`,\r\n            ...payloadOrCreated,\r\n            manager: managers.find((m) => m.id === payloadOrCreated.managerId) ?? null,\r\n            members: (payloadOrCreated.memberUserIds ?? []).map((id: string) => {\r\n              const u = employees.find((e) => e.id === id);\r\n              return { id, user: u ? { id: u.id, name: u.name, email: u.email } : undefined };\r\n            }),\r\n          },\r\n          ...prev,\r\n        ]);\r\n      }\r\n      setShowCreate(false);\r\n    } catch (err: any) {\r\n      console.error(\"Create/update team error:\", err);\r\n      alert(\"Error: \" + (err?.message || \"Unknown error\"));\r\n    }\r\n  }\r\n\r\n  /* -- open create / edit -- */\r\n  function openCreate() {\r\n    setEditTeam(null);\r\n    setShowCreate(true);\r\n  }\r\n  function handleEdit(team: any) {\r\n    setEditTeam(team);\r\n    setShowCreate(true);\r\n  }\r\n\r\n  /* -- delete flow -- */\r\n  function handleDeleteRequest(team: any) {\r\n    setConfirmDelete(team);\r\n  }\r\n  async function confirmDeleteNow(team: any) {\r\n    try {\r\n      const res = await fetch(`/api/teams/${encodeURIComponent(team.id)}`, {\r\n        method: \"DELETE\",\r\n        credentials: \"same-origin\",\r\n      });\r\n      if (!res.ok) {\r\n        const err = await res.json().catch(() => ({}));\r\n        throw new Error(err?.message || `Delete failed (${res.status})`);\r\n      }\r\n      setTeams((prev) => prev.filter((t) => t.id !== team.id));\r\n      setConfirmDelete(null);\r\n    } catch (err: any) {\r\n      console.error(\"Delete team error:\", err);\r\n      alert(\"Failed to delete team: \" + (err?.message || \"unknown\"));\r\n    }\r\n  }\r\n\r\n  /* -- schedule modal handlers -- */\r\n  function openScheduleForTeam(team: any) {\r\n    setSelectedTeamForSchedule(team);\r\n    setShowSchedule(true);\r\n  }\r\n  function handleScheduleMeeting(meeting: any) {\r\n    setSelectedTeamForSchedule(null);\r\n    setShowSchedule(false);\r\n  }\r\n\r\n  /* -- members modal handlers -- */\r\n  function openMembersModalForTeam(team: any) {\r\n    setSelectedTeamForMembers(team);\r\n    setShowMembersModal(true);\r\n  }\r\n  function closeMembersModal() {\r\n    setSelectedTeamForMembers(null);\r\n    setShowMembersModal(false);\r\n  }\r\n\r\n  /* -- remove member (employee or manager) */\r\n  async function removeMemberFromTeam(memberId: string, isManager = false) {\r\n    if (!selectedTeamForMembers) return;\r\n    const teamId = selectedTeamForMembers.id;\r\n    // optimistic UI update\r\n    setTeams((prev) =>\r\n      prev.map((t) => {\r\n        if (t.id !== teamId) return t;\r\n        if (isManager) {\r\n          return { ...t, manager: null };\r\n        }\r\n        return { ...t, members: (t.members ?? []).filter((m: any) => (m.id ?? m.user?.id ?? m.userId) !== memberId) };\r\n      })\r\n    );\r\n    setSelectedTeamForMembers((prev: any) => {\r\n      if (!prev) return prev;\r\n      if (isManager) {\r\n        return { ...prev, manager: null };\r\n      }\r\n      return { ...prev, members: (prev.members ?? []).filter((m: any) => (m.id ?? m.user?.id ?? m.userId) !== memberId) };\r\n    });\r\n\r\n    try {\r\n      const res = await fetch(`/api/teams/${encodeURIComponent(teamId)}/members/${encodeURIComponent(memberId)}`, {\r\n        method: \"DELETE\",\r\n        credentials: \"same-origin\",\r\n      });\r\n      if (!res.ok) throw new Error(`Failed to remove member (${res.status})`);\r\n    } catch (err: any) {\r\n      console.error(\"remove member failed:\", err);\r\n      alert(\"Failed to remove member: \" + (err?.message || \"unknown\"));\r\n      // rollback: refetch teams\r\n      try {\r\n        const r = await fetch(\"/api/teams\", { credentials: \"same-origin\" });\r\n        const j = await r.json().catch(() => null);\r\n        const list = safeParseListResponse(j);\r\n        setTeams(list);\r\n        const updated = list.find((x: any) => x.id === teamId);\r\n        setSelectedTeamForMembers(updated ?? null);\r\n      } catch (e) {\r\n        console.warn(\"refetch teams failed:\", e);\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-50 p-4 sm:p-6 lg:p-8\">\r\n        <div className=\"max-w-7xl mx-auto\">\r\n          {/* header */}\r\n          <motion.div initial={{ opacity: 0, y: -14 }} animate={{ opacity: 1, y: 0 }} transition={{ duration: 0.4 }} className=\"mb-6\">\r\n            <h1 className=\"text-3xl md:text-4xl font-bold text-slate-900 mb-1\">Teams</h1>\r\n            <p className=\"text-slate-500 flex items-center gap-2\"><Users className=\"w-4 h-4\" /> Manage and collaborate with your teams</p>\r\n          </motion.div>\r\n\r\n          {/* stats */}\r\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-8\">\r\n            <StatCard icon={Users} label=\"Total Teams\" value={String(teams.length)} subtitle=\"+0 this month\" gradient=\"from-blue-500 to-cyan-500\" delay={0} />\r\n            <StatCard icon={Activity} label=\"Active Members\" value={String(teams.reduce((a, t) => a + (t.members?.length ?? 0), 0))} subtitle=\"Across all teams\" gradient=\"from-emerald-500 to-teal-500\" delay={0.05} />\r\n            <StatCard icon={Target} label=\"Active Projects\" value={String(teams.reduce((a, t) => a + (t.projects ?? 0), 0))} subtitle=\"In progress\" gradient=\"from-violet-500 to-purple-500\" delay={0.1} />\r\n            <StatCard icon={Award} label=\"Avg Completion\" value={`${Math.round((teams.reduce((a, t) => a + (t.completion ?? 0), 0) / Math.max(1, teams.length)))}%`} subtitle=\"+0% from last month\" gradient=\"from-orange-500 to-rose-500\" delay={0.15} />\r\n          </div>\r\n\r\n          {/* search & create */}\r\n          <div className=\"mb-6 flex flex-col sm:flex-row gap-4\">\r\n            <div className=\"relative flex-1\">\r\n              <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400\" />\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Search teams...\"\r\n                value={searchQuery}\r\n                onChange={(e) => setSearchQuery(e.target.value)}\r\n                className=\"w-full pl-10 pr-4 py-3 bg-white border border-slate-200 rounded-xl text-sm placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 shadow-sm\"\r\n              />\r\n            </div>\r\n\r\n            <motion.button onClick={openCreate} whileHover={{ scale: 1.02 }} whileTap={{ scale: 0.98 }} className=\"px-6 py-3 bg-gradient-to-br from-blue-500 to-cyan-500 text-white rounded-xl text-sm font-medium shadow-lg hover:shadow-xl flex items-center gap-2\">\r\n              <Plus className=\"w-4 h-4\" /> Create Team\r\n            </motion.button>\r\n          </div>\r\n\r\n          {/* teams grid */}\r\n         <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 items-start auto-rows-auto\">\r\n\r\n            {teamsLoading ? (\r\n              <div className=\"col-span-full p-6 bg-white rounded-2xl border border-slate-200\">Loading teams…</div>\r\n            ) : filteredTeams.length === 0 ? (\r\n              <div className=\"col-span-full p-6 bg-white rounded-2xl border border-slate-200 text-center\">No teams found</div>\r\n            ) : (\r\n              filteredTeams.map((team, i) => (\r\n                <TeamCard\r\n                  key={uidFromTeam(team, i)}\r\n                  team={team}\r\n                  delay={0.18 + i * 0.04}\r\n                  onOpenSchedule={openScheduleForTeam}\r\n                  onEdit={handleEdit}\r\n                  onDelete={handleDeleteRequest}\r\n                  onViewMembers={openMembersModalForTeam}\r\n                />\r\n              ))\r\n            )}\r\n          </div>\r\n\r\n          {teamsError && <div className=\"mt-4 text-sm text-rose-600\">{teamsError}</div>}\r\n        </div>\r\n      </div>\r\n\r\n      {/* create / edit modal (kept as-is) */}\r\n      <AnimatePresence>\r\n        {(showCreate || editTeam) && (\r\n          <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} className=\"fixed inset-0 z-50 flex items-center justify-center\">\r\n            <motion.div\r\n              initial={{ opacity: 0 }}\r\n              animate={{ opacity: 1 }}\r\n              exit={{ opacity: 0 }}\r\n              transition={{ duration: 0.12 }}\r\n              className=\"absolute inset-0 bg-black/20 backdrop-blur-sm\"\r\n              onClick={() => {\r\n                setShowCreate(false);\r\n                setEditTeam(null);\r\n              }}\r\n            />\r\n            <div className=\"relative z-10 w-full max-w-2xl p-4\">\r\n              <CreateTeamForm\r\n                managers={managers}\r\n                employees={employees}\r\n                loadingUsers={usersLoading}\r\n                initialTeam={editTeam ?? undefined}\r\n                onCreate={(payloadOrCreated: any) => handleCreateOrUpdateTeam(payloadOrCreated)}\r\n                onUpdate={(id: string, payload: any) => handleCreateOrUpdateTeam(payload, { isEdit: true, id })}\r\n                onDelete={(id: string) => {\r\n                  setTeams((prev) => prev.filter((t) => t.id !== id));\r\n                }}\r\n                onClose={() => {\r\n                  setShowCreate(false);\r\n                  setEditTeam(null);\r\n                }}\r\n              />\r\n            </div>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n\r\n      {/* confirm delete modal */}\r\n      <AnimatePresence>\r\n        {confirmDelete && (\r\n          <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} className=\"fixed inset-0 z-60 flex items-center justify-center\">\r\n            <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} transition={{ duration: 0.12 }} className=\"absolute inset-0 bg-black/20\" onClick={() => setConfirmDelete(null)} />\r\n            <motion.div initial={{ scale: 0.98 }} animate={{ scale: 1 }} exit={{ scale: 0.98 }} transition={{ duration: 0.12 }} className=\"relative z-10 w-full max-w-md bg-white rounded-2xl border p-6\">\r\n              <h3 className=\"text-lg font-semibold\">Delete team?</h3>\r\n              <p className=\"text-sm text-slate-600 mt-2\">This will remove the team and its membership associations. This action cannot be undone.</p>\r\n              <div className=\"mt-4 flex justify-end gap-3\">\r\n                <button className=\"px-4 py-2 rounded-md\" onClick={() => setConfirmDelete(null)} type=\"button\">Cancel</button>\r\n                <button className=\"px-4 py-2 rounded-md bg-rose-600 text-white\" onClick={() => confirmDeleteNow(confirmDelete)} type=\"button\">Delete</button>\r\n              </div>\r\n            </motion.div>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n\r\n      {/* schedule meeting modal */}\r\n      <AnimatePresence>\r\n        {showSchedule && selectedTeamForSchedule && (\r\n          <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} className=\"fixed inset-0 z-50 flex items-center justify-center\">\r\n            <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} transition={{ duration: 0.18 }} className=\"absolute inset-0 bg-black/20 backdrop-blur-sm\" onClick={() => { setShowSchedule(false); setSelectedTeamForSchedule(null); }} />\r\n            <div className=\"relative z-10 w-full max-w-2xl p-4\">\r\n              <ScheduleMeetingForm team={selectedTeamForSchedule} onClose={() => { setShowSchedule(false); setSelectedTeamForSchedule(null); }} onSchedule={(m) => handleScheduleMeeting(m)} />\r\n            </div>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n\r\n      {/* members modal — rendered directly (no extra backdrop wrapper). Modal component provides backdrop + panel */}\r\n      <AnimatePresence>\r\n        {showMembersModal && selectedTeamForMembers && (\r\n          <MembersModal\r\n            key={selectedTeamForMembers.id ?? \"members-modal\"}\r\n            open={showMembersModal}\r\n            onClose={closeMembersModal}\r\n            team={selectedTeamForMembers}\r\n            onRemove={removeMemberFromTeam}\r\n          />\r\n        )}\r\n      </AnimatePresence>\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}