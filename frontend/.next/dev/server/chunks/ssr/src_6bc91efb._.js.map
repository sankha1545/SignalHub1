{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///E:/Attack%20Capital/SignalHub/frontend/src/components/forms/ProfileForm.tsx"],"sourcesContent":["// File: app/account/components/ProfileForm.tsx\r\n\"use client\";\r\n\r\n\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport ImageCropper from \"../ui/\";\r\n\r\n\r\ntype Props = { onChangePassword?: () => void };\r\n\r\n\r\nexport default function ProfileForm({ onChangePassword }: Props) {\r\nconst [user, setUser] = useState<any | null>(null);\r\nconst [loading, setLoading] = useState(true);\r\nconst [editing, setEditing] = useState(false);\r\nconst [saving, setSaving] = useState(false);\r\n\r\n\r\nconst [form, setForm] = useState<any>({\r\nname: \"\",\r\ndisplayName: \"\",\r\nemail: \"\",\r\nphone: \"\",\r\navatarUrl: \"\",\r\nbio: \"\",\r\ncountry: \"\",\r\nregion: \"\",\r\npostalCode: \"\",\r\nlanguage: \"\",\r\ndistrict: \"\",\r\n});\r\n\r\n\r\n// photo cropping\r\nconst [rawFile, setRawFile] = useState<File | null>(null);\r\nconst [cropOpen, setCropOpen] = useState(false);\r\nconst [croppedBlobUrl, setCroppedBlobUrl] = useState<string | null>(null);\r\n\r\n\r\nconst fileInputRef = useRef<HTMLInputElement | null>(null);\r\n\r\n\r\nuseEffect(() => {\r\nasync function load() {\r\nsetLoading(true);\r\ntry {\r\nconst res = await fetch(\"/api/me\");\r\nconst json = await res.json().catch(() => ({ ok: false }));\r\nif (json?.ok && json.user) {\r\nsetUser(json.user);\r\nconst profile = json.user.profile ?? {};\r\nsetForm({\r\nname: json.user.name ?? \"\",\r\ndisplayName: profile.displayName ?? \"\",\r\nemail: json.user.email ?? \"\",\r\nphone: json.user.phone ?? \"\",\r\navatarUrl: profile.avatarUrl ?? \"\",\r\nbio: profile.bio ?? \"\",\r\ncountry: profile.country ?? \"\",\r\nregion: profile.region ?? \"\",\r\npostalCode: profile.postalCode ?? profile.postal_code ?? \"\",\r\nlanguage: profile.language ?? \"\",\r\ndistrict: profile.district ?? \"\",\r\n});\r\ndocument.getElementById(\"member-since\")!.textContent = new Date(json.user.createdAt).toLocaleDateString();\r\n} else {\r\n// redirect to login if not authenticated\r\n(window as any).location = \"/login\";\r\n}\r\n} catch (err) {\r\nconsole.error(err);\r\n(window as any).location = \"/login\";\r\n}finally {\r\nsetLoading(false);\r\n}\r\n}\r\nload();\r\n}, []);\r\n\r\nfunction handleFileChange(f?: File | null) {\r\nif (!f) return setRawFile(null);\r\nif (!f.type.startsWith(\"image/\")) return alert(\"Please select an image file.\");\r\nif (f.size > 5 * 1024 * 1024) return alert(\"Max 5MB\");\r\nsetRawFile(f);\r\nsetCropOpen(true);\r\n}\r\n\r\nasync function handleSave(e?: React.FormEvent) {\r\nif (e) e.preventDefault();\r\nsetSaving(true);\r\ntry {\r\nlet avatarUrl = form.avatarUrl;\r\nif (croppedBlobUrl) {\r\n// upload the cropped blob to /api/upload\r\nconst blob = await (await fetch(croppedBlobUrl)).blob();\r\nconst fd = new FormData();\r\nfd.append(\"file\", blob, \"avatar.png\");\r\nconst r = await fetch(\"/api/upload\", { method: \"POST\", body: fd });\r\nconst j = await r.json();\r\nif (j?.ok && j.url) avatarUrl = j.url;\r\n}\r\nconst body = {\r\nname: form.name,\r\nphone: form.phone,\r\nprofile: {\r\ndisplayName: form.displayName,\r\navatarUrl,\r\nbio: form.bio,\r\ncountry: form.country,\r\nregion: form.region,\r\npostalCode: form.postalCode,\r\nlanguage: form.language,\r\ndistrict: form.district,\r\n},\r\n};\r\n\r\nconst res = await fetch(\"/api/me\", { method: \"PATCH\", body: JSON.stringify(body), headers: { \"Content-Type\": \"application/json\" } });\r\nconst json = await res.json().catch(() => ({ ok: false }));\r\nif (json.ok) {\r\nsetUser(json.user ?? user);\r\nsetEditing(false);\r\nsetForm((p: any) => ({ ...p, avatarUrl }));\r\nsetCroppedBlobUrl(null);\r\nsetRawFile(null);\r\nalert(\"Profile saved\");\r\n} else {\r\nalert(json.error || \"Save failed\");\r\n}\r\n} catch (err) {\r\nconsole.error(err);\r\nalert(\"Unexpected error\");\r\n} finally {\r\nsetSaving(false);\r\n}\r\n}\r\n\r\n\r\nif (loading) return <div className=\"min-h-[50vh] flex items-center justify-center\">Loading…</div>;\r\n\r\nreturn (\r\n<div className=\"bg-gradient-to-tr from-white via-slate-50 to-white rounded-2xl p-6 shadow-md border\">\r\n<div className=\"flex gap-6\">\r\n<div className=\"relative flex-shrink-0\">\r\n<div className=\"w-32 h-32 rounded-2xl bg-gradient-to-br from-indigo-50 to-emerald-50 overflow-hidden flex items-center justify-center border-2 border-white shadow-lg\">\r\n{croppedBlobUrl || form.avatarUrl ? (\r\n// eslint-disable-next-line @next/next/no-img-element\r\n<img src={croppedBlobUrl ?? form.avatarUrl!} alt=\"avatar\" className=\"w-full h-full object-cover\" />\r\n) : (\r\n<div className=\"text-4xl font-semibold text-slate-700\">{(form.name || form.email || \"U\").charAt(0)}</div>\r\n)}\r\n</div>\r\n\r\n\r\n<div className=\"absolute -right-3 -bottom-3 flex gap-2\">\r\n<button\r\nonClick={() => { setEditing(true); fileInputRef.current?.click(); }}\r\nclassName=\"inline-flex items-center gap-2 px-3 py-1 rounded-md bg-white border shadow-sm text-xs\"\r\n>\r\nUpload\r\n</button>\r\n\r\n\r\n<button\r\nonClick={() => { setRawFile(null); setCroppedBlobUrl(null); setForm((p:any)=>({...p, avatarUrl: user?.profile?.avatarUrl ?? \"\"})); }}\r\nclassName=\"inline-flex items-center gap-2 px-3 py-1 rounded-md bg-white border shadow-sm text-xs\"\r\n>\r\nRevert\r\n</button>\r\n</div>\r\n</div>\r\n\r\n\r\n<div className=\"flex-1\">\r\n<div className=\"flex items-center justify-between gap-4\">\r\n<div>\r\n<h1 className=\"text-2xl font-extrabold text-slate-900\">{user.name || user.email}</h1>\r\n<div className=\"text-sm text-slate-500\">{user.email}</div>\r\n<div className=\"mt-3 inline-flex items-center gap-2\">\r\n<div className=\"text-xs px-2 py-1 rounded bg-emerald-50 text-emerald-700 border border-emerald-100\">{user.role ?? \"Member\"}</div>\r\n<div className=\"text-xs px-2 py-1 rounded bg-slate-50 text-slate-600\">Joined {new Date(user.createdAt).toLocaleDateString()}</div>\r\n</div>\r\n</div>\r\n\r\n\r\n<div className=\"flex gap-2\">\r\n<button\r\nonClick={() => (editing ? handleSave() : setEditing(true))}\r\nclassName={`inline-flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium shadow-sm ${editing ? \"bg-indigo-600 text-white\" : \"bg-white border\"}`}\r\ndisabled={saving}\r\n>\r\n{editing ? (saving ? \"Saving…\" : \"Save\") : \"Edit\"}\r\n</button>\r\n\r\n\r\n<button onClick={() => (window.location.href = \"/\")} className=\"inline-flex items-center gap-2 px-3 py-2 rounded-lg text-sm border bg-white\">Back</button>\r\n</div>\r\n</div>\r\n\r\n\r\n<p className=\"mt-4 text-sm text-slate-600\">A modern profile editor with smart cascading selects and image cropper. All changes are saved to your account.</p>\r\n</div>\r\n</div>\r\n<div className=\"mt-6\">\r\n{!editing ? (\r\n<div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n<div className=\"space-y-3\">\r\n<h2 className=\"text-sm font-semibold text-slate-600\">Profile</h2>\r\n<div className=\"mt-3 space-y-3\">\r\n<div>\r\n<div className=\"text-xs text-slate-500\">Full name</div>\r\n<div className=\"font-medium text-slate-800\">{user.name ?? \"—\"}</div>\r\n</div>\r\n<div>\r\n<div className=\"text-xs text-slate-500\">Display name</div>\r\n<div className=\"font-medium text-slate-800\">{user.profile?.displayName ?? \"—\"}</div>\r\n</div>\r\n<div>\r\n<div className=\"text-xs text-slate-500\">Phone</div>\r\n<div className=\"font-medium text-slate-800\">{user.phone ?? \"—\"}</div>\r\n</div>\r\n<div>\r\n<div className=\"text-xs text-slate-500\">Bio</div>\r\n<div className=\"font-medium whitespace-pre-wrap text-slate-800\">{user.profile?.bio ?? \"—\"}</div>\r\n</div>\r\n</div>\r\n</div>\r\n\r\n<div className=\"space-y-3\">\r\n<h2 className=\"text-sm font-semibold text-slate-600\">Location & language</h2>\r\n<div className=\"mt-3 space-y-3\">\r\n<div>\r\n<div className=\"text-xs text-slate-500\">Country</div>\r\n<div className=\"font-medium text-slate-800\">{user.profile?.country ?? \"—\"}</div>\r\n</div>\r\n<div>\r\n<div className=\"text-xs text-slate-500\">Region / State</div>\r\n<div className=\"font-medium text-slate-800\">{user.profile?.region ?? \"—\"}</div>\r\n</div>\r\n<div>\r\n<div className=\"text-xs text-slate-500\">District</div>\r\n<div className=\"font-medium text-slate-800\">{user.profile?.district ?? \"—\"}</div>\r\n</div>\r\n<div>\r\n<div className=\"text-xs text-slate-500\">Postal code</div>\r\n<div className=\"font-medium text-slate-800\">{user.profile?.postalCode ?? user.profile?.postal_code ?? \"—\"}</div>\r\n</div>\r\n<div>\r\n<div className=\"text-xs text-slate-500\">Language</div>\r\n<div className=\"font-medium text-slate-800\">{user.profile?.language ?? \"—\"}</div>\r\n</div>\r\n</div>\r\n</div>\r\n</div>\r\n) : (\r\n    <form onSubmit={handleSave} className=\"space-y-6 mt-4\">\r\n<input ref={fileInputRef} type=\"file\" accept=\"image/*\" onChange={(e)=>handleFileChange(e.target.files?.[0] ?? null)} className=\"hidden\" />\r\n\r\n\r\n<div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n<FloatingInput label=\"Full name\" value={form.name} onChange={(v)=>setForm({...form, name: v})} required />\r\n<FloatingInput label=\"Display name\" value={form.displayName} onChange={(v)=>setForm({...form, displayName: v})} />\r\n\r\n\r\n<FloatingInput label=\"Phone\" value={form.phone} onChange={(v)=>setForm({...form, phone: v})} />\r\n<FloatingInput label=\"Postal code\" value={form.postalCode} onChange={(v)=>setForm({...form, postalCode: v})} />\r\n</div>\r\n\r\n\r\n<div>\r\n<label className=\"text-xs text-slate-500\">Bio</label>\r\n<textarea value={form.bio} onChange={(e)=>setForm({...form, bio: e.target.value})} rows={4} className=\"w-full mt-1 p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-200\" placeholder=\"Tell people about yourself — what you do and what you care about.\" />\r\n</div>\r\n\r\n\r\n<div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n<div>\r\n<label className=\"text-xs text-slate-500\">Country</label>\r\n<div className=\"mt-1 relative\">\r\n<input value={form.country} onChange={(e)=>setForm({...form, country: e.target.value})} className=\"w-full p-3 border rounded-lg bg-white\" placeholder=\"Start typing country...\" />\r\n</div>\r\n</div>\r\n\r\n\r\n<div>\r\n<label className=\"text-xs text-slate-500\">Region / State</label>\r\n<div className=\"mt-1\">\r\n<input value={form.region} onChange={(e)=>setForm({...form, region: e.target.value})} className=\"w-full p-3 border rounded-lg bg-white\" placeholder=\"Region / state\" />\r\n</div>\r\n<div className=\"text-xs text-slate-400 mt-1\">Start typing to search — improved UX for modern forms.</div>\r\n</div>\r\n\r\n\r\n<div>\r\n<label className=\"text-xs text-slate-500\">District / City</label>\r\n<div className=\"mt-1\">\r\n<input value={form.district} onChange={(e)=>setForm({...form, district: e.target.value})} className=\"w-full p-3 border rounded-lg bg-white\" placeholder=\"District / city\" />\r\n</div>\r\n<div className=\"text-xs text-slate-400 mt-1\">Optional</div>\r\n</div>\r\n</div>\r\n\r\n\r\n<div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n<div>\r\n<label className=\"text-xs text-slate-500\">Language</label>\r\n<input value={form.language} onChange={(e)=>setForm({...form, language: e.target.value})} className=\"w-full mt-1 p-3 border rounded-lg\" placeholder=\"Preferred language\" />\r\n</div>\r\n\r\n\r\n<div />\r\n<div />\r\n</div>\r\n\r\n\r\n<div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 items-center\">\r\n<div>\r\n<label className=\"text-xs text-slate-500\">Profile photo</label>\r\n<div className=\"mt-2 flex items-center gap-4\">\r\n<div className=\"w-24 h-24 rounded-xl bg-slate-100 overflow-hidden flex items-center justify-center border\">\r\n{croppedBlobUrl || form.avatarUrl ? (\r\n// eslint-disable-next-line @next/next/no-img-element\r\n<img src={croppedBlobUrl ?? form.avatarUrl!} alt=\"preview\" className=\"w-full h-full object-cover\" />\r\n) : (\r\n<div className=\"text-2xl text-slate-500\">{(form.name || \"U\").charAt(0)}</div>\r\n)}\r\n</div>\r\n\r\n\r\n<div className=\"flex flex-col gap-2\">\r\n<button type=\"button\" onClick={()=>fileInputRef.current?.click()} className=\"px-3 py-2 rounded-md border text-sm inline-flex items-center gap-2\">Upload</button>\r\n<button type=\"button\" onClick={()=>{ setRawFile(null); setCroppedBlobUrl(null); setForm((p:any)=>({...p, avatarUrl: \"\"})); }} className=\"px-3 py-2 rounded-md border text-sm inline-flex items-center gap-2\">Remove</button>\r\n\r\n\r\n<div className=\"text-xs text-slate-400\">Max 5 MB. JPG/PNG/GIF accepted.</div>\r\n</div>\r\n</div>\r\n</div>\r\n\r\n<div className=\"md:col-span-2\">\r\n<label className=\"text-xs text-slate-500\">Profile preview URL</label>\r\n<input value={form.avatarUrl} onChange={(e)=>setForm({...form, avatarUrl: e.target.value})} placeholder=\"Direct image URL (optional)\" className=\"w-full mt-1 p-3 border rounded-lg\" />\r\n<div className=\"text-xs text-slate-400 mt-1\">If you paste an image URL it will be used unless you upload a new file.</div>\r\n</div>\r\n</div>\r\n\r\n\r\n<div className=\"flex gap-3 justify-end\">\r\n<button type=\"button\" onClick={()=>{ setEditing(false); /* revert */ setForm({ name: user.name ?? \"\", displayName: user.profile?.displayName ?? \"\", email: user.email ?? \"\", phone: user.phone ?? \"\", avatarUrl: user.profile?.avatarUrl ?? \"\", bio: user.profile?.bio ?? \"\", country: user.profile?.country ?? \"\", region: user.profile?.region ?? \"\", postalCode: user.profile?.postalCode ?? user.profile?.postal_code ?? \"\", language: user.profile?.language ?? \"\", district: user.profile?.district ?? \"\", }); setCroppedBlobUrl(null); setRawFile(null); }} className=\"px-4 py-2 border rounded-lg\" disabled={saving}>Cancel</button>\r\n\r\n\r\n<button type=\"submit\" disabled={saving} className=\"px-4 py-2 bg-emerald-600 text-white rounded-lg\">{saving ? \"Saving…\" : \"Save profile\"}</button>\r\n</div>\r\n</form>\r\n)}\r\n</div>\r\n\r\n\r\n{cropOpen && rawFile && (\r\n<ImageCropper file={rawFile} onCancel={() => { setCropOpen(false); setRawFile(null); }} onCropped={(url) => { setCroppedBlobUrl(url); setCropOpen(false); }} />\r\n)}\r\n</div>\r\n);\r\n}\r\n\r\nfunction FloatingInput({ label, value, onChange, required }: { label: string; value: string; onChange: (v: string) => void; required?: boolean }) {\r\nreturn (\r\n<label className=\"relative block\">\r\n<span className={`pointer-events-none -translate-y-3 absolute left-3 top-2 text-xs transition-all ${value ? \"-translate-y-4 text-indigo-600\" : \"text-slate-500\"}`}>{label}{required ? ' *' : ''}</span>\r\n<input value={value} onChange={(e) => onChange(e.target.value)} className=\"w-full mt-4 p-3 pt-6 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-200\" />\r\n</label>\r\n);\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1162, "column": 0}, "map": {"version":3,"sources":["file:///E:/Attack%20Capital/SignalHub/frontend/src/components/modals/PasswordModal.tsx"],"sourcesContent":["\"use client\";\r\n\r\n\r\nimport React, { useEffect, useState } from \"react\";\r\n\r\n\r\nexport default function PasswordModal({ open, onClose }: { open: boolean; onClose: () => void }) {\r\nconst [step, setStep] = useState<\"verify\" | \"change\">(\"verify\");\r\nconst [verifying, setVerifying] = useState(false);\r\nconst [oldPassword, setOldPassword] = useState(\"\");\r\n\r\n\r\nconst [newPassword, setNewPassword] = useState(\"\");\r\nconst [rePassword, setRePassword] = useState(\"\");\r\nconst [showNew, setShowNew] = useState(false);\r\nconst [showRe, setShowRe] = useState(false);\r\nconst [saving, setSaving] = useState(false);\r\nconst [errors, setErrors] = useState<string[]>([]);\r\n\r\n\r\nuseEffect(()=>{ if(!open){ setTimeout(()=>{ setStep(\"verify\"); setOldPassword(\"\"); setNewPassword(\"\"); setRePassword(\"\"); setErrors([]); }, 200); } }, [open]);\r\n\r\n\r\nif (!open) return null;\r\n\r\n\r\nasync function handleVerify() {\r\nsetVerifying(true);\r\ntry {\r\nconst res = await fetch(\"/api/auth/verify-old-password\", { method: \"POST\", body: JSON.stringify({ password: oldPassword }), headers: { \"Content-Type\": \"application/json\" } });\r\nconst j = await res.json().catch(()=>({ ok: false }));\r\nif (j.ok) {\r\nsetStep(\"change\");\r\n} else {\r\nalert(j.error || \"Verification failed\");\r\n}\r\n} catch (err) {\r\nconsole.error(err);\r\nalert(\"Unexpected error verifying password\");\r\n} finally {\r\nsetVerifying(false);\r\n}\r\n}\r\n\r\n\r\nfunction validatePassword(pw: string) {\r\nconst errs: string[] = [];\r\nif (pw.length < 8) errs.push(\"At least 8 characters\");\r\nif (!/[A-Z]/.test(pw)) errs.push(\"One uppercase letter\");\r\nif (!/[a-z]/.test(pw)) errs.push(\"One lowercase letter\");\r\nif (!/[0-9]/.test(pw)) errs.push(\"One number\");\r\nif (!/[^A-Za-z0-9]/.test(pw)) errs.push(\"One special character\");\r\nreturn errs;\r\n}\r\n\r\n\r\nasync function handleChange() {\r\nsetErrors([]);\r\nconst errs = validatePassword(newPassword);\r\nif (errs.length) return setErrors(errs);\r\nif (newPassword !== rePassword) return setErrors([\"Passwords do not match\"]);\r\nsetSaving(true);\r\ntry {\r\nconst res = await fetch(\"/api/auth/change-password\", { method: \"POST\", body: JSON.stringify({ newPassword }), headers: { \"Content-Type\": \"application/json\" } });\r\nconst j = await res.json().catch(()=>({ ok: false }));\r\nif (j.ok) {\r\nalert(\"Password changed\");\r\nonClose();\r\n} else {\r\nalert(j.error || \"Failed to change password\");\r\n}\r\n} catch (err) {\r\nconsole.error(err);\r\nalert(\"Unexpected error\");\r\n} finally {\r\nsetSaving(false);\r\n}\r\n}\r\nreturn (\r\n<div className=\"fixed inset-0 z-60 flex items-center justify-center bg-black/40\">\r\n<div className=\"bg-white rounded-2xl w-[92%] max-w-xl p-6\">\r\n<div className=\"flex items-center justify-between mb-4\">\r\n<h3 className=\"text-lg font-semibold\">Change password</h3>\r\n<button onClick={onClose} className=\"text-slate-500\">Close</button>\r\n</div>\r\n\r\n\r\n{step === \"verify\" ? (\r\n<div>\r\n<p className=\"text-sm text-slate-600\">To change your password, verify your current password first.</p>\r\n<div className=\"mt-4\">\r\n<label className=\"text-xs text-slate-500\">Current password</label>\r\n<input type=\"password\" value={oldPassword} onChange={(e)=>setOldPassword(e.target.value)} className=\"w-full mt-1 p-3 border rounded-lg\" />\r\n</div>\r\n\r\n\r\n<div className=\"mt-4 flex justify-end gap-2\">\r\n<button onClick={onClose} className=\"px-3 py-2 border rounded\">Cancel</button>\r\n<button onClick={handleVerify} disabled={verifying} className=\"px-3 py-2 bg-indigo-600 text-white rounded\">{verifying ? \"Verifying…\" : \"Verify\"}</button>\r\n</div>\r\n</div>\r\n) : (\r\n<div>\r\n<p className=\"text-sm text-slate-600\">Enter a strong new password. It will be hidden after saving.</p>\r\n\r\n\r\n<div className=\"mt-4\">\r\n<label className=\"text-xs text-slate-500\">New password</label>\r\n<div className=\"relative\">\r\n<input type={showNew ? \"text\" : \"password\"} value={newPassword} onChange={(e)=>setNewPassword(e.target.value)} className=\"w-full mt-1 p-3 border rounded-lg pr-10\" />\r\n<button type=\"button\" onClick={()=>setShowNew(!showNew)} className=\"absolute right-2 top-3 text-sm\">{showNew ? 'Hide' : 'Show'}</button>\r\n</div>\r\n</div>\r\n\r\n\r\n<div className=\"mt-3\">\r\n<label className=\"text-xs text-slate-500\">Re-enter new password</label>\r\n<div className=\"relative\">\r\n<input type={showRe ? \"text\" : \"password\"} value={rePassword} onChange={(e)=>setRePassword(e.target.value)} className=\"w-full mt-1 p-3 border rounded-lg pr-10\" />\r\n<button type=\"button\" onClick={()=>setShowRe(!showRe)} className=\"absolute right-2 top-3 text-sm\">{showRe ? 'Hide' : 'Show'}</button>\r\n</div>\r\n</div>\r\n\r\n\r\n{errors.length > 0 && (\r\n<div className=\"mt-3 text-rose-500\">\r\n{errors.map((e,i)=>(<div key={i} className=\"text-sm\">• {e}</div>))}\r\n</div>\r\n)}\r\n\r\n\r\n<div className=\"mt-4 flex justify-end gap-2\">\r\n<button onClick={()=>setStep('verify')} className=\"px-3 py-2 border rounded\">Back</button>\r\n<button onClick={handleChange} disabled={saving} className=\"px-3 py-2 bg-emerald-600 text-white rounded\">{saving ? 'Saving…' : 'Save password'}</button>\r\n</div>\r\n</div>\r\n)}\r\n</div>\r\n</div>\r\n);\r\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1536, "column": 0}, "map": {"version":3,"sources":["file:///E:/Attack%20Capital/SignalHub/frontend/src/app/account/Accountlayout.tsx"],"sourcesContent":["\"use client\";\r\n\r\n\r\nimport React, { useEffect, useState } from \"react\";\r\nimport ProfileForm from \"../../components/forms/ProfileForm\";\r\nimport PasswordModal from \"../../components/modals/PasswordModal\";\r\n\r\n\r\nexport default function AccountLayout() {\r\nconst [showPasswordModal, setShowPasswordModal] = useState(false);\r\n\r\n\r\nreturn (\r\n<div className=\"p-6 max-w-6xl mx-auto\">\r\n<div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6 items-start\">\r\n<div className=\"lg:col-span-2\">\r\n<ProfileForm onChangePassword={() => setShowPasswordModal(true)} />\r\n</div>\r\n\r\n\r\n<aside className=\"bg-white rounded-2xl p-6 shadow-md border flex flex-col gap-4\">\r\n<div>\r\n<h3 className=\"text-sm font-semibold text-slate-700\">Account</h3>\r\n<div className=\"mt-3 text-sm text-slate-500\">Manage your account settings and profile visibility.</div>\r\n</div>\r\n\r\n\r\n<div className=\"pt-2 border-t\" />\r\n\r\n\r\n<div className=\"flex flex-col gap-2\">\r\n<button className=\"w-full text-left px-3 py-2 rounded-md border\">Security & password</button>\r\n<button className=\"w-full text-left px-3 py-2 rounded-md border\">Notifications</button>\r\n<button className=\"w-full text-left px-3 py-2 rounded-md border\">Billing</button>\r\n</div>\r\n\r\n\r\n<div className=\"pt-2 border-t\" />\r\n\r\n\r\n<div className=\"text-xs text-slate-500\">Member since: <span id=\"member-since\">—</span></div>\r\n</aside>\r\n</div>\r\n\r\n\r\n<PasswordModal open={showPasswordModal} onClose={() => setShowPasswordModal(false)} />\r\n</div>\r\n);\r\n}"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AALA;;;;;AAQe,SAAS;IACxB,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,iNAAQ,EAAC;IAG3D,qBACA,8OAAC;QAAI,WAAU;;0BACf,8OAAC;gBAAI,WAAU;;kCACf,8OAAC;wBAAI,WAAU;kCACf,cAAA,8OAAC,qJAAW;4BAAC,kBAAkB,IAAM,qBAAqB;;;;;;;;;;;kCAI1D,8OAAC;wBAAM,WAAU;;0CACjB,8OAAC;;kDACD,8OAAC;wCAAG,WAAU;kDAAuC;;;;;;kDACrD,8OAAC;wCAAI,WAAU;kDAA8B;;;;;;;;;;;;0CAI7C,8OAAC;gCAAI,WAAU;;;;;;0CAGf,8OAAC;gCAAI,WAAU;;kDACf,8OAAC;wCAAO,WAAU;kDAA+C;;;;;;kDACjE,8OAAC;wCAAO,WAAU;kDAA+C;;;;;;kDACjE,8OAAC;wCAAO,WAAU;kDAA+C;;;;;;;;;;;;0CAIjE,8OAAC;gCAAI,WAAU;;;;;;0CAGf,8OAAC;gCAAI,WAAU;;oCAAyB;kDAAc,8OAAC;wCAAK,IAAG;kDAAe;;;;;;;;;;;;;;;;;;;;;;;;0BAK9E,8OAAC,wJAAa;gBAAC,MAAM;gBAAmB,SAAS,IAAM,qBAAqB;;;;;;;;;;;;AAG5E","debugId":null}},
    {"offset": {"line": 1694, "column": 0}, "map": {"version":3,"sources":["file:///E:/Attack%20Capital/SignalHub/frontend/src/app/account/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\n\r\nimport React from \"react\";\r\nimport AccountLayout from \"./Accountlayout\";\r\n\r\n\r\nexport default function Page() {\r\nreturn <AccountLayout />;\r\n}"],"names":[],"mappings":";;;;;AAIA;AAJA;;;AAOe,SAAS;IACxB,qBAAO,8OAAC,kJAAa;;;;;AACrB","debugId":null}}]
}