{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///E:/Attack%20Capital/SignalHub/frontend/src/components/ui/ImageCropper.tsx"],"sourcesContent":["\"use client\";\r\n\r\n\r\nimport React, { useCallback, useEffect, useRef, useState } from \"react\";\r\n// Note: This component uses `react-easy-crop` and a tiny helper to convert crops to blobs.\r\n// Install: npm i react-easy-crop\r\n\r\n\r\nimport Cropper from \"react-easy-crop\";\r\n\r\n\r\nfunction getCroppedImg(imageSrc: string, pixelCrop: any) {\r\nconst canvas = document.createElement(\"canvas\");\r\ncanvas.width = pixelCrop.width;\r\ncanvas.height = pixelCrop.height;\r\nconst ctx = canvas.getContext(\"2d\");\r\nreturn new Promise<Blob | null>((resolve) => {\r\nconst image = new Image();\r\nimage.crossOrigin = \"anonymous\";\r\nimage.onload = () => {\r\nctx!.drawImage(\r\nimage,\r\npixelCrop.x,\r\npixelCrop.y,\r\npixelCrop.width,\r\npixelCrop.height,\r\n0,\r\n0,\r\npixelCrop.width,\r\npixelCrop.height\r\n);\r\ncanvas.toBlob((blob) => resolve(blob), \"image/png\");\r\n};\r\nimage.src = imageSrc;\r\n});\r\n}\r\n\r\n\r\nexport default function ImageCropper({ file, onCancel, onCropped }: { file: File; onCancel: () => void; onCropped: (blobUrl: string) => void }) {\r\nconst [imageSrc, setImageSrc] = useState<string | null>(null);\r\nconst [crop, setCrop] = useState({ x: 0, y: 0 });\r\nconst [zoom, setZoom] = useState(1);\r\nconst [croppedAreaPixels, setCroppedAreaPixels] = useState<any>(null);\r\n\r\n\r\nuseEffect(() => {\r\nconst reader = new FileReader();\r\nreader.onload = () => setImageSrc(reader.result as string);\r\nreader.readAsDataURL(file);\r\n}, [file]);\r\n\r\n\r\nconst onCropComplete = useCallback((_: any, croppedAreaPixelsLocal: any) => {\r\nsetCroppedAreaPixels(croppedAreaPixelsLocal);\r\n}, []);\r\n\r\n\r\nasync function handleDone() {\r\nif (!imageSrc || !croppedAreaPixels) return;\r\nconst blob = await getCroppedImg(imageSrc, croppedAreaPixels);\r\nif (!blob) return alert(\"Failed to crop image\");\r\nconst url = URL.createObjectURL(blob);\r\nonCropped(url);\r\n}\r\n\r\n\r\nreturn (\r\n<div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50\">\r\n<div className=\"bg-white rounded-2xl w-[92%] max-w-3xl p-4\">\r\n<div className=\"flex items-center justify-between mb-2\">\r\n<h3 className=\"text-lg font-semibold\">Adjust your photo</h3>\r\n<div className=\"flex gap-2\">\r\n<button onClick={onCancel} className=\"px-3 py-1 border rounded\">Cancel</button>\r\n<button onClick={handleDone} className=\"px-3 py-1 bg-indigo-600 text-white rounded\">Done</button>\r\n</div>\r\n</div>\r\n\r\n\r\n<div className=\"relative h-80 bg-gray-100 rounded overflow-hidden\">\r\n{imageSrc && (\r\n<Cropper image={imageSrc} crop={crop} zoom={zoom} aspect={1} onCropChange={setCrop} onZoomChange={setZoom} onCropComplete={onCropComplete} />\r\n)}\r\n</div>\r\n\r\n\r\n<div className=\"mt-3 flex items-center gap-4\">\r\n<label className=\"text-xs\">Zoom</label>\r\n<input type=\"range\" min={1} max={3} step={0.01} value={zoom} onChange={(e)=>setZoom(Number(e.target.value))} className=\"w-full\" />\r\n</div>\r\n</div>\r\n</div>\r\n);\r\n}"],"names":[],"mappings":";;;;;AAGA;AACA,2FAA2F;AAC3F,iCAAiC;AAGjC;AARA;;;;AAWA,SAAS,cAAc,QAAgB,EAAE,SAAc;IACvD,MAAM,SAAS,SAAS,aAAa,CAAC;IACtC,OAAO,KAAK,GAAG,UAAU,KAAK;IAC9B,OAAO,MAAM,GAAG,UAAU,MAAM;IAChC,MAAM,MAAM,OAAO,UAAU,CAAC;IAC9B,OAAO,IAAI,QAAqB,CAAC;QACjC,MAAM,QAAQ,IAAI;QAClB,MAAM,WAAW,GAAG;QACpB,MAAM,MAAM,GAAG;YACf,IAAK,SAAS,CACd,OACA,UAAU,CAAC,EACX,UAAU,CAAC,EACX,UAAU,KAAK,EACf,UAAU,MAAM,EAChB,GACA,GACA,UAAU,KAAK,EACf,UAAU,MAAM;YAEhB,OAAO,MAAM,CAAC,CAAC,OAAS,QAAQ,OAAO;QACvC;QACA,MAAM,GAAG,GAAG;IACZ;AACA;AAGe,SAAS,aAAa,EAAE,IAAI,EAAE,QAAQ,EAAE,SAAS,EAA8E;IAC9I,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAgB;IACxD,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC;QAAE,GAAG;QAAG,GAAG;IAAE;IAC9C,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC;IACjC,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,iNAAQ,EAAM;IAGhE,IAAA,kNAAS,EAAC;QACV,MAAM,SAAS,IAAI;QACnB,OAAO,MAAM,GAAG,IAAM,YAAY,OAAO,MAAM;QAC/C,OAAO,aAAa,CAAC;IACrB,GAAG;QAAC;KAAK;IAGT,MAAM,iBAAiB,IAAA,oNAAW,EAAC,CAAC,GAAQ;QAC5C,qBAAqB;IACrB,GAAG,EAAE;IAGL,eAAe;QACf,IAAI,CAAC,YAAY,CAAC,mBAAmB;QACrC,MAAM,OAAO,MAAM,cAAc,UAAU;QAC3C,IAAI,CAAC,MAAM,OAAO,MAAM;QACxB,MAAM,MAAM,IAAI,eAAe,CAAC;QAChC,UAAU;IACV;IAGA,qBACA,8OAAC;QAAI,WAAU;kBACf,cAAA,8OAAC;YAAI,WAAU;;8BACf,8OAAC;oBAAI,WAAU;;sCACf,8OAAC;4BAAG,WAAU;sCAAwB;;;;;;sCACtC,8OAAC;4BAAI,WAAU;;8CACf,8OAAC;oCAAO,SAAS;oCAAU,WAAU;8CAA2B;;;;;;8CAChE,8OAAC;oCAAO,SAAS;oCAAY,WAAU;8CAA6C;;;;;;;;;;;;;;;;;;8BAKpF,8OAAC;oBAAI,WAAU;8BACd,0BACD,8OAAC,mKAAO;wBAAC,OAAO;wBAAU,MAAM;wBAAM,MAAM;wBAAM,QAAQ;wBAAG,cAAc;wBAAS,cAAc;wBAAS,gBAAgB;;;;;;;;;;;8BAK3H,8OAAC;oBAAI,WAAU;;sCACf,8OAAC;4BAAM,WAAU;sCAAU;;;;;;sCAC3B,8OAAC;4BAAM,MAAK;4BAAQ,KAAK;4BAAG,KAAK;4BAAG,MAAM;4BAAM,OAAO;4BAAM,UAAU,CAAC,IAAI,QAAQ,OAAO,EAAE,MAAM,CAAC,KAAK;4BAAI,WAAU;;;;;;;;;;;;;;;;;;;;;;;AAKvH","debugId":null}},
    {"offset": {"line": 172, "column": 0}, "map": {"version":3,"sources":["file:///E:/Attack%20Capital/SignalHub/frontend/src/components/forms/ProfileForm.tsx"],"sourcesContent":["// File: app/account/components/ProfileForm.tsx\r\n\"use client\";\r\n\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport ImageCropper from \"../ui/ImageCropper\";\r\n\r\ntype CountryItem = {\r\n  name: string;\r\n  code: string;\r\n  region?: string;\r\n  languages?: Record<string, string> | string[] | string;\r\n};\r\n\r\ntype Props = { onChangePassword?: () => void };\r\n\r\n/**\r\n * ProfileForm\r\n *\r\n * - Reads country/region/district/language from Profile.metadata (DB)\r\n * - Writes profile fields to server; server persists extras in metadata\r\n * - Preloads states/districts and preselects them when user has values saved\r\n */\r\nexport default function ProfileForm({ onChangePassword }: Props) {\r\n  const [user, setUser] = useState<any | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [editing, setEditing] = useState(false);\r\n  const [saving, setSaving] = useState(false);\r\n\r\n  const [form, setForm] = useState<any>({\r\n    name: \"\",\r\n    displayName: \"\",\r\n    email: \"\",\r\n    phone: \"\",\r\n    avatarUrl: \"\",\r\n    bio: \"\",\r\n    country: \"\",\r\n    region: \"\",\r\n    postalCode: \"\",\r\n    language: \"\",\r\n    district: \"\",\r\n  });\r\n\r\n  // meta lists\r\n  const [countries, setCountries] = useState<CountryItem[]>([]);\r\n  const [languages, setLanguages] = useState<string[]>([]);\r\n\r\n  const [states, setStates] = useState<string[]>([]);\r\n  const [statesLoading, setStatesLoading] = useState(false);\r\n  const [statesError, setStatesError] = useState<string | null>(null);\r\n\r\n  const [districts, setDistricts] = useState<string[]>([]);\r\n  const [districtsLoading, setDistrictsLoading] = useState(false);\r\n  const [districtsError, setDistrictsError] = useState<string | null>(null);\r\n\r\n  // photo cropping\r\n  const [rawFile, setRawFile] = useState<File | null>(null);\r\n  const [cropOpen, setCropOpen] = useState(false);\r\n  const [croppedBlobUrl, setCroppedBlobUrl] = useState<string | null>(null);\r\n\r\n  const fileInputRef = useRef<HTMLInputElement | null>(null);\r\n\r\n  // -------------------------\r\n  // Load meta data (countries + languages)\r\n  // -------------------------\r\n  useEffect(() => {\r\n    let mounted = true;\r\n\r\n    async function loadMeta() {\r\n      try {\r\n        const r = await fetch(\"/api/meta/countries\");\r\n        if (!r.ok) throw new Error(\"meta endpoint failed\");\r\n        const j = await r.json().catch(() => ({ ok: false }));\r\n\r\n        const rawCountries = Array.isArray(j.countries) ? j.countries : (Array.isArray(j) ? j : j?.countries ?? null);\r\n        if (!rawCountries || !Array.isArray(rawCountries) || rawCountries.length === 0) throw new Error(\"no-countries\");\r\n\r\n        const normalized = rawCountries\r\n          .map((c: any) => {\r\n            const name = c?.name?.common ?? c?.name ?? c?.countryName ?? \"\";\r\n            const code = c?.code ?? c?.cca2 ?? \"\";\r\n            const region = c?.region ?? \"\";\r\n            const languages = c?.languages ?? c?.language ?? c?.langs ?? {};\r\n            return { name, code, region, languages };\r\n          })\r\n          .filter((c: any) => c.name);\r\n\r\n        const langSet = new Set<string>();\r\n        for (const c of normalized) {\r\n          if (!c.languages) continue;\r\n          if (typeof c.languages === \"object\" && !Array.isArray(c.languages)) {\r\n            Object.values(c.languages).forEach((ln: any) => typeof ln === \"string\" && ln.trim() && langSet.add(ln));\r\n          } else if (Array.isArray(c.languages)) {\r\n            c.languages.forEach((ln: any) => typeof ln === \"string\" && ln.trim() && langSet.add(ln));\r\n          } else if (typeof c.languages === \"string\") {\r\n            langSet.add(c.languages);\r\n          }\r\n        }\r\n\r\n        if (!mounted) return;\r\n        setCountries(normalized.sort((a, b) => a.name.localeCompare(b.name)));\r\n        setLanguages(Array.from(langSet).sort((a, b) => a.localeCompare(b)));\r\n        return;\r\n      } catch (err) {\r\n        // fallback to restcountries\r\n      }\r\n\r\n      try {\r\n        const fields = \"name,cca2,region,languages\";\r\n        const res2 = await fetch(`https://restcountries.com/v3.1/all?fields=${fields}`);\r\n        if (!res2.ok) throw new Error(\"restcountries failed\");\r\n        const data = await res2.json();\r\n        const countryList: any[] = [];\r\n        const langSet2 = new Set<string>();\r\n        for (const c of data) {\r\n          const name = c?.name?.common ?? c?.name ?? \"\";\r\n          const code = c?.cca2 ?? \"\";\r\n          const region = c?.region ?? \"\";\r\n          countryList.push({ name, code, region, languages: c?.languages ?? {} });\r\n          if (c?.languages) Object.values(c.languages).forEach((l: any) => typeof l === \"string\" && l.trim() && langSet2.add(l));\r\n        }\r\n        if (!mounted) return;\r\n        setCountries(countryList.sort((a, b) => a.name.localeCompare(b.name)));\r\n        setLanguages(Array.from(langSet2).sort((a, b) => a.localeCompare(b)));\r\n      } catch (err) {\r\n        console.error(\"Failed to load countries meta\", err);\r\n        if (!mounted) return;\r\n        setCountries([]);\r\n        setLanguages([]);\r\n      }\r\n    }\r\n\r\n    loadMeta();\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, []);\r\n\r\n  // -------------------------\r\n  // Load user on mount (preselect country/state/district)\r\n  // -------------------------\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    async function load() {\r\n      setLoading(true);\r\n      try {\r\n        const res = await fetch(\"/api/me\", { credentials: \"include\" });\r\n        const json = await res.json().catch(() => ({ ok: false }));\r\n\r\n        if (json?.ok && json.user) {\r\n          const u = json.user;\r\n          const profile = u.profile ?? {};\r\n          const meta = (profile.metadata as any) ?? {};\r\n\r\n          const mapped = {\r\n            name: u.name ?? \"\",\r\n            displayName: profile.displayName ?? meta.displayName ?? \"\",\r\n            avatarUrl: profile.avatarUrl ?? meta.avatarUrl ?? \"\",\r\n            bio: profile.bio ?? meta.bio ?? \"\",\r\n            country: profile.country ?? meta.country ?? meta.countryCode ?? \"\",\r\n            region: profile.region ?? meta.region ?? \"\",\r\n            postalCode:\r\n              profile.postalCode ??\r\n              meta.postalCode ??\r\n              meta.postal_code ??\r\n              \"\",\r\n            language: profile.language ?? meta.language ?? \"\",\r\n            district: profile.district ?? meta.district ?? \"\",\r\n            email: u.email ?? \"\",\r\n            phone: profile.phoneNumber ?? u.phone ?? \"\",\r\n          };\r\n\r\n          if (!mounted) return;\r\n          setUser(u);\r\n          setForm(mapped);\r\n          setCroppedBlobUrl(null);\r\n          // Preload states & districts when appropriate\r\n          if (mapped.country) {\r\n            await fetchStates(mapped.country, mapped.region);\r\n            if (mapped.region) {\r\n              await fetchDistricts(mapped.country, mapped.region, mapped.district);\r\n            }\r\n          }\r\n        } else {\r\n          (window as any).location = \"/login\";\r\n        }\r\n      } catch (err) {\r\n        console.error(\"Failed to load /api/me\", err);\r\n        (window as any).location = \"/login\";\r\n      } finally {\r\n        if (mounted) setLoading(false);\r\n      }\r\n    }\r\n    load();\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  // -------------------------\r\n  // Cascading fetchers\r\n  // -------------------------\r\n  async function fetchStates(countryName: string, preselectState: string = \"\") {\r\n    setStates([]);\r\n    setStatesError(null);\r\n    setStatesLoading(true);\r\n    setForm((p: any) => ({ ...p, region: \"\" }));\r\n    setDistricts([]);\r\n    setForm((p: any) => ({ ...p, district: \"\" }));\r\n\r\n    try {\r\n      const res = await fetch(\"https://countriesnow.space/api/v0.1/countries/states\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ country: countryName }),\r\n      });\r\n      if (!res.ok) throw new Error(`States fetch failed (${res.status})`);\r\n      const json = await res.json();\r\n\r\n      let stateNames: string[] = [];\r\n      if (json?.data) {\r\n        const d = json.data;\r\n        if (Array.isArray(d)) {\r\n          const found = d.find((x: any) => {\r\n            const n = (x?.name ?? \"\").toLowerCase();\r\n            return n === countryName.toLowerCase() || n.includes(countryName.toLowerCase());\r\n          });\r\n          if (found) {\r\n            if (Array.isArray(found.states)) {\r\n              stateNames = (found.states[0] && typeof found.states[0] === \"object\")\r\n                ? found.states.map((s: any) => s.name).filter(Boolean)\r\n                : found.states.slice();\r\n            }\r\n          } else {\r\n            const first = d[0];\r\n            if (first?.states) {\r\n              if (Array.isArray(first.states)) {\r\n                stateNames = (typeof first.states[0] === \"object\")\r\n                  ? first.states.map((s: any) => s.name).filter(Boolean)\r\n                  : first.states.slice();\r\n              }\r\n            }\r\n          }\r\n        } else if (typeof d === \"object\" && Array.isArray(d.states)) {\r\n          stateNames = typeof d.states[0] === \"object\" ? d.states.map((s: any) => s.name).filter(Boolean) : d.states.slice();\r\n        }\r\n      } else if (Array.isArray(json?.states)) {\r\n        stateNames = typeof json.states[0] === \"object\" ? json.states.map((s: any) => s.name).filter(Boolean) : json.states.slice();\r\n      }\r\n\r\n      stateNames = Array.from(new Set(stateNames)).sort((a, b) => a.localeCompare(b));\r\n      setStates(stateNames);\r\n      if (preselectState && stateNames.includes(preselectState)) {\r\n        setForm((p: any) => ({ ...p, region: preselectState }));\r\n      }\r\n    } catch (err: any) {\r\n      console.warn(\"fetchStates error\", err);\r\n      setStatesError(\"Could not load states for this country.\");\r\n    } finally {\r\n      setStatesLoading(false);\r\n    }\r\n  }\r\n\r\n  async function fetchDistricts(countryName: string, stateName: string, preselectDistrict: string = \"\") {\r\n    setDistricts([]);\r\n    setDistrictsError(null);\r\n    setDistrictsLoading(true);\r\n    setForm((p: any) => ({ ...p, district: \"\" }));\r\n\r\n    try {\r\n      const res = await fetch(\"https://countriesnow.space/api/v0.1/countries/state/cities\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ country: countryName, state: stateName }),\r\n      });\r\n      if (!res.ok) throw new Error(`Districts fetch failed (${res.status})`);\r\n      const json = await res.json();\r\n\r\n      let items: string[] = [];\r\n      if (Array.isArray(json?.data)) {\r\n        items = json.data.slice();\r\n      } else if (Array.isArray(json?.cities)) {\r\n        items = json.cities.slice();\r\n      } else if (json?.data?.cities && Array.isArray(json.data.cities)) {\r\n        items = json.data.cities.slice();\r\n      }\r\n\r\n      items = Array.from(new Set(items)).sort((a, b) => a.localeCompare(b));\r\n      setDistricts(items);\r\n      if (preselectDistrict && items.includes(preselectDistrict)) {\r\n        setForm((p: any) => ({ ...p, district: preselectDistrict }));\r\n      }\r\n    } catch (err: any) {\r\n      console.warn(\"fetchDistricts error\", err);\r\n      setDistrictsError(\"Could not load districts for this state.\");\r\n    } finally {\r\n      setDistrictsLoading(false);\r\n    }\r\n  }\r\n\r\n  // on change handlers\r\n  async function onCountryChange(newCountry: string) {\r\n    setForm((p: any) => ({ ...p, country: newCountry, region: \"\", district: \"\" }));\r\n    if (newCountry) {\r\n      await fetchStates(newCountry);\r\n      const found = countries.find((c) => c.name === newCountry || c.code === newCountry);\r\n      if (found?.languages) {\r\n        const vals = Array.isArray(found.languages) ? found.languages : Object.values(found.languages ?? {});\r\n        if (vals.length && !form.language) setForm((p: any) => ({ ...p, language: vals[0] as string }));\r\n      }\r\n    } else {\r\n      setStates([]);\r\n      setDistricts([]);\r\n    }\r\n  }\r\n\r\n  async function onStateChange(newState: string) {\r\n    setForm((p: any) => ({ ...p, region: newState, district: \"\" }));\r\n    if (newState && form.country) {\r\n      await fetchDistricts(form.country, newState);\r\n    } else {\r\n      setDistricts([]);\r\n    }\r\n  }\r\n\r\n  // -------------------------\r\n  // Photo helpers\r\n  // -------------------------\r\n  function handleFileSelect(file?: File | null) {\r\n    if (!file) {\r\n      setRawFile(null);\r\n      return;\r\n    }\r\n    if (!file.type.startsWith(\"image/\")) {\r\n      alert(\"Please select an image file.\");\r\n      return;\r\n    }\r\n    if (file.size > 5 * 1024 * 1024) {\r\n      alert(\"Max 5MB\");\r\n      return;\r\n    }\r\n    setRawFile(file);\r\n    setCropOpen(true);\r\n  }\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      if (croppedBlobUrl) {\r\n        try {\r\n          URL.revokeObjectURL(croppedBlobUrl);\r\n        } catch {}\r\n      }\r\n    };\r\n  }, [croppedBlobUrl]);\r\n\r\n  async function uploadPhoto(file: File | null) {\r\n    if (!file) return form.avatarUrl || null;\r\n    try {\r\n      const fd = new FormData();\r\n      fd.append(\"file\", file);\r\n      const res = await fetch(\"/api/upload\", { method: \"POST\", body: fd });\r\n      const json = await res.json();\r\n      if (json?.ok && json.url) return json.url;\r\n      throw new Error(json?.error || \"Upload failed\");\r\n    } catch (err) {\r\n      console.warn(\"uploadPhoto failed\", err);\r\n      throw err;\r\n    }\r\n  }\r\n\r\n  // -------------------------\r\n  // Save handler\r\n  // -------------------------\r\n  async function handleSave(e?: React.FormEvent) {\r\n    if (e) e.preventDefault();\r\n    setSaving(true);\r\n    try {\r\n      if (!form.name?.trim()) {\r\n        alert(\"Please provide your full name.\");\r\n        setSaving(false);\r\n        return;\r\n      }\r\n\r\n      let avatarUrl = form.avatarUrl ?? null;\r\n      if (croppedBlobUrl) {\r\n        const blob = await (await fetch(croppedBlobUrl)).blob();\r\n        const file = new File([blob], \"avatar.png\", { type: blob.type || \"image/png\" });\r\n        try {\r\n          const uploaded = await uploadPhoto(file);\r\n          if (uploaded) avatarUrl = uploaded;\r\n        } catch (err) {\r\n          alert(\"Failed to upload photo. Please try again.\");\r\n          setSaving(false);\r\n          return;\r\n        }\r\n      }\r\n\r\n      const body = {\r\n        name: form.name,\r\n        phone: form.phone,\r\n        profile: {\r\n          displayName: form.displayName,\r\n          avatarUrl,\r\n          bio: form.bio,\r\n          country: form.country,\r\n          region: form.region,\r\n          district: form.district,\r\n          postalCode: form.postalCode,\r\n          language: form.language,\r\n        },\r\n      };\r\n\r\n      const res = await fetch(\"/api/me\", {\r\n        method: \"PATCH\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        credentials: \"include\",\r\n        body: JSON.stringify(body),\r\n      });\r\n\r\n      if (res.status === 401) {\r\n        alert(\"Session expired — please log in again.\");\r\n        window.location.href = \"/login\";\r\n        return;\r\n      }\r\n\r\n      const json = await res.json().catch(() => ({ ok: false }));\r\n      if (json.ok && json.user) {\r\n        // server returns canonical user with profile relation and metadata\r\n        const u = json.user;\r\n        const profile = u.profile ?? {};\r\n        const meta = (profile.metadata as any) ?? {};\r\n\r\n        const mapped = {\r\n          name: u.name ?? \"\",\r\n          displayName: profile.displayName ?? meta.displayName ?? \"\",\r\n          email: u.email ?? \"\",\r\n          phone: profile.phoneNumber ?? u.phone ?? \"\",\r\n          avatarUrl: profile.avatarUrl ?? meta.avatarUrl ?? avatarUrl ?? \"\",\r\n          bio: profile.bio ?? meta.bio ?? \"\",\r\n          country: profile.country ?? meta.country ?? \"\",\r\n          region: profile.region ?? meta.region ?? \"\",\r\n          district: profile.district ?? meta.district ?? \"\",\r\n          postalCode: profile.postalCode ?? meta.postalCode ?? meta.postal_code ?? \"\",\r\n          language: profile.language ?? meta.language ?? \"\",\r\n        };\r\n\r\n        setUser(u);\r\n        setForm(mapped);\r\n        setEditing(false);\r\n        setCroppedBlobUrl(null);\r\n        setRawFile(null);\r\n\r\n        // preload states/districts for selected country/region\r\n        if (mapped.country) {\r\n          await fetchStates(mapped.country, mapped.region);\r\n          if (mapped.region) await fetchDistricts(mapped.country, mapped.region, mapped.district);\r\n        }\r\n\r\n      \r\n      } else if (json.ok) {\r\n        setUser((u: any) => ({ ...(u ?? {}), name: form.name, phone: form.phone, profile: { ...(u?.profile ?? {}), ...(body.profile ?? {}) } }));\r\n        setEditing(false);\r\n        alert(\"Profile saved (optimistic).\");\r\n      } else {\r\n        alert(json.error || \"Save failed\");\r\n      }\r\n    } catch (err) {\r\n      console.error(\"save error\", err);\r\n      alert(\"Unexpected error while saving.\");\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  }\r\n\r\n  // -------------------------\r\n  // Render\r\n  // -------------------------\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-[50vh] flex items-center justify-center p-6\">\r\n        <div className=\"text-slate-500 animate-pulse\">Loading profile…</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!user) {\r\n    return (\r\n      <div className=\"p-6\">\r\n        <div className=\"rounded bg-white p-6 shadow text-center\">\r\n          No user data — please{\" \"}\r\n          <button className=\"text-indigo-600\" onClick={() => (window.location.href = \"/login\")}>\r\n            sign in\r\n          </button>\r\n          .\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // helpers to read metadata-aware values for display (prefer explicit columns, then metadata)\r\n  const profile = user.profile ?? {};\r\n  const meta = (profile.metadata as any) ?? {};\r\n\r\n  const displayCountry = profile.country ?? meta.country ?? \"—\";\r\n  const displayRegion = profile.region ?? meta.region ?? \"—\";\r\n  const displayDistrict = profile.district ?? meta.district ?? \"—\";\r\n  const displayPostal = profile.postalCode ?? meta.postalCode ?? meta.postal_code ?? \"—\";\r\n  const displayLanguage = profile.language ?? meta.language ?? \"—\";\r\n\r\n  return (\r\n    <div className=\"bg-gradient-to-tr from-white via-slate-50 to-white rounded-2xl p-6 shadow-md border-none\">\r\n      <div className=\"flex gap-6\">\r\n        {/* Avatar */}\r\n        <div className=\"relative flex-shrink-0\">\r\n          <div className=\"w-32 h-32 rounded-2xl bg-gradient-to-br from-indigo-50 to-emerald-50 overflow-hidden flex items-center justify-center border-2 border-white shadow-lg\">\r\n            {croppedBlobUrl || form.avatarUrl ? (\r\n              // eslint-disable-next-line @next/next/no-img-element\r\n              <img src={croppedBlobUrl ?? form.avatarUrl!} alt=\"avatar\" className=\"w-full h-full object-cover\" />\r\n            ) : (\r\n              <div className=\"text-4xl font-semibold text-slate-700\">{(form.name || form.email || \"U\").charAt(0)}</div>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"absolute -right-3 -bottom-3 flex gap-2\">\r\n            <button\r\n              onClick={() => {\r\n                setEditing(true);\r\n                fileInputRef.current?.click();\r\n              }}\r\n              className=\"inline-flex items-center gap-2 px-3 py-1 rounded-md bg-white border shadow-sm text-xs\"\r\n            >\r\n              Upload\r\n            </button>\r\n\r\n            <button\r\n              onClick={() => {\r\n                setRawFile(null);\r\n                setCroppedBlobUrl(null);\r\n                setForm((p: any) => ({ ...p, avatarUrl: profile.avatarUrl ?? meta.avatarUrl ?? \"\" }));\r\n              }}\r\n              className=\"inline-flex items-center gap-2 px-3 py-1 rounded-md bg-white border shadow-sm text-xs\"\r\n            >\r\n              Revert\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Heading & actions */}\r\n        <div className=\"flex-1\">\r\n          <div className=\"flex items-center justify-between gap-4\">\r\n            <div>\r\n              <h1 className=\"text-2xl font-extrabold text-slate-900\">{user.name || user.email}</h1>\r\n              <div className=\"text-sm text-slate-500\">{user.email}</div>\r\n              <div className=\"mt-3 inline-flex items-center gap-2\">\r\n                <div className=\"text-xs px-2 py-1 rounded bg-emerald-50 text-emerald-700 border border-emerald-100\">{user.role ?? \"Member\"}</div>\r\n                <div className=\"text-xs px-2 py-1 rounded bg-slate-50 text-slate-600\">Joined {new Date(user.createdAt).toLocaleDateString()}</div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex gap-2\">\r\n              <button\r\n                onClick={() => (editing ? handleSave() : setEditing(true))}\r\n                className={`inline-flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium shadow-sm ${editing ? \"bg-indigo-600 text-white\" : \"bg-white border\"}`}\r\n                disabled={saving}\r\n              >\r\n                {editing ? (saving ? \"Saving…\" : \"Save\") : \"Edit\"}\r\n              </button>\r\n\r\n              <button onClick={() => (window.location.href = \"/\")} className=\"inline-flex items-center gap-2 px-3 py-2 rounded-lg text-sm border bg-white\">\r\n                Back\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <p className=\"mt-4 text-sm text-slate-600\">A modern profile editor with smart cascading selects and image cropper. All changes are saved to your account.</p>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"mt-6\">\r\n        {!editing ? (\r\n          // display mode\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n            <div className=\"space-y-3\">\r\n              <h2 className=\"text-sm font-semibold text-slate-600\">Profile</h2>\r\n              <div className=\"mt-3 space-y-3\">\r\n                <div>\r\n                  <div className=\"text-xs text-slate-500\">Full name</div>\r\n                  <div className=\"font-medium text-slate-800 \">{user.name ?? \"—\"}</div>\r\n                </div>\r\n                <div>\r\n                  <div className=\"text-xs text-slate-500\">Display name</div>\r\n                  <div className=\"font-medium text-slate-800\">{profile.displayName ?? meta.displayName ?? \"—\"}</div>\r\n                </div>\r\n                <div>\r\n                  <div className=\"text-xs text-slate-500\">Phone</div>\r\n                  <div className=\"font-medium text-slate-800\">{user.phone ?? profile.phoneNumber ?? \"—\"}</div>\r\n                </div>\r\n                <div>\r\n                  <div className=\"text-xs text-slate-500\">Bio</div>\r\n                  <div className=\"font-medium whitespace-pre-wrap text-slate-800\">{profile.bio ?? meta.bio ?? \"—\"}</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"space-y-3\">\r\n              <h2 className=\"text-sm font-semibold text-slate-600\">Location & language</h2>\r\n              <div className=\"mt-3 space-y-3\">\r\n                <div>\r\n                  <div className=\"text-xs text-slate-500\">Country</div>\r\n                  <div className=\"font-medium text-slate-800\">{displayCountry}</div>\r\n                </div>\r\n                <div>\r\n                  <div className=\"text-xs text-slate-500\">Region / State</div>\r\n                  <div className=\"font-medium text-slate-800\">{displayRegion}</div>\r\n                </div>\r\n                <div>\r\n                  <div className=\"text-xs text-slate-500\">District</div>\r\n                  <div className=\"font-medium text-slate-800\">{displayDistrict}</div>\r\n                </div>\r\n                <div>\r\n                  <div className=\"text-xs text-slate-500\">Postal code</div>\r\n                  <div className=\"font-medium text-slate-800\">{displayPostal}</div>\r\n                </div>\r\n                <div>\r\n                  <div className=\"text-xs text-slate-500\">Language</div>\r\n                  <div className=\"font-medium text-slate-800\">{displayLanguage}</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          // edit form\r\n          <form onSubmit={handleSave} className=\"space-y-6 mt-4\">\r\n            <input ref={fileInputRef} type=\"file\" accept=\"image/*\" onChange={(e) => handleFileSelect(e.target.files?.[0] ?? null)} className=\"hidden\" />\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 \">\r\n              <FloatingInput label=\"Full name\" value={form.name} onChange={(v) => setForm({ ...form, name: v })} required />\r\n              <FloatingInput label=\"Display name\" value={form.displayName} onChange={(v) => setForm({ ...form, displayName: v })} />\r\n              <FloatingInput label=\"Phone\" value={form.phone} onChange={(v) => setForm({ ...form, phone: v })} />\r\n              <FloatingInput label=\"Postal code\" value={form.postalCode} onChange={(v) => setForm({ ...form, postalCode: v })} />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"text-xs text-slate-500\">Bio</label>\r\n              <textarea value={form.bio} onChange={(e) => setForm({ ...form, bio: e.target.value })} rows={4} className=\"w-full mt-1 p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-200 border-none bg-indigo-50\" placeholder=\"Tell people about yourself — what you do and what you care about.\" />\r\n            </div>\r\n\r\n            {/* Cascading selects */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n              <div className=\"border-none\">\r\n                <label className=\"text-xs text-slate-500\">Country</label>\r\n                <div className=\"mt-1\">\r\n                  <select value={form.country} onChange={(e) => onCountryChange(e.target.value)} className=\"w-full p-3 border rounded-lg bg-indigo-50 border-none\">\r\n                    <option value=\"\">— Select country —</option>\r\n                    {countries.map((c) => (\r\n                      <option key={c.name + c.code} value={c.name}>\r\n                        {c.name} {c.region ? `(${c.region})` : \"\"}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"text-xs text-slate-500\">Region / State</label>\r\n                <div className=\"mt-1\">\r\n                  {statesLoading ? (\r\n                    <div className=\"p-3 text-sm text-slate-400\">Loading states…</div>\r\n                  ) : statesError ? (\r\n                    <div className=\"p-3 text-sm text-rose-500\">{statesError}</div>\r\n                  ) : (\r\n                    <select value={form.region} onChange={(e) => onStateChange(e.target.value)} className=\"w-full p-3 border rounded-lg bg-indigo-50 border-none\" disabled={!form.country || states.length === 0}>\r\n                      <option value=\"\">— Select region / state —</option>\r\n                      {states.map((s) => (\r\n                        <option key={s} value={s}>\r\n                          {s}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  )}\r\n                </div>\r\n                <div className=\"text-xs text-slate-400 mt-1\">{form.country ? \"Select a state — loaded from public geo API.\" : \"Select a country first.\"}</div>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"text-xs text-slate-500\">District / City</label>\r\n                <div className=\"mt-1\">\r\n                  {districtsLoading ? (\r\n                    <div className=\"p-3 text-sm text-slate-400\">Loading districts…</div>\r\n                  ) : districtsError ? (\r\n                    <div className=\"p-3 text-sm text-rose-500\">{districtsError}</div>\r\n                  ) : (\r\n                    <select value={form.district} onChange={(e) => setForm({ ...form, district: e.target.value })} className=\"w-full p-3 border rounded-lg bg-indigo-50 border-none\" disabled={!form.region || districts.length === 0}>\r\n                      <option value=\"\">— Select district / city —</option>\r\n                      {districts.map((d) => (\r\n                        <option key={d} value={d}>\r\n                          {d}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  )}\r\n                </div>\r\n                <div className=\"text-xs text-slate-400 mt-1\">{form.region ? \"Choose district / city (if available)\" : \"Select a state to load districts.\"}</div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Language */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n              <div>\r\n                <label className=\"text-xs text-slate-500\">Language</label>\r\n                <div className=\"mt-1\">\r\n                  <select value={form.language} onChange={(e) => setForm({ ...form, language: e.target.value })} className=\"w-full p-3 border rounded-lg bg-indigo-50 border-none\">\r\n                    <option value=\"\">— Preferred language —</option>\r\n                    {languages.map((l) => (\r\n                      <option key={l} value={l}>\r\n                        {l}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n              </div>\r\n              <div />\r\n              <div />\r\n            </div>\r\n\r\n            {/* Photo UI */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 items-center\">\r\n              <div>\r\n                <label className=\"text-xs text-slate-500\">Profile photo</label>\r\n                <div className=\"mt-2 flex items-center gap-4\">\r\n                  <div className=\"w-24 h-24 rounded-xl bg-slate-100 overflow-hidden flex items-center justify-center border\">\r\n                    {croppedBlobUrl || form.avatarUrl ? (\r\n                      // eslint-disable-next-line @next/next/no-img-element\r\n                      <img src={croppedBlobUrl ?? form.avatarUrl!} alt=\"preview\" className=\"w-full h-full object-cover\" />\r\n                    ) : (\r\n                      <div className=\"text-2xl text-slate-500\">{(form.name || \"U\").charAt(0)}</div>\r\n                    )}\r\n                  </div>\r\n\r\n                  <div className=\"flex flex-col gap-2\">\r\n                    <button type=\"button\" onClick={() => fileInputRef.current?.click()} className=\"px-3 py-2 rounded-md border text-sm inline-flex items-center gap-2\">\r\n                      Upload\r\n                    </button>\r\n                    <button type=\"button\" onClick={() => { setRawFile(null); setCroppedBlobUrl(null); setForm((p: any) => ({ ...p, avatarUrl: \"\" })); }} className=\"px-3 py-2 rounded-md border text-sm inline-flex items-center gap-2\">\r\n                      Remove\r\n                    </button>\r\n\r\n                    <div className=\"text-xs text-slate-400\">Max 5 MB. JPG/PNG/GIF accepted.</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"md:col-span-2\">\r\n                <label className=\"text-xs text-slate-500\">Profile preview URL</label>\r\n                <input value={form.avatarUrl} onChange={(e) => setForm({ ...form, avatarUrl: e.target.value })} placeholder=\"Direct image URL (optional)\" className=\"w-full mt-1 p-3 border rounded-lg bg-indigo-50 border-none\" />\r\n                <div className=\"text-xs text-slate-400 mt-1\">If you paste an image URL it will be used unless you upload a new file.</div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex gap-3 justify-end\">\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => {\r\n                  setEditing(false);\r\n                  // revert from user + metadata\r\n                  const profile = user.profile ?? {};\r\n                  const meta = (profile.metadata as any) ?? {};\r\n                  setForm({\r\n                    name: user.name ?? \"\",\r\n                    displayName: profile.displayName ?? meta.displayName ?? \"\",\r\n                    email: user.email ?? \"\",\r\n                    phone: profile.phoneNumber ?? user.phone ?? \"\",\r\n                    avatarUrl: profile.avatarUrl ?? meta.avatarUrl ?? \"\",\r\n                    bio: profile.bio ?? meta.bio ?? \"\",\r\n                    country: profile.country ?? meta.country ?? \"\",\r\n                    region: profile.region ?? meta.region ?? \"\",\r\n                    postalCode: profile.postalCode ?? meta.postalCode ?? meta.postal_code ?? \"\",\r\n                    language: profile.language ?? meta.language ?? \"\",\r\n                    district: profile.district ?? meta.district ?? \"\",\r\n                  });\r\n                  setCroppedBlobUrl(null);\r\n                  setRawFile(null);\r\n                }}\r\n                className=\"px-4 py-2 border rounded-lg\"\r\n                disabled={saving}\r\n              >\r\n                Cancel\r\n              </button>\r\n\r\n              <button type=\"submit\" disabled={saving} className=\"px-4 py-2 bg-indigo-700 text-white rounded-lg\">\r\n                {saving ? \"Saving…\" : \"Save profile\"}\r\n              </button>\r\n            </div>\r\n          </form>\r\n        )}\r\n      </div>\r\n\r\n      {/* Image cropper modal */}\r\n      {cropOpen && rawFile && (\r\n        <ImageCropper\r\n          file={rawFile}\r\n          onCancel={() => {\r\n            setCropOpen(false);\r\n            setRawFile(null);\r\n          }}\r\n          onCropped={(url) => {\r\n            setCroppedBlobUrl(url);\r\n            setCropOpen(false);\r\n          }}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n/** FloatingInput – small presentational input with floating label */\r\nfunction FloatingInput({ label, value, onChange, required }: { label: string; value: string; onChange: (v: string) => void; required?: boolean }) {\r\n  return (\r\n    <label className=\"relative block\">\r\n      <span className={`pointer-events-none -translate-y-3 absolute left-3 top-2 text-xs transition-all ${value ? \"-translate-y-4 text-indigo-600\" : \"text-slate-500\"}`}>{label}{required ? \" *\" : \"\"}</span>\r\n      <input value={value} onChange={(e) => onChange(e.target.value)} className=\"w-full mt-4 p-3 pt-6 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-200 border-none bg-indigo-50\" />\r\n    </label>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1828, "column": 0}, "map": {"version":3,"sources":["file:///E:/Attack%20Capital/SignalHub/frontend/src/components/modals/PasswordModal.tsx"],"sourcesContent":["\"use client\";\r\n\r\n\r\nimport React, { useEffect, useState } from \"react\";\r\n\r\n\r\nexport default function PasswordModal({ open, onClose }: { open: boolean; onClose: () => void }) {\r\nconst [step, setStep] = useState<\"verify\" | \"change\">(\"verify\");\r\nconst [verifying, setVerifying] = useState(false);\r\nconst [oldPassword, setOldPassword] = useState(\"\");\r\n\r\n\r\nconst [newPassword, setNewPassword] = useState(\"\");\r\nconst [rePassword, setRePassword] = useState(\"\");\r\nconst [showNew, setShowNew] = useState(false);\r\nconst [showRe, setShowRe] = useState(false);\r\nconst [saving, setSaving] = useState(false);\r\nconst [errors, setErrors] = useState<string[]>([]);\r\n\r\n\r\nuseEffect(()=>{ if(!open){ setTimeout(()=>{ setStep(\"verify\"); setOldPassword(\"\"); setNewPassword(\"\"); setRePassword(\"\"); setErrors([]); }, 200); } }, [open]);\r\n\r\n\r\nif (!open) return null;\r\n\r\n\r\nasync function handleVerify() {\r\nsetVerifying(true);\r\ntry {\r\nconst res = await fetch(\"/api/auth/verify-old-password\", { method: \"POST\", body: JSON.stringify({ password: oldPassword }), headers: { \"Content-Type\": \"application/json\" } });\r\nconst j = await res.json().catch(()=>({ ok: false }));\r\nif (j.ok) {\r\nsetStep(\"change\");\r\n} else {\r\nalert(j.error || \"Verification failed\");\r\n}\r\n} catch (err) {\r\nconsole.error(err);\r\nalert(\"Unexpected error verifying password\");\r\n} finally {\r\nsetVerifying(false);\r\n}\r\n}\r\n\r\n\r\nfunction validatePassword(pw: string) {\r\nconst errs: string[] = [];\r\nif (pw.length < 8) errs.push(\"At least 8 characters\");\r\nif (!/[A-Z]/.test(pw)) errs.push(\"One uppercase letter\");\r\nif (!/[a-z]/.test(pw)) errs.push(\"One lowercase letter\");\r\nif (!/[0-9]/.test(pw)) errs.push(\"One number\");\r\nif (!/[^A-Za-z0-9]/.test(pw)) errs.push(\"One special character\");\r\nreturn errs;\r\n}\r\n\r\n\r\nasync function handleChange() {\r\nsetErrors([]);\r\nconst errs = validatePassword(newPassword);\r\nif (errs.length) return setErrors(errs);\r\nif (newPassword !== rePassword) return setErrors([\"Passwords do not match\"]);\r\nsetSaving(true);\r\ntry {\r\nconst res = await fetch(\"/api/auth/change-password\", { method: \"POST\", body: JSON.stringify({ newPassword }), headers: { \"Content-Type\": \"application/json\" } });\r\nconst j = await res.json().catch(()=>({ ok: false }));\r\nif (j.ok) {\r\nalert(\"Password changed\");\r\nonClose();\r\n} else {\r\nalert(j.error || \"Failed to change password\");\r\n}\r\n} catch (err) {\r\nconsole.error(err);\r\nalert(\"Unexpected error\");\r\n} finally {\r\nsetSaving(false);\r\n}\r\n}\r\nreturn (\r\n<div className=\"fixed inset-0 z-60 flex items-center justify-center bg-black/40\">\r\n<div className=\"bg-white rounded-2xl w-[92%] max-w-xl p-6\">\r\n<div className=\"flex items-center justify-between mb-4\">\r\n<h3 className=\"text-lg font-semibold\">Change password</h3>\r\n<button onClick={onClose} className=\"text-slate-500\">Close</button>\r\n</div>\r\n\r\n\r\n{step === \"verify\" ? (\r\n<div>\r\n<p className=\"text-sm text-slate-600\">To change your password, verify your current password first.</p>\r\n<div className=\"mt-4\">\r\n<label className=\"text-xs text-slate-500\">Current password</label>\r\n<input type=\"password\" value={oldPassword} onChange={(e)=>setOldPassword(e.target.value)} className=\"w-full mt-1 p-3 border rounded-lg\" />\r\n</div>\r\n\r\n\r\n<div className=\"mt-4 flex justify-end gap-2\">\r\n<button onClick={onClose} className=\"px-3 py-2 border rounded\">Cancel</button>\r\n<button onClick={handleVerify} disabled={verifying} className=\"px-3 py-2 bg-indigo-600 text-white rounded\">{verifying ? \"Verifying…\" : \"Verify\"}</button>\r\n</div>\r\n</div>\r\n) : (\r\n<div>\r\n<p className=\"text-sm text-slate-600\">Enter a strong new password. It will be hidden after saving.</p>\r\n\r\n\r\n<div className=\"mt-4\">\r\n<label className=\"text-xs text-slate-500\">New password</label>\r\n<div className=\"relative\">\r\n<input type={showNew ? \"text\" : \"password\"} value={newPassword} onChange={(e)=>setNewPassword(e.target.value)} className=\"w-full mt-1 p-3 border rounded-lg pr-10\" />\r\n<button type=\"button\" onClick={()=>setShowNew(!showNew)} className=\"absolute right-2 top-3 text-sm\">{showNew ? 'Hide' : 'Show'}</button>\r\n</div>\r\n</div>\r\n\r\n\r\n<div className=\"mt-3\">\r\n<label className=\"text-xs text-slate-500\">Re-enter new password</label>\r\n<div className=\"relative\">\r\n<input type={showRe ? \"text\" : \"password\"} value={rePassword} onChange={(e)=>setRePassword(e.target.value)} className=\"w-full mt-1 p-3 border rounded-lg pr-10\" />\r\n<button type=\"button\" onClick={()=>setShowRe(!showRe)} className=\"absolute right-2 top-3 text-sm\">{showRe ? 'Hide' : 'Show'}</button>\r\n</div>\r\n</div>\r\n\r\n\r\n{errors.length > 0 && (\r\n<div className=\"mt-3 text-rose-500\">\r\n{errors.map((e,i)=>(<div key={i} className=\"text-sm\">• {e}</div>))}\r\n</div>\r\n)}\r\n\r\n\r\n<div className=\"mt-4 flex justify-end gap-2\">\r\n<button onClick={()=>setStep('verify')} className=\"px-3 py-2 border rounded\">Back</button>\r\n<button onClick={handleChange} disabled={saving} className=\"px-3 py-2 bg-emerald-600 text-white rounded\">{saving ? 'Saving…' : 'Save password'}</button>\r\n</div>\r\n</div>\r\n)}\r\n</div>\r\n</div>\r\n);\r\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2202, "column": 0}, "map": {"version":3,"sources":["file:///E:/Attack%20Capital/SignalHub/frontend/src/app/account/Accountlayout.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { motion } from \"framer-motion\";\r\nimport { Sparkles, ArrowRight } from \"lucide-react\";\r\nimport ProfileForm from \"../../components/forms/ProfileForm\";\r\nimport PasswordModal from \"../../components/modals/PasswordModal\";\r\nimport ProfileMenu from \"../../components/forms/ProfileMenu\";\r\n\r\ntype MeResponse = {\r\n  ok: boolean;\r\n  user?: {\r\n    id: string;\r\n    name: string;\r\n    email?: string;\r\n    phone?: string;\r\n    role?: \"ADMIN\" | \"MANAGER\" | \"EMPLOYEE\" | string;\r\n    createdAt?: string;\r\n    profile?: any;\r\n    organization?: {\r\n      id: string;\r\n      name: string;\r\n    } | null;\r\n  } | null;\r\n  error?: string | null;\r\n};\r\n\r\nexport default function AccountLayout() {\r\n  const [showPasswordModal, setShowPasswordModal] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n  const [me, setMe] = useState<MeResponse[\"user\"] | null>(null);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    setLoading(true);\r\n    fetch(\"/api/me\", { cache: \"no-store\" })\r\n      .then((res) => res.json())\r\n      .then((data: MeResponse) => {\r\n        if (!mounted) return;\r\n        if (data?.ok && data.user) {\r\n          setMe(data.user);\r\n          setError(null);\r\n        } else {\r\n          setError(data?.error ?? \"Failed to load profile\");\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.error(\"Failed to fetch /api/me:\", err);\r\n        if (!mounted) return;\r\n        setError(\"Failed to load profile\");\r\n      })\r\n      .finally(() => {\r\n        if (mounted) setLoading(false);\r\n      });\r\n\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, []);\r\n\r\n  const orgName = me?.organization?.name ?? null;\r\n  const orgId = me?.organization?.id ?? null;\r\n  const role = me?.role ?? null;\r\n  const memberSince = me?.createdAt ? new Date(me.createdAt).toLocaleDateString() : \"—\";\r\n\r\n  return (\r\n    <div className=\"p-6 max-w-6xl mx-auto\">\r\n      {/* Page header */}\r\n      <motion.header\r\n        initial={{ opacity: 0, y: -8 }}\r\n        animate={{ opacity: 1, y: 0 }}\r\n        transition={{ duration: 0.35 }}\r\n        className=\"mb-6 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\"\r\n      >\r\n        <div>\r\n          <div className=\"flex items-baseline gap-3\">\r\n            <h1 className=\"text-2xl font-bold text-slate-800\">Account settings</h1>\r\n            {/* organization name (shows once loaded) */}\r\n            {loading ? (\r\n              <div className=\"text-sm text-slate-400\">Loading organization…</div>\r\n            ) : orgName ? (\r\n              <div className=\"text-sm text-slate-600 bg-slate-50 px-2 py-1 rounded-full border border-slate-100\">\r\n                Organization: <strong className=\"ml-2\">{orgName}</strong>\r\n              </div>\r\n            ) : (\r\n              <div className=\"text-sm text-rose-500\">No organization</div>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"mt-1 text-sm text-slate-500 flex items-center gap-2\">\r\n            <Sparkles className=\"w-4 h-4 text-slate-400\" />\r\n            Manage your personal info, security, and visibility\r\n            {/* small role badge */}\r\n            {!loading && role ? (\r\n              <span\r\n                className={`ml-3 inline-flex items-center gap-2 px-2 py-0.5 text-xs rounded-full border ${\r\n                  role === \"ADMIN\"\r\n                    ? \"bg-emerald-50 text-emerald-700 border-emerald-100\"\r\n                    : \"bg-slate-50 text-slate-700 border-slate-100\"\r\n                }`}\r\n                title={`Role: ${role}`}\r\n              >\r\n                {role}\r\n              </span>\r\n            ) : null}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"hidden sm:flex items-center gap-3\">\r\n          {/* Quick access button (styled like Sidebar Quick Actions) */}\r\n          <motion.button\r\n            whileHover={{ scale: 1.03 }}\r\n            whileTap={{ scale: 0.97 }}\r\n            className=\"inline-flex items-center gap-2 px-3 py-2 rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 text-white font-semibold shadow-lg shadow-blue-500/20\"\r\n            onClick={() => {\r\n              // Example: open billing or upgrade modal — keep stubbed here\r\n              console.log(\"Upgrade clicked\");\r\n            }}\r\n            aria-label=\"Upgrade account\"\r\n          >\r\n            Upgrade\r\n            <ArrowRight className=\"w-4 h-4\" />\r\n          </motion.button>\r\n\r\n          {/* Optional profile quick menu (keeps feel consistent with Sidebar profile) */}\r\n          <div className=\"bg-white rounded-xl p-1 border border-slate-100\">\r\n            <ProfileMenu />\r\n          </div>\r\n        </div>\r\n      </motion.header>\r\n\r\n      {/* Main grid: left = form, right = aside (mirrors Sidebar column proportions) */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6 items-start\">\r\n        {/* Main form area */}\r\n        <motion.main\r\n          className=\"lg:col-span-2 bg-white rounded-2xl p-6 shadow-sm border border-slate-200\"\r\n          initial={{ opacity: 0, y: 8 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ duration: 0.4 }}\r\n        >\r\n          <div className=\"flex items-center justify-between mb-4\">\r\n            <div>\r\n              <h2 className=\"text-lg font-semibold text-slate-800\">Profile</h2>\r\n              <div className=\"text-sm text-slate-500\">Edit your profile details and preferences.</div>\r\n            </div>\r\n\r\n            {/* Mobile-only quick action: show password modal */}\r\n            <div className=\"sm:hidden\">\r\n              <motion.button\r\n                whileHover={{ scale: 1.03 }}\r\n                whileTap={{ scale: 0.97 }}\r\n                onClick={() => setShowPasswordModal(true)}\r\n                className=\"px-3 py-2 rounded-lg border text-sm bg-slate-50\"\r\n              >\r\n                Change password\r\n              </motion.button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Show any fetch error */}\r\n          {error ? (\r\n            <div className=\"mb-4 rounded-md bg-rose-50 border border-rose-100 p-3 text-sm text-rose-700\">\r\n              {error}\r\n            </div>\r\n          ) : null}\r\n\r\n          {/* Profile form component (keeps onChangePassword hook similar to original) */}\r\n          <ProfileForm onChangePassword={() => setShowPasswordModal(true)} />\r\n        </motion.main>\r\n\r\n        {/* Aside: account summary + quick actions (styled to match Sidebar) */}\r\n        <motion.aside\r\n          className=\"bg-white rounded-2xl p-6 shadow-md border border-slate-100 flex flex-col gap-6\"\r\n          initial={{ opacity: 0, x: 8 }}\r\n          animate={{ opacity: 1, x: 0 }}\r\n          transition={{ duration: 0.4, delay: 0.05 }}\r\n        >\r\n          <div>\r\n            <h3 className=\"text-sm font-semibold text-slate-700\">Account</h3>\r\n            <div className=\"mt-3 text-sm text-slate-500\">Manage your account settings and profile visibility.</div>\r\n          </div>\r\n\r\n          <div className=\"pt-2 border-t\" />\r\n\r\n          {/* Organization card */}\r\n          <div>\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <div className=\"text-xs text-slate-500\">Organization</div>\r\n                <div className=\"text-sm font-medium text-slate-800\">\r\n                  {loading ? \"Loading…\" : orgName ?? \"—\"}\r\n                </div>\r\n                <div className=\"text-xs text-slate-500 mt-1\">Member since: <span id=\"member-since\">{memberSince}</span></div>\r\n              </div>\r\n\r\n              {/* Admin quick action */}\r\n              {!loading && role === \"ADMIN\" && orgId ? (\r\n                <div>\r\n                  <a\r\n                    href={`/dashboard/admin/overview`}\r\n                    onClick={(e) => {\r\n                      // let the link navigate naturally; if you want client routing replace with router.push\r\n                    }}\r\n                    className=\"inline-flex items-center gap-2 px-3 py-1 rounded-md border bg-white hover:bg-slate-50 text-sm\"\r\n                    title=\"Manage organization\"\r\n                  >\r\n                    Manage\r\n                    <ArrowRight className=\"w-3 h-3\" />\r\n                  </a>\r\n                </div>\r\n              ) : null}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"pt-2 border-t\" />\r\n\r\n          {/* Actions list (styled like buttons in your original but with hover/motion) */}\r\n          <div className=\"flex flex-col gap-2\">\r\n            <motion.button\r\n              whileHover={{ scale: 1.02 }}\r\n              whileTap={{ scale: 0.98 }}\r\n              onClick={() => setShowPasswordModal(true)}\r\n              className=\"w-full text-left px-3 py-2 rounded-md border border-slate-100 bg-white hover:bg-slate-50 transition\"\r\n            >\r\n              Security & password\r\n            </motion.button>\r\n\r\n            <motion.button\r\n              whileHover={{ scale: 1.02 }}\r\n              whileTap={{ scale: 0.98 }}\r\n              className=\"w-full text-left px-3 py-2 rounded-md border border-slate-100 bg-white hover:bg-slate-50 transition\"\r\n              onClick={() => {\r\n                // Open notification settings route/modal\r\n                console.log(\"Notifications clicked\");\r\n              }}\r\n            >\r\n              Notifications\r\n            </motion.button>\r\n\r\n            <motion.button\r\n              whileHover={{ scale: 1.02 }}\r\n              whileTap={{ scale: 0.98 }}\r\n              className=\"w-full text-left px-3 py-2 rounded-md border border-slate-100 bg-white hover:bg-slate-50 transition\"\r\n              onClick={() => {\r\n                // Open billing\r\n                console.log(\"Billing clicked\");\r\n              }}\r\n            >\r\n              Billing\r\n            </motion.button>\r\n          </div>\r\n\r\n          <div className=\"pt-2 border-t\" />\r\n\r\n          {/* Keep a small ProfileMenu copy for quick access, matching Sidebar's bottom area */}\r\n          <div className=\"pt-1\">\r\n            <ProfileMenu />\r\n          </div>\r\n        </motion.aside>\r\n      </div>\r\n\r\n      {/* Password modal */}\r\n      <PasswordModal open={showPasswordModal} onClose={() => setShowPasswordModal(false)} />\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2751, "column": 0}, "map": {"version":3,"sources":["file:///E:/Attack%20Capital/SignalHub/frontend/src/app/account/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\n\r\nimport React from \"react\";\r\nimport AccountLayout from \"./Accountlayout\";\r\n\r\n\r\nexport default function Page() {\r\nreturn <AccountLayout />;\r\n}"],"names":[],"mappings":";;;;;AAIA;AAJA;;;AAOe,SAAS;IACxB,qBAAO,8OAAC,kJAAa;;;;;AACrB","debugId":null}}]
}