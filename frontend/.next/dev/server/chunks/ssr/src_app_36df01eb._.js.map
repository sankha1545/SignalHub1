{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///E:/Attack%20Capital/SignalHub/frontend/src/app/ui/forms/Schedule-meeting/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useMemo, useState } from \"react\";\r\nimport { motion } from \"framer-motion\";\r\nimport { X, Clock, Calendar, User, Bell } from \"lucide-react\";\r\n\r\n/**\r\n * ScheduleMeetingForm\r\n *\r\n * Props:\r\n * - team: the team object (contains members array)\r\n * - onClose: () => void\r\n * - onSchedule: (meeting) => void  // meeting contains organizer, meetingTime (ISO), reminderBefore (minutes), inviteTime (ISO), teamId\r\n *\r\n * Behavior:\r\n * - User selects organizer name, meeting date-time (datetime-local), reminder before (select)\r\n * - The component computes inviteTime = meetingTime - reminderBefore (minutes)\r\n * - On submit, calls onSchedule with meeting object including inviteTime\r\n *\r\n * Note: This is a client-side form. For real invites, hook onSchedule to an API that will persist & schedule notifications.\r\n */\r\n\r\ntype Member = { name: string; initials?: string };\r\n\r\nexport default function ScheduleMeetingForm({\r\n  team,\r\n  onClose,\r\n  onSchedule,\r\n}: {\r\n  team: any;\r\n  onClose: () => void;\r\n  onSchedule: (meeting: any) => void;\r\n}) {\r\n  const [organizer, setOrganizer] = useState(\"\");\r\n  const [meetingTime, setMeetingTime] = useState<string>(() => {\r\n    // default: next hour rounded to next 30 minutes in local time (helps UX)\r\n    const d = new Date();\r\n    d.setMinutes(0, 0, 0);\r\n    d.setHours(d.getHours() + 1);\r\n    // format to yyyy-MM-ddTHH:mm for input value\r\n    const pad = (n: number) => (n < 10 ? `0${n}` : `${n}`);\r\n    const yyyy = d.getFullYear();\r\n    const mm = pad(d.getMonth() + 1);\r\n    const dd = pad(d.getDate());\r\n    const hh = pad(d.getHours());\r\n    const min = pad(d.getMinutes());\r\n    return `${yyyy}-${mm}-${dd}T${hh}:${min}`;\r\n  });\r\n\r\n  const reminderOptions = [10, 20, 30, 40, 50, 60]; // minutes\r\n  const [reminderBefore, setReminderBefore] = useState<number>(20);\r\n\r\n  // compute invite time (Date object) whenever meetingTime or reminderBefore changes\r\n  const inviteTime = useMemo(() => {\r\n    if (!meetingTime) return null;\r\n    // meetingTime is local ISO without timezone (datetime-local). Construct Date using local parts.\r\n    const dt = new Date(meetingTime);\r\n    if (Number.isNaN(dt.getTime())) return null;\r\n    const invite = new Date(dt.getTime() - reminderBefore * 60 * 1000);\r\n    return invite;\r\n  }, [meetingTime, reminderBefore]);\r\n\r\n  function formatToIST(date: Date | null) {\r\n    if (!date) return \"\";\r\n    try {\r\n      // Use Asia/Kolkata as requested — browser may support timeZone in toLocaleString\r\n      return date.toLocaleString(\"en-IN\", {\r\n        timeZone: \"Asia/Kolkata\",\r\n        year: \"numeric\",\r\n        month: \"short\",\r\n        day: \"numeric\",\r\n        hour: \"numeric\",\r\n        minute: \"2-digit\",\r\n        hour12: true,\r\n      });\r\n    } catch (e) {\r\n      // fallback to simple locale representation\r\n      return date.toLocaleString();\r\n    }\r\n  }\r\n\r\n  function handleSubmit(e: React.FormEvent) {\r\n    e.preventDefault();\r\n    if (!organizer.trim()) {\r\n      alert(\"Please enter the meeting organizer's name.\");\r\n      return;\r\n    }\r\n    if (!meetingTime) {\r\n      alert(\"Please pick a meeting time.\");\r\n      return;\r\n    }\r\n    if (!inviteTime) {\r\n      alert(\"Invalid meeting time.\");\r\n      return;\r\n    }\r\n\r\n    const meeting = {\r\n      teamId: team?.id,\r\n      teamName: team?.name,\r\n      organizer: organizer.trim(),\r\n      meetingTimeISO: new Date(meetingTime).toISOString(),\r\n      reminderBeforeMinutes: reminderBefore,\r\n      inviteTimeISO: inviteTime.toISOString(),\r\n      // include list of invitees (team members)\r\n      invitees: (team?.members || []).map((m: Member) => ({ name: m.name, initials: m.initials })),\r\n    };\r\n\r\n    // callback to parent\r\n    onSchedule(meeting);\r\n    // no local persistence here; parent should handle persisting/scheduling\r\n  }\r\n\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0, scale: 0.98, y: 8 }}\r\n      animate={{ opacity: 1, scale: 1, y: 0 }}\r\n      exit={{ opacity: 0, scale: 0.98 }}\r\n      transition={{ duration: 0.16 }}\r\n      className=\"w-full max-w-2xl mx-4 bg-white rounded-2xl border border-slate-200 shadow-2xl p-6\"\r\n      role=\"dialog\"\r\n      aria-modal=\"true\"\r\n    >\r\n      <div className=\"flex items-start justify-between mb-4\">\r\n        <div>\r\n          <h3 className=\"text-xl font-bold text-slate-800 flex items-center gap-2\">\r\n            <Calendar className=\"w-5 h-5\" />\r\n            Schedule Meeting\r\n          </h3>\r\n          <p className=\"text-sm text-slate-500\">\r\n            Invite all members of <span className=\"font-medium text-slate-700\">{team?.name}</span>\r\n          </p>\r\n        </div>\r\n\r\n        <button\r\n          onClick={onClose}\r\n          className=\"p-2 rounded-lg hover:bg-slate-100 transition-colors\"\r\n          aria-label=\"Close schedule meeting\"\r\n        >\r\n          <X className=\"w-5 h-5 text-slate-600\" />\r\n        </button>\r\n      </div>\r\n\r\n      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n        {/* Organizer */}\r\n        <label className=\"flex flex-col\">\r\n          <span className=\"text-xs font-medium text-slate-600 mb-1\">Meeting Organizer</span>\r\n          <div className=\"flex items-center gap-2\">\r\n            <User className=\"w-4 h-4 text-slate-400\" />\r\n            <input\r\n              value={organizer}\r\n              onChange={(e) => setOrganizer(e.target.value)}\r\n              placeholder=\"Organizer name (e.g., Sarah Chen)\"\r\n              className=\"flex-1 px-3 py-3 rounded-xl border border-slate-200 focus:outline-none focus:ring-2 focus:ring-emerald-500/20\"\r\n            />\r\n          </div>\r\n        </label>\r\n\r\n        {/* Meeting time */}\r\n        <label className=\"flex flex-col\">\r\n          <span className=\"text-xs font-medium text-slate-600 mb-1\">Meeting time</span>\r\n          <div className=\"flex items-center gap-2\">\r\n            <Clock className=\"w-4 h-4 text-slate-400\" />\r\n            <input\r\n              type=\"datetime-local\"\r\n              value={meetingTime}\r\n              onChange={(e) => setMeetingTime(e.target.value)}\r\n              className=\"flex-1 px-3 py-3 rounded-xl border border-slate-200 focus:outline-none\"\r\n            />\r\n          </div>\r\n          <p className=\"text-xs text-slate-500 mt-1\">\r\n            Time shown & calculated in your browser's local timezone. Invite times are displayed in IST below.\r\n          </p>\r\n        </label>\r\n\r\n        {/* Reminder before */}\r\n        <div>\r\n          <span className=\"text-xs font-medium text-slate-600 mb-2 block\">Reminder before</span>\r\n          <div className=\"flex flex-wrap gap-2\">\r\n            {reminderOptions.map((mins) => (\r\n              <button\r\n                key={mins}\r\n                type=\"button\"\r\n                onClick={() => setReminderBefore(mins)}\r\n                className={`px-3 py-2 rounded-xl border ${\r\n                  mins === reminderBefore ? \"border-emerald-500 ring-2 ring-emerald-200\" : \"border-slate-200\"\r\n                }`}\r\n              >\r\n                {mins} mins\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Computed invite time preview */}\r\n        <div className=\"p-3 rounded-lg bg-slate-50 border border-slate-100\">\r\n          <p className=\"text-sm text-slate-600\">\r\n            <span className=\"font-medium text-slate-800\">Invite time:</span>{\" \"}\r\n            {inviteTime ? (\r\n              <>\r\n                {formatToIST(inviteTime)}{\" \"}\r\n                <span className=\"text-xs text-slate-400\">({reminderBefore} min before meeting)</span>\r\n              </>\r\n            ) : (\r\n              <span className=\"text-slate-400\">Pick a meeting time</span>\r\n            )}\r\n          </p>\r\n          <p className=\"text-xs text-slate-500 mt-1\">\r\n            Invitations will be sent to the team's members at this time (local IST shown).\r\n          </p>\r\n        </div>\r\n\r\n        {/* Invitees preview */}\r\n        <div>\r\n          <div className=\"flex items-center justify-between mb-2\">\r\n            <div>\r\n              <span className=\"text-xs font-medium text-slate-600\">Invitees</span>\r\n              <p className=\"text-xs text-slate-500\">Team members who will receive the invite</p>\r\n            </div>\r\n            <div className=\"text-xs text-slate-400\">{(team?.members || []).length} members</div>\r\n          </div>\r\n\r\n          <div className=\"flex flex-wrap gap-2\">\r\n            {(team?.members || []).map((m: Member, i: number) => (\r\n              <div\r\n                key={`${m.name}-${i}`}\r\n                className=\"flex items-center gap-2 bg-white border border-slate-100 px-3 py-2 rounded-xl shadow-sm\"\r\n              >\r\n                <div className=\"w-8 h-8 rounded-full bg-gradient-to-br from-slate-200 to-slate-300 flex items-center justify-center text-xs font-semibold text-slate-700\">\r\n                  {m.initials ?? (m.name ? m.name.split(\" \").map((p) => p[0]).join(\"\").slice(0, 2).toUpperCase() : \"\")}\r\n                </div>\r\n                <div className=\"text-sm text-slate-700\">{m.name}</div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Actions */}\r\n        <div className=\"flex items-center gap-3 justify-end pt-2\">\r\n          <button\r\n            type=\"button\"\r\n            onClick={onClose}\r\n            className=\"px-4 py-2 rounded-xl bg-slate-100 hover:bg-slate-200 text-slate-700\"\r\n          >\r\n            Cancel\r\n          </button>\r\n\r\n          <motion.button\r\n            whileHover={{ scale: 1.02 }}\r\n            whileTap={{ scale: 0.98 }}\r\n            type=\"submit\"\r\n            className=\"px-5 py-2.5 bg-gradient-to-br from-blue-500 to-cyan-500 text-white rounded-xl font-medium shadow-md flex items-center gap-2\"\r\n          >\r\n            <Bell className=\"w-4 h-4\" />\r\n            Schedule & Invite\r\n          </motion.button>\r\n        </div>\r\n      </form>\r\n    </motion.div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 535, "column": 0}, "map": {"version":3,"sources":["file:///E:/Attack%20Capital/SignalHub/frontend/src/app/dashboard/admin/teams/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useEffect, useMemo, useState } from \"react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport {\r\n  Search,\r\n  Users,\r\n  Plus,\r\n  MoreVertical,\r\n  Mail,\r\n  Crown,\r\n  Star,\r\n  Settings,\r\n  TrendingUp,\r\n  Activity,\r\n  Award,\r\n  Target,\r\n  Edit,\r\n  Trash2,\r\n} from \"lucide-react\";\r\nimport CreateTeamForm from \"@/app/ui/forms/create-team/\"; // path per your structure\r\nimport ScheduleMeetingForm from \"@/app/ui/forms/Schedule-meeting/page\";\r\n\r\n/**\r\n * TeamCard - renders a single team and exposes an actions menu (Edit/Delete)\r\n */\r\nconst TeamCard = ({ team, delay, onOpenSchedule, onEdit, onDelete }: any) => {\r\n  const [isHovered, setIsHovered] = useState(false);\r\n  const [menuOpen, setMenuOpen] = useState(false);\r\n\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0, y: 20 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      transition={{ duration: 0.36, delay }}\r\n      onMouseEnter={() => setIsHovered(true)}\r\n      onMouseLeave={() => { setIsHovered(false); setMenuOpen(false); }}\r\n      className=\"relative p-6 bg-white rounded-2xl border border-slate-200 hover:border-slate-300 hover:shadow-xl transition-all duration-200 group overflow-hidden\"\r\n    >\r\n      <div className=\"absolute right-3 top-3\">\r\n        <div className=\"relative\">\r\n          <button\r\n            onClick={() => setMenuOpen((s) => !s)}\r\n            className=\"p-2 rounded-md hover:bg-slate-100\"\r\n            aria-label=\"Open team actions\"\r\n          >\r\n            <MoreVertical className=\"w-5 h-5 text-slate-600\" />\r\n          </button>\r\n\r\n          {menuOpen && (\r\n            <motion.div\r\n              initial={{ opacity: 0, scale: 0.98 }}\r\n              animate={{ opacity: 1, scale: 1 }}\r\n              exit={{ opacity: 0, scale: 0.98 }}\r\n              transition={{ duration: 0.12 }}\r\n              className=\"absolute right-0 mt-2 w-44 bg-white border rounded-lg shadow-lg z-30\"\r\n            >\r\n              <button\r\n                onClick={() => { setMenuOpen(false); onEdit(team); }}\r\n                className=\"w-full text-left px-3 py-2 hover:bg-slate-50 flex items-center gap-2\"\r\n              >\r\n                <Edit className=\"w-4 h-4\" /> Edit\r\n              </button>\r\n              <button\r\n                onClick={() => { setMenuOpen(false); onDelete(team); }}\r\n                className=\"w-full text-left px-3 py-2 hover:bg-slate-50 flex items-center gap-2 text-rose-600\"\r\n              >\r\n                <Trash2 className=\"w-4 h-4\" /> Delete\r\n              </button>\r\n            </motion.div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"relative\">\r\n        {/* Header */}\r\n        <div className=\"flex items-start justify-between gap-4 mb-4\">\r\n          <div className=\"flex items-center gap-4\">\r\n            <motion.div\r\n              className={`w-14 h-14 rounded-xl bg-gradient-to-br ${team.gradient ?? \"from-blue-500 to-cyan-500\"} flex items-center justify-center shadow-md`}\r\n              animate={isHovered ? { scale: 1.03, rotate: 4 } : { scale: 1, rotate: 0 }}\r\n              transition={{ duration: 0.25 }}\r\n            >\r\n              <Users className=\"w-7 h-7 text-white\" />\r\n            </motion.div>\r\n\r\n            <div className=\"min-w-0\">\r\n              <h3 className=\"text-lg font-semibold text-slate-800 truncate\">{team.name}</h3>\r\n              <p className=\"text-sm text-slate-500 truncate\">{team.description ?? \"\"}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Lead & Featured */}\r\n        <div className=\"flex flex-wrap items-center gap-2 mb-4\">\r\n          {team.manager?.name && (\r\n            <div className=\"flex items-center gap-1.5 px-3 py-1.5 bg-amber-50 text-amber-700 rounded-lg text-xs font-medium\">\r\n              <Crown className=\"w-3.5 h-3.5\" />\r\n              {team.manager.name}\r\n            </div>\r\n          )}\r\n          {team.featured && (\r\n            <div className=\"flex items-center gap-1.5 px-3 py-1.5 bg-blue-50 text-blue-700 rounded-lg text-xs font-medium\">\r\n              <Star className=\"w-3.5 h-3.5\" />\r\n              Featured\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Members */}\r\n        <div className=\"flex -space-x-2 mb-4 flex-wrap\">\r\n          {(team.members ?? []).slice(0, 5).map((member: any, idx: number) => (\r\n            <div\r\n              key={`${member.user?.id ?? member.id ?? idx}`}\r\n              className=\"w-10 h-10 rounded-full bg-gradient-to-br from-slate-200 to-slate-300 border-2 border-white flex items-center justify-center text-xs font-semibold text-slate-700 shadow-sm\"\r\n              title={member.user?.name ?? member.name}\r\n            >\r\n              {member.user?.name ? (member.user.name.split(\" \").map((p: string)=>p[0]).slice(0,2).join(\"\")) : (member.initials ?? \"U\")}\r\n            </div>\r\n          ))}\r\n          {(team.members ?? []).length > 5 && (\r\n            <div className=\"w-10 h-10 rounded-full bg-slate-100 border-2 border-white flex items-center justify-center text-xs font-semibold text-slate-600\">\r\n              +{team.members.length - 5}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Stats */}\r\n        <div className=\"grid grid-cols-3 gap-4 mb-4 text-center\">\r\n          <div>\r\n            <p className=\"text-2xl font-bold text-slate-800\">{team.members?.length ?? 0}</p>\r\n            <p className=\"text-xs text-slate-500\">Members</p>\r\n          </div>\r\n          <div>\r\n            <p className=\"text-2xl font-bold text-slate-800\">{team.projects ?? 0}</p>\r\n            <p className=\"text-xs text-slate-500\">Projects</p>\r\n          </div>\r\n          <div>\r\n            <p className=\"text-2xl font-bold text-emerald-600\">{team.completion ?? 0}%</p>\r\n            <p className=\"text-xs text-slate-500\">Complete</p>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Actions */}\r\n        <div className=\"flex flex-col sm:flex-row gap-2\">\r\n          <motion.button\r\n            onClick={() => onOpenSchedule(team)}\r\n            whileHover={{ scale: 1.02 }}\r\n            whileTap={{ scale: 0.98 }}\r\n            className=\"flex-1 px-4 py-2.5 bg-gradient-to-br from-blue-500 to-cyan-500 text-white rounded-xl text-sm font-medium shadow-md hover:shadow-lg transition flex items-center justify-center gap-2\"\r\n          >\r\n            <Mail className=\"w-4 h-4\" />\r\n            Schedule Meeting\r\n          </motion.button>\r\n\r\n          <motion.button\r\n            whileHover={{ scale: 1.05 }}\r\n            whileTap={{ scale: 0.95 }}\r\n            className=\"px-4 py-2.5 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-xl transition flex items-center justify-center gap-2\"\r\n            onClick={() => {\r\n              // secondary quick action — open settings or team detail\r\n              window.location.href = `/dashboard/admin/teams/${team.id}`;\r\n            }}\r\n          >\r\n            <Settings className=\"w-4 h-4\" />\r\n            Manage\r\n          </motion.button>\r\n        </div>\r\n      </div>\r\n    </motion.div>\r\n  );\r\n};\r\n\r\n/* StatCard kept similar to previous */\r\nconst StatCard = ({ icon: Icon, label, value, subtitle, gradient, delay }: any) => (\r\n  <motion.div\r\n    initial={{ opacity: 0, scale: 0.98 }}\r\n    animate={{ opacity: 1, scale: 1 }}\r\n    transition={{ duration: 0.3, delay }}\r\n    className=\"p-6 bg-white rounded-2xl border border-slate-200 hover:shadow-lg transition\"\r\n  >\r\n    <div className=\"flex items-start justify-between mb-4\">\r\n      <div className={`w-12 h-12 rounded-xl bg-gradient-to-br ${gradient} flex items-center justify-center shadow-md`}>\r\n        <Icon className=\"w-6 h-6 text-white\" />\r\n      </div>\r\n      <TrendingUp className=\"w-5 h-5 text-emerald-500\" />\r\n    </div>\r\n    <h3 className=\"text-3xl font-bold text-slate-800 mb-1\">{value}</h3>\r\n    <p className=\"text-sm font-medium text-slate-600 mb-1\">{label}</p>\r\n    <p className=\"text-xs text-slate-500\">{subtitle}</p>\r\n  </motion.div>\r\n);\r\n\r\n// ---------------- Main Teams Page ----------------\r\nexport default function TeamsPage() {\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [showCreate, setShowCreate] = useState(false);\r\n  const [editTeam, setEditTeam] = useState<any | null>(null);\r\n  const [confirmDelete, setConfirmDelete] = useState<any | null>(null);\r\n\r\n  // schedule modal\r\n  const [showSchedule, setShowSchedule] = useState(false);\r\n  const [selectedTeamForSchedule, setSelectedTeamForSchedule] = useState<any | null>(null);\r\n\r\n  // data\r\n  const [teams, setTeams] = useState<any[]>([]);\r\n  const [teamsLoading, setTeamsLoading] = useState(true);\r\n  const [teamsError, setTeamsError] = useState<string | null>(null);\r\n\r\n  const [managers, setManagers] = useState<any[]>([]);\r\n  const [employees, setEmployees] = useState<any[]>([]);\r\n  const [usersLoading, setUsersLoading] = useState(true);\r\n\r\n  // fetch teams\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    (async () => {\r\n      setTeamsLoading(true);\r\n      setTeamsError(null);\r\n      try {\r\n        const res = await fetch(\"/api/teams\", { credentials: \"same-origin\" });\r\n        if (!res.ok) {\r\n          // try alternative\r\n          const alt = await fetch(\"/api/dashboard/teams\", { credentials: \"same-origin\" });\r\n          if (!alt.ok) throw new Error(\"Failed to load teams\");\r\n          const altJson = await alt.json();\r\n          const list = Array.isArray(altJson) ? altJson : altJson?.teams ?? [];\r\n          if (mounted) setTeams(list);\r\n        } else {\r\n          const j = await res.json();\r\n          const list = Array.isArray(j) ? j : j?.teams ?? [];\r\n          if (mounted) setTeams(list);\r\n        }\r\n      } catch (err: any) {\r\n        if (mounted) setTeamsError(err?.message || \"Could not fetch teams\");\r\n      } finally {\r\n        if (mounted) setTeamsLoading(false);\r\n      }\r\n    })();\r\n    return () => { mounted = false; };\r\n  }, []);\r\n\r\n  // fetch users for selects\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    (async () => {\r\n      setUsersLoading(true);\r\n      try {\r\n        const [mRes, eRes] = await Promise.all([\r\n          fetch(\"/api/users?role=MANAGER\", { credentials: \"same-origin\" }),\r\n          fetch(\"/api/users?role=EMPLOYEE\", { credentials: \"same-origin\" }),\r\n        ]);\r\n        if (mRes.ok) {\r\n          const j = await mRes.json();\r\n          const list = Array.isArray(j) ? j : j?.users ?? [];\r\n          if (mounted) setManagers(list);\r\n        } else {\r\n          if (mounted) setManagers([]);\r\n        }\r\n        if (eRes.ok) {\r\n          const j = await eRes.json();\r\n          const list = Array.isArray(j) ? j : j?.users ?? [];\r\n          if (mounted) setEmployees(list);\r\n        } else {\r\n          if (mounted) setEmployees([]);\r\n        }\r\n      } catch (err) {\r\n        if (mounted) {\r\n          setManagers([]);\r\n          setEmployees([]);\r\n        }\r\n      } finally {\r\n        if (mounted) setUsersLoading(false);\r\n      }\r\n    })();\r\n    return () => { mounted = false; };\r\n  }, []);\r\n\r\n  const filteredTeams = useMemo(() => {\r\n    const q = searchQuery.trim().toLowerCase();\r\n    if (!q) return teams;\r\n    return teams.filter((team) =>\r\n      (team.name ?? \"\").toLowerCase().includes(q) ||\r\n      (team.description ?? \"\").toLowerCase().includes(q) ||\r\n      (team.manager?.name ?? \"\").toLowerCase().includes(q)\r\n    );\r\n  }, [teams, searchQuery]);\r\n\r\n  // create or update team (CreateTeamForm uses onCreate for both create & update)\r\n  async function handleCreateOrUpdateTeam(payload: any, opts?: { isEdit?: boolean; id?: string }) {\r\n    try {\r\n      if (opts?.isEdit && opts.id) {\r\n        // update\r\n        const res = await fetch(`/api/teams/${encodeURIComponent(opts.id)}`, {\r\n          method: \"PUT\",\r\n          credentials: \"same-origin\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify(payload),\r\n        });\r\n        if (!res.ok) {\r\n          const err = await res.json().catch(() => ({}));\r\n          throw new Error(err?.message || `Failed to update team (${res.status})`);\r\n        }\r\n        const json = await res.json().catch(() => null);\r\n        const updated = json?.team ?? json;\r\n        // update in-place\r\n        setTeams((prev) => prev.map((t) => (t.id === opts.id ? (updated || { ...t, ...payload }) : t)));\r\n        setEditTeam(null);\r\n        setShowCreate(false);\r\n      } else {\r\n        // create\r\n        const res = await fetch(\"/api/teams\", {\r\n          method: \"POST\",\r\n          credentials: \"same-origin\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify(payload),\r\n        });\r\n        if (!res.ok) {\r\n          const err = await res.json().catch(() => ({}));\r\n          throw new Error(err?.message || `Failed to create team (${res.status})`);\r\n        }\r\n        const json = await res.json().catch(() => null);\r\n        const created = json?.team ?? json;\r\n        setTeams((prev) => [created || { id: Date.now(), ...payload }, ...prev]);\r\n        setShowCreate(false);\r\n      }\r\n    } catch (err: any) {\r\n      console.error(\"Create/update team error:\", err);\r\n      alert(\"Error: \" + (err?.message || \"Unknown error\"));\r\n    }\r\n  }\r\n\r\n  // open create modal (new)\r\n  function openCreate() {\r\n    setEditTeam(null);\r\n    setShowCreate(true);\r\n  }\r\n\r\n  // open edit modal (prefill)\r\n  function handleEdit(team: any) {\r\n    setEditTeam(team);\r\n    setShowCreate(true);\r\n  }\r\n\r\n  // handle delete\r\n  async function handleDeleteRequest(team: any) {\r\n    setConfirmDelete(team);\r\n  }\r\n  async function confirmDeleteNow(team: any) {\r\n    try {\r\n      const res = await fetch(`/api/teams/${encodeURIComponent(team.id)}`, {\r\n        method: \"DELETE\",\r\n        credentials: \"same-origin\",\r\n      });\r\n      if (!res.ok) {\r\n        const err = await res.json().catch(() => ({}));\r\n        throw new Error(err?.message || `Delete failed (${res.status})`);\r\n      }\r\n      setTeams((prev) => prev.filter((t) => t.id !== team.id));\r\n      setConfirmDelete(null);\r\n    } catch (err: any) {\r\n      console.error(\"Delete team error:\", err);\r\n      alert(\"Failed to delete team: \" + (err?.message || \"unknown\"));\r\n    }\r\n  }\r\n\r\n  function openScheduleForTeam(team: any) {\r\n    setSelectedTeamForSchedule(team);\r\n    setShowSchedule(true);\r\n  }\r\n\r\n  function handleScheduleMeeting(meeting: any) {\r\n    // For now local only\r\n    setSelectedTeamForSchedule(null);\r\n    setShowSchedule(false);\r\n    // Could call API to persist\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-50 p-4 sm:p-6 lg:p-8\">\r\n        <div className=\"max-w-7xl mx-auto\">\r\n          {/* Header */}\r\n          <motion.div initial={{ opacity: 0, y: -14 }} animate={{ opacity: 1, y: 0 }} transition={{ duration: 0.4 }} className=\"mb-6\">\r\n            <h1 className=\"text-3xl md:text-4xl font-bold text-slate-900 mb-1\">Teams</h1>\r\n            <p className=\"text-slate-500 flex items-center gap-2\"><Users className=\"w-4 h-4\" /> Manage and collaborate with your teams</p>\r\n          </motion.div>\r\n\r\n          {/* Stats */}\r\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-8\">\r\n            <StatCard icon={Users} label=\"Total Teams\" value={String(teams.length)} subtitle=\"+0 this month\" gradient=\"from-blue-500 to-cyan-500\" delay={0} />\r\n            <StatCard icon={Activity} label=\"Active Members\" value={String(teams.reduce((a,t)=>a+(t.members?.length??0),0))} subtitle=\"Across all teams\" gradient=\"from-emerald-500 to-teal-500\" delay={0.05} />\r\n            <StatCard icon={Target} label=\"Active Projects\" value={String(teams.reduce((a,t)=>a+(t.projects??0),0))} subtitle=\"In progress\" gradient=\"from-violet-500 to-purple-500\" delay={0.1} />\r\n            <StatCard icon={Award} label=\"Avg Completion\" value={`${Math.round((teams.reduce((a,t)=>a+(t.completion??0),0) / Math.max(1, teams.length)))}%`} subtitle=\"+0% from last month\" gradient=\"from-orange-500 to-rose-500\" delay={0.15} />\r\n          </div>\r\n\r\n          {/* Search & Create */}\r\n          <div className=\"mb-6 flex flex-col sm:flex-row gap-4\">\r\n            <div className=\"relative flex-1\">\r\n              <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400\" />\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Search teams...\"\r\n                value={searchQuery}\r\n                onChange={(e) => setSearchQuery(e.target.value)}\r\n                className=\"w-full pl-10 pr-4 py-3 bg-white border border-slate-200 rounded-xl text-sm placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 shadow-sm\"\r\n              />\r\n            </div>\r\n\r\n            <motion.button onClick={openCreate} whileHover={{ scale: 1.02 }} whileTap={{ scale: 0.98 }} className=\"px-6 py-3 bg-gradient-to-br from-blue-500 to-cyan-500 text-white rounded-xl text-sm font-medium shadow-lg hover:shadow-xl flex items-center gap-2\">\r\n              <Plus className=\"w-4 h-4\" /> Create Team\r\n            </motion.button>\r\n          </div>\r\n\r\n          {/* Teams Grid */}\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n            {teamsLoading ? (\r\n              <div className=\"col-span-full p-6 bg-white rounded-2xl border border-slate-200\">Loading teams…</div>\r\n            ) : filteredTeams.length === 0 ? (\r\n              <div className=\"col-span-full p-6 bg-white rounded-2xl border border-slate-200 text-center\">No teams found</div>\r\n            ) : (\r\n              filteredTeams.map((team, i) => (\r\n                <TeamCard\r\n                  key={team.id}\r\n                  team={team}\r\n                  delay={0.18 + i * 0.04}\r\n                  onOpenSchedule={openScheduleForTeam}\r\n                  onEdit={handleEdit}\r\n                  onDelete={handleDeleteRequest}\r\n                />\r\n              ))\r\n            )}\r\n          </div>\r\n\r\n          {teamsError && <div className=\"mt-4 text-sm text-rose-600\">{teamsError}</div>}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Create / Edit Team modal */}\r\n      <AnimatePresence>\r\n        {(showCreate || editTeam) && (\r\n          <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} className=\"fixed inset-0 z-50 flex items-center justify-center\">\r\n            <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} transition={{ duration: 0.12 }} className=\"absolute inset-0 bg-black/20 backdrop-blur-sm\" onClick={() => { setShowCreate(false); setEditTeam(null); }} />\r\n            <div className=\"relative z-10 w-full max-w-2xl p-4\">\r\n              <CreateTeamForm\r\n                managers={managers}\r\n                employees={employees}\r\n                loadingUsers={usersLoading}\r\n                initialTeam={editTeam ?? undefined}\r\n                onCreate={(payload: any) => handleCreateOrUpdateTeam(payload)}\r\n                onUpdate={(id: string, payload: any) => handleCreateOrUpdateTeam(payload, { isEdit: true, id })}\r\n                onClose={() => { setShowCreate(false); setEditTeam(null); }}\r\n              />\r\n            </div>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n\r\n      {/* Confirm Delete modal */}\r\n      <AnimatePresence>\r\n        {confirmDelete && (\r\n          <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} className=\"fixed inset-0 z-60 flex items-center justify-center\">\r\n            <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} transition={{ duration: 0.12 }} className=\"absolute inset-0 bg-black/20\" onClick={() => setConfirmDelete(null)} />\r\n            <motion.div initial={{ scale: 0.98 }} animate={{ scale: 1 }} exit={{ scale: 0.98 }} transition={{ duration: 0.12 }} className=\"relative z-10 w-full max-w-md bg-white rounded-2xl border p-6\">\r\n              <h3 className=\"text-lg font-semibold\">Delete team?</h3>\r\n              <p className=\"text-sm text-slate-600 mt-2\">This will remove the team and its membership associations. This action cannot be undone.</p>\r\n              <div className=\"mt-4 flex justify-end gap-3\">\r\n                <button className=\"px-4 py-2 rounded-md\" onClick={() => setConfirmDelete(null)}>Cancel</button>\r\n                <button className=\"px-4 py-2 rounded-md bg-rose-600 text-white\" onClick={() => confirmDeleteNow(confirmDelete)}>Delete</button>\r\n              </div>\r\n            </motion.div>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n\r\n      {/* Schedule Meeting modal */}\r\n      <AnimatePresence>\r\n        {showSchedule && selectedTeamForSchedule && (\r\n          <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} className=\"fixed inset-0 z-50 flex items-center justify-center\">\r\n            <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} transition={{ duration: 0.18 }} className=\"absolute inset-0 bg-black/20 backdrop-blur-sm\" onClick={() => { setShowSchedule(false); setSelectedTeamForSchedule(null); }} />\r\n            <div className=\"relative z-10 w-full max-w-2xl p-4\">\r\n              <ScheduleMeetingForm team={selectedTeamForSchedule} onClose={() => { setShowSchedule(false); setSelectedTeamForSchedule(null); }} onSchedule={(m) => handleScheduleMeeting(m)} />\r\n            </div>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;AAiBA;AArBA;;;;;;;AAuBA;;CAEC,GACD,MAAM,WAAW,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,cAAc,EAAE,MAAM,EAAE,QAAQ,EAAO;IACtE,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAC3C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IAEzC,qBACE,8OAAC,oMAAM,CAAC,GAAG;QACT,SAAS;YAAE,SAAS;YAAG,GAAG;QAAG;QAC7B,SAAS;YAAE,SAAS;YAAG,GAAG;QAAE;QAC5B,YAAY;YAAE,UAAU;YAAM;QAAM;QACpC,cAAc,IAAM,aAAa;QACjC,cAAc;YAAQ,aAAa;YAAQ,YAAY;QAAQ;QAC/D,WAAU;;0BAEV,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BACC,SAAS,IAAM,YAAY,CAAC,IAAM,CAAC;4BACnC,WAAU;4BACV,cAAW;sCAEX,cAAA,8OAAC,0OAAY;gCAAC,WAAU;;;;;;;;;;;wBAGzB,0BACC,8OAAC,oMAAM,CAAC,GAAG;4BACT,SAAS;gCAAE,SAAS;gCAAG,OAAO;4BAAK;4BACnC,SAAS;gCAAE,SAAS;gCAAG,OAAO;4BAAE;4BAChC,MAAM;gCAAE,SAAS;gCAAG,OAAO;4BAAK;4BAChC,YAAY;gCAAE,UAAU;4BAAK;4BAC7B,WAAU;;8CAEV,8OAAC;oCACC,SAAS;wCAAQ,YAAY;wCAAQ,OAAO;oCAAO;oCACnD,WAAU;;sDAEV,8OAAC,mNAAI;4CAAC,WAAU;;;;;;wCAAY;;;;;;;8CAE9B,8OAAC;oCACC,SAAS;wCAAQ,YAAY;wCAAQ,SAAS;oCAAO;oCACrD,WAAU;;sDAEV,8OAAC,oNAAM;4CAAC,WAAU;;;;;;wCAAY;;;;;;;;;;;;;;;;;;;;;;;;0BAOxC,8OAAC;gBAAI,WAAU;;kCAEb,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,oMAAM,CAAC,GAAG;oCACT,WAAW,CAAC,uCAAuC,EAAE,KAAK,QAAQ,IAAI,4BAA4B,2CAA2C,CAAC;oCAC9I,SAAS,YAAY;wCAAE,OAAO;wCAAM,QAAQ;oCAAE,IAAI;wCAAE,OAAO;wCAAG,QAAQ;oCAAE;oCACxE,YAAY;wCAAE,UAAU;oCAAK;8CAE7B,cAAA,8OAAC,6MAAK;wCAAC,WAAU;;;;;;;;;;;8CAGnB,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAG,WAAU;sDAAiD,KAAK,IAAI;;;;;;sDACxE,8OAAC;4CAAE,WAAU;sDAAmC,KAAK,WAAW,IAAI;;;;;;;;;;;;;;;;;;;;;;;kCAM1E,8OAAC;wBAAI,WAAU;;4BACZ,KAAK,OAAO,EAAE,sBACb,8OAAC;gCAAI,WAAU;;kDACb,8OAAC,6MAAK;wCAAC,WAAU;;;;;;oCAChB,KAAK,OAAO,CAAC,IAAI;;;;;;;4BAGrB,KAAK,QAAQ,kBACZ,8OAAC;gCAAI,WAAU;;kDACb,8OAAC,0MAAI;wCAAC,WAAU;;;;;;oCAAgB;;;;;;;;;;;;;kCAOtC,8OAAC;wBAAI,WAAU;;4BACZ,CAAC,KAAK,OAAO,IAAI,EAAE,EAAE,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,QAAa,oBAClD,8OAAC;oCAEC,WAAU;oCACV,OAAO,OAAO,IAAI,EAAE,QAAQ,OAAO,IAAI;8CAEtC,OAAO,IAAI,EAAE,OAAQ,OAAO,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC,IAAY,CAAC,CAAC,EAAE,EAAE,KAAK,CAAC,GAAE,GAAG,IAAI,CAAC,MAAQ,OAAO,QAAQ,IAAI;mCAJ/G,GAAG,OAAO,IAAI,EAAE,MAAM,OAAO,EAAE,IAAI,KAAK;;;;;4BAOhD,CAAC,KAAK,OAAO,IAAI,EAAE,EAAE,MAAM,GAAG,mBAC7B,8OAAC;gCAAI,WAAU;;oCAAkI;oCAC7I,KAAK,OAAO,CAAC,MAAM,GAAG;;;;;;;;;;;;;kCAM9B,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;;kDACC,8OAAC;wCAAE,WAAU;kDAAqC,KAAK,OAAO,EAAE,UAAU;;;;;;kDAC1E,8OAAC;wCAAE,WAAU;kDAAyB;;;;;;;;;;;;0CAExC,8OAAC;;kDACC,8OAAC;wCAAE,WAAU;kDAAqC,KAAK,QAAQ,IAAI;;;;;;kDACnE,8OAAC;wCAAE,WAAU;kDAAyB;;;;;;;;;;;;0CAExC,8OAAC;;kDACC,8OAAC;wCAAE,WAAU;;4CAAuC,KAAK,UAAU,IAAI;4CAAE;;;;;;;kDACzE,8OAAC;wCAAE,WAAU;kDAAyB;;;;;;;;;;;;;;;;;;kCAK1C,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,oMAAM,CAAC,MAAM;gCACZ,SAAS,IAAM,eAAe;gCAC9B,YAAY;oCAAE,OAAO;gCAAK;gCAC1B,UAAU;oCAAE,OAAO;gCAAK;gCACxB,WAAU;;kDAEV,8OAAC,0MAAI;wCAAC,WAAU;;;;;;oCAAY;;;;;;;0CAI9B,8OAAC,oMAAM,CAAC,MAAM;gCACZ,YAAY;oCAAE,OAAO;gCAAK;gCAC1B,UAAU;oCAAE,OAAO;gCAAK;gCACxB,WAAU;gCACV,SAAS;oCACP,wDAAwD;oCACxD,OAAO,QAAQ,CAAC,IAAI,GAAG,CAAC,uBAAuB,EAAE,KAAK,EAAE,EAAE;gCAC5D;;kDAEA,8OAAC,sNAAQ;wCAAC,WAAU;;;;;;oCAAY;;;;;;;;;;;;;;;;;;;;;;;;;AAO5C;AAEA,qCAAqC,GACrC,MAAM,WAAW,CAAC,EAAE,MAAM,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,QAAQ,EAAE,QAAQ,EAAE,KAAK,EAAO,iBAC5E,8OAAC,oMAAM,CAAC,GAAG;QACT,SAAS;YAAE,SAAS;YAAG,OAAO;QAAK;QACnC,SAAS;YAAE,SAAS;YAAG,OAAO;QAAE;QAChC,YAAY;YAAE,UAAU;YAAK;QAAM;QACnC,WAAU;;0BAEV,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAW,CAAC,uCAAuC,EAAE,SAAS,2CAA2C,CAAC;kCAC7G,cAAA,8OAAC;4BAAK,WAAU;;;;;;;;;;;kCAElB,8OAAC,gOAAU;wBAAC,WAAU;;;;;;;;;;;;0BAExB,8OAAC;gBAAG,WAAU;0BAA0C;;;;;;0BACxD,8OAAC;gBAAE,WAAU;0BAA2C;;;;;;0BACxD,8OAAC;gBAAE,WAAU;0BAA0B;;;;;;;;;;;;AAK5B,SAAS;IACtB,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAC/C,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAC7C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAa;IACrD,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAa;IAE/D,iBAAiB;IACjB,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAC;IACjD,MAAM,CAAC,yBAAyB,2BAA2B,GAAG,IAAA,iNAAQ,EAAa;IAEnF,OAAO;IACP,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAQ,EAAE;IAC5C,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAC;IACjD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAgB;IAE5D,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAQ,EAAE;IAClD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAQ,EAAE;IACpD,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAC;IAEjD,cAAc;IACd,IAAA,kNAAS,EAAC;QACR,IAAI,UAAU;QACd,CAAC;YACC,gBAAgB;YAChB,cAAc;YACd,IAAI;gBACF,MAAM,MAAM,MAAM,MAAM,cAAc;oBAAE,aAAa;gBAAc;gBACnE,IAAI,CAAC,IAAI,EAAE,EAAE;oBACX,kBAAkB;oBAClB,MAAM,MAAM,MAAM,MAAM,wBAAwB;wBAAE,aAAa;oBAAc;oBAC7E,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;oBAC7B,MAAM,UAAU,MAAM,IAAI,IAAI;oBAC9B,MAAM,OAAO,MAAM,OAAO,CAAC,WAAW,UAAU,SAAS,SAAS,EAAE;oBACpE,IAAI,SAAS,SAAS;gBACxB,OAAO;oBACL,MAAM,IAAI,MAAM,IAAI,IAAI;oBACxB,MAAM,OAAO,MAAM,OAAO,CAAC,KAAK,IAAI,GAAG,SAAS,EAAE;oBAClD,IAAI,SAAS,SAAS;gBACxB;YACF,EAAE,OAAO,KAAU;gBACjB,IAAI,SAAS,cAAc,KAAK,WAAW;YAC7C,SAAU;gBACR,IAAI,SAAS,gBAAgB;YAC/B;QACF,CAAC;QACD,OAAO;YAAQ,UAAU;QAAO;IAClC,GAAG,EAAE;IAEL,0BAA0B;IAC1B,IAAA,kNAAS,EAAC;QACR,IAAI,UAAU;QACd,CAAC;YACC,gBAAgB;YAChB,IAAI;gBACF,MAAM,CAAC,MAAM,KAAK,GAAG,MAAM,QAAQ,GAAG,CAAC;oBACrC,MAAM,2BAA2B;wBAAE,aAAa;oBAAc;oBAC9D,MAAM,4BAA4B;wBAAE,aAAa;oBAAc;iBAChE;gBACD,IAAI,KAAK,EAAE,EAAE;oBACX,MAAM,IAAI,MAAM,KAAK,IAAI;oBACzB,MAAM,OAAO,MAAM,OAAO,CAAC,KAAK,IAAI,GAAG,SAAS,EAAE;oBAClD,IAAI,SAAS,YAAY;gBAC3B,OAAO;oBACL,IAAI,SAAS,YAAY,EAAE;gBAC7B;gBACA,IAAI,KAAK,EAAE,EAAE;oBACX,MAAM,IAAI,MAAM,KAAK,IAAI;oBACzB,MAAM,OAAO,MAAM,OAAO,CAAC,KAAK,IAAI,GAAG,SAAS,EAAE;oBAClD,IAAI,SAAS,aAAa;gBAC5B,OAAO;oBACL,IAAI,SAAS,aAAa,EAAE;gBAC9B;YACF,EAAE,OAAO,KAAK;gBACZ,IAAI,SAAS;oBACX,YAAY,EAAE;oBACd,aAAa,EAAE;gBACjB;YACF,SAAU;gBACR,IAAI,SAAS,gBAAgB;YAC/B;QACF,CAAC;QACD,OAAO;YAAQ,UAAU;QAAO;IAClC,GAAG,EAAE;IAEL,MAAM,gBAAgB,IAAA,gNAAO,EAAC;QAC5B,MAAM,IAAI,YAAY,IAAI,GAAG,WAAW;QACxC,IAAI,CAAC,GAAG,OAAO;QACf,OAAO,MAAM,MAAM,CAAC,CAAC,OACnB,CAAC,KAAK,IAAI,IAAI,EAAE,EAAE,WAAW,GAAG,QAAQ,CAAC,MACzC,CAAC,KAAK,WAAW,IAAI,EAAE,EAAE,WAAW,GAAG,QAAQ,CAAC,MAChD,CAAC,KAAK,OAAO,EAAE,QAAQ,EAAE,EAAE,WAAW,GAAG,QAAQ,CAAC;IAEtD,GAAG;QAAC;QAAO;KAAY;IAEvB,gFAAgF;IAChF,eAAe,yBAAyB,OAAY,EAAE,IAAwC;QAC5F,IAAI;YACF,IAAI,MAAM,UAAU,KAAK,EAAE,EAAE;gBAC3B,SAAS;gBACT,MAAM,MAAM,MAAM,MAAM,CAAC,WAAW,EAAE,mBAAmB,KAAK,EAAE,GAAG,EAAE;oBACnE,QAAQ;oBACR,aAAa;oBACb,SAAS;wBAAE,gBAAgB;oBAAmB;oBAC9C,MAAM,KAAK,SAAS,CAAC;gBACvB;gBACA,IAAI,CAAC,IAAI,EAAE,EAAE;oBACX,MAAM,MAAM,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;oBAC5C,MAAM,IAAI,MAAM,KAAK,WAAW,CAAC,uBAAuB,EAAE,IAAI,MAAM,CAAC,CAAC,CAAC;gBACzE;gBACA,MAAM,OAAO,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM;gBAC1C,MAAM,UAAU,MAAM,QAAQ;gBAC9B,kBAAkB;gBAClB,SAAS,CAAC,OAAS,KAAK,GAAG,CAAC,CAAC,IAAO,EAAE,EAAE,KAAK,KAAK,EAAE,GAAI,WAAW;4BAAE,GAAG,CAAC;4BAAE,GAAG,OAAO;wBAAC,IAAK;gBAC3F,YAAY;gBACZ,cAAc;YAChB,OAAO;gBACL,SAAS;gBACT,MAAM,MAAM,MAAM,MAAM,cAAc;oBACpC,QAAQ;oBACR,aAAa;oBACb,SAAS;wBAAE,gBAAgB;oBAAmB;oBAC9C,MAAM,KAAK,SAAS,CAAC;gBACvB;gBACA,IAAI,CAAC,IAAI,EAAE,EAAE;oBACX,MAAM,MAAM,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;oBAC5C,MAAM,IAAI,MAAM,KAAK,WAAW,CAAC,uBAAuB,EAAE,IAAI,MAAM,CAAC,CAAC,CAAC;gBACzE;gBACA,MAAM,OAAO,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM;gBAC1C,MAAM,UAAU,MAAM,QAAQ;gBAC9B,SAAS,CAAC,OAAS;wBAAC,WAAW;4BAAE,IAAI,KAAK,GAAG;4BAAI,GAAG,OAAO;wBAAC;2BAAM;qBAAK;gBACvE,cAAc;YAChB;QACF,EAAE,OAAO,KAAU;YACjB,QAAQ,KAAK,CAAC,6BAA6B;YAC3C,MAAM,YAAY,CAAC,KAAK,WAAW,eAAe;QACpD;IACF;IAEA,0BAA0B;IAC1B,SAAS;QACP,YAAY;QACZ,cAAc;IAChB;IAEA,4BAA4B;IAC5B,SAAS,WAAW,IAAS;QAC3B,YAAY;QACZ,cAAc;IAChB;IAEA,gBAAgB;IAChB,eAAe,oBAAoB,IAAS;QAC1C,iBAAiB;IACnB;IACA,eAAe,iBAAiB,IAAS;QACvC,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,CAAC,WAAW,EAAE,mBAAmB,KAAK,EAAE,GAAG,EAAE;gBACnE,QAAQ;gBACR,aAAa;YACf;YACA,IAAI,CAAC,IAAI,EAAE,EAAE;gBACX,MAAM,MAAM,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;gBAC5C,MAAM,IAAI,MAAM,KAAK,WAAW,CAAC,eAAe,EAAE,IAAI,MAAM,CAAC,CAAC,CAAC;YACjE;YACA,SAAS,CAAC,OAAS,KAAK,MAAM,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,KAAK,EAAE;YACtD,iBAAiB;QACnB,EAAE,OAAO,KAAU;YACjB,QAAQ,KAAK,CAAC,sBAAsB;YACpC,MAAM,4BAA4B,CAAC,KAAK,WAAW,SAAS;QAC9D;IACF;IAEA,SAAS,oBAAoB,IAAS;QACpC,2BAA2B;QAC3B,gBAAgB;IAClB;IAEA,SAAS,sBAAsB,OAAY;QACzC,qBAAqB;QACrB,2BAA2B;QAC3B,gBAAgB;IAChB,4BAA4B;IAC9B;IAEA,qBACE;;0BACE,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;;sCAEb,8OAAC,oMAAM,CAAC,GAAG;4BAAC,SAAS;gCAAE,SAAS;gCAAG,GAAG,CAAC;4BAAG;4BAAG,SAAS;gCAAE,SAAS;gCAAG,GAAG;4BAAE;4BAAG,YAAY;gCAAE,UAAU;4BAAI;4BAAG,WAAU;;8CACnH,8OAAC;oCAAG,WAAU;8CAAqD;;;;;;8CACnE,8OAAC;oCAAE,WAAU;;sDAAyC,8OAAC,6MAAK;4CAAC,WAAU;;;;;;wCAAY;;;;;;;;;;;;;sCAIrF,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAS,MAAM,6MAAK;oCAAE,OAAM;oCAAc,OAAO,OAAO,MAAM,MAAM;oCAAG,UAAS;oCAAgB,UAAS;oCAA4B,OAAO;;;;;;8CAC7I,8OAAC;oCAAS,MAAM,sNAAQ;oCAAE,OAAM;oCAAiB,OAAO,OAAO,MAAM,MAAM,CAAC,CAAC,GAAE,IAAI,IAAE,CAAC,EAAE,OAAO,EAAE,UAAQ,CAAC,GAAE;oCAAK,UAAS;oCAAmB,UAAS;oCAA+B,OAAO;;;;;;8CAC5L,8OAAC;oCAAS,MAAM,gNAAM;oCAAE,OAAM;oCAAkB,OAAO,OAAO,MAAM,MAAM,CAAC,CAAC,GAAE,IAAI,IAAE,CAAC,EAAE,QAAQ,IAAE,CAAC,GAAE;oCAAK,UAAS;oCAAc,UAAS;oCAAgC,OAAO;;;;;;8CAChL,8OAAC;oCAAS,MAAM,6MAAK;oCAAE,OAAM;oCAAiB,OAAO,GAAG,KAAK,KAAK,CAAE,MAAM,MAAM,CAAC,CAAC,GAAE,IAAI,IAAE,CAAC,EAAE,UAAU,IAAE,CAAC,GAAE,KAAK,KAAK,GAAG,CAAC,GAAG,MAAM,MAAM,GAAI,CAAC,CAAC;oCAAE,UAAS;oCAAsB,UAAS;oCAA8B,OAAO;;;;;;;;;;;;sCAIhO,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,gNAAM;4CAAC,WAAU;;;;;;sDAClB,8OAAC;4CACC,MAAK;4CACL,aAAY;4CACZ,OAAO;4CACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;4CAC9C,WAAU;;;;;;;;;;;;8CAId,8OAAC,oMAAM,CAAC,MAAM;oCAAC,SAAS;oCAAY,YAAY;wCAAE,OAAO;oCAAK;oCAAG,UAAU;wCAAE,OAAO;oCAAK;oCAAG,WAAU;;sDACpG,8OAAC,0MAAI;4CAAC,WAAU;;;;;;wCAAY;;;;;;;;;;;;;sCAKhC,8OAAC;4BAAI,WAAU;sCACZ,6BACC,8OAAC;gCAAI,WAAU;0CAAiE;;;;;uCAC9E,cAAc,MAAM,KAAK,kBAC3B,8OAAC;gCAAI,WAAU;0CAA6E;;;;;uCAE5F,cAAc,GAAG,CAAC,CAAC,MAAM,kBACvB,8OAAC;oCAEC,MAAM;oCACN,OAAO,OAAO,IAAI;oCAClB,gBAAgB;oCAChB,QAAQ;oCACR,UAAU;mCALL,KAAK,EAAE;;;;;;;;;;wBAWnB,4BAAc,8OAAC;4BAAI,WAAU;sCAA8B;;;;;;;;;;;;;;;;;0BAKhE,8OAAC,4MAAe;0BACb,CAAC,cAAc,QAAQ,mBACtB,8OAAC,oMAAM,CAAC,GAAG;oBAAC,SAAS;wBAAE,SAAS;oBAAE;oBAAG,SAAS;wBAAE,SAAS;oBAAE;oBAAG,MAAM;wBAAE,SAAS;oBAAE;oBAAG,WAAU;;sCAC5F,8OAAC,oMAAM,CAAC,GAAG;4BAAC,SAAS;gCAAE,SAAS;4BAAE;4BAAG,SAAS;gCAAE,SAAS;4BAAE;4BAAG,MAAM;gCAAE,SAAS;4BAAE;4BAAG,YAAY;gCAAE,UAAU;4BAAK;4BAAG,WAAU;4BAAgD,SAAS;gCAAQ,cAAc;gCAAQ,YAAY;4BAAO;;;;;;sCACxO,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;gCACC,UAAU;gCACV,WAAW;gCACX,cAAc;gCACd,aAAa,YAAY;gCACzB,UAAU,CAAC,UAAiB,yBAAyB;gCACrD,UAAU,CAAC,IAAY,UAAiB,yBAAyB,SAAS;wCAAE,QAAQ;wCAAM;oCAAG;gCAC7F,SAAS;oCAAQ,cAAc;oCAAQ,YAAY;gCAAO;;;;;;;;;;;;;;;;;;;;;;0BAQpE,8OAAC,4MAAe;0BACb,+BACC,8OAAC,oMAAM,CAAC,GAAG;oBAAC,SAAS;wBAAE,SAAS;oBAAE;oBAAG,SAAS;wBAAE,SAAS;oBAAE;oBAAG,MAAM;wBAAE,SAAS;oBAAE;oBAAG,WAAU;;sCAC5F,8OAAC,oMAAM,CAAC,GAAG;4BAAC,SAAS;gCAAE,SAAS;4BAAE;4BAAG,SAAS;gCAAE,SAAS;4BAAE;4BAAG,MAAM;gCAAE,SAAS;4BAAE;4BAAG,YAAY;gCAAE,UAAU;4BAAK;4BAAG,WAAU;4BAA+B,SAAS,IAAM,iBAAiB;;;;;;sCAC7L,8OAAC,oMAAM,CAAC,GAAG;4BAAC,SAAS;gCAAE,OAAO;4BAAK;4BAAG,SAAS;gCAAE,OAAO;4BAAE;4BAAG,MAAM;gCAAE,OAAO;4BAAK;4BAAG,YAAY;gCAAE,UAAU;4BAAK;4BAAG,WAAU;;8CAC5H,8OAAC;oCAAG,WAAU;8CAAwB;;;;;;8CACtC,8OAAC;oCAAE,WAAU;8CAA8B;;;;;;8CAC3C,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAO,WAAU;4CAAuB,SAAS,IAAM,iBAAiB;sDAAO;;;;;;sDAChF,8OAAC;4CAAO,WAAU;4CAA8C,SAAS,IAAM,iBAAiB;sDAAgB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAQ1H,8OAAC,4MAAe;0BACb,gBAAgB,yCACf,8OAAC,oMAAM,CAAC,GAAG;oBAAC,SAAS;wBAAE,SAAS;oBAAE;oBAAG,SAAS;wBAAE,SAAS;oBAAE;oBAAG,MAAM;wBAAE,SAAS;oBAAE;oBAAG,WAAU;;sCAC5F,8OAAC,oMAAM,CAAC,GAAG;4BAAC,SAAS;gCAAE,SAAS;4BAAE;4BAAG,SAAS;gCAAE,SAAS;4BAAE;4BAAG,MAAM;gCAAE,SAAS;4BAAE;4BAAG,YAAY;gCAAE,UAAU;4BAAK;4BAAG,WAAU;4BAAgD,SAAS;gCAAQ,gBAAgB;gCAAQ,2BAA2B;4BAAO;;;;;;sCACzP,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC,oKAAmB;gCAAC,MAAM;gCAAyB,SAAS;oCAAQ,gBAAgB;oCAAQ,2BAA2B;gCAAO;gCAAG,YAAY,CAAC,IAAM,sBAAsB;;;;;;;;;;;;;;;;;;;;;;;;AAOzL","debugId":null}}]
}